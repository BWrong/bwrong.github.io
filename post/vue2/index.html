
<!DOCTYPE html>
<html lang="zh-CN">
<head>
 <meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta HTTP-EQUIV="pragma" CONTENT="no-cache">
<meta HTTP-EQUIV="Cache-Control" CONTENT="no-cache, must-revalidate">
<meta HTTP-EQUIV="expires" CONTENT="0">
<meta name="author" content="bwrong, wang11535041@qq.com"/>
<meta name="keywords" content="VUE2.0å­¦ä¹ ç¬”è®° | BWrongçš„å°ç«™,å‰ç«¯,krpano,js,vue"/>
<meta name="description" content="å¤©é’è‰²ç­‰çƒŸé›¨ï¼Œè€Œæˆ‘åœ¨ç­‰ä½ "/>
<!-- <title>VUE2.0å­¦ä¹ ç¬”è®° | BWrongçš„å°ç«™</title> -->
<title>ç½‘ç«™æ­å»ºæµ‹è¯•</title>
<link href="https://www.bwrong.cn/media/css/fz.css" rel="stylesheet">
<link rel="stylesheet" href="https://www.bwrong.cn/styles/main.css">
<script type="text/javascript">
function getCSS()
{
        datetoday = new Date();
        timenow=datetoday.getTime();
        datetoday.setTime(timenow);
        thehour = datetoday.getHours();

        if (thehour<5)

            display = "https://www.bwrong.cn/media/css/night.css";

       else if (thehour>20)

            display = "https://www.bwrong.cn/media/css/night.css";

        else if (thehour>5)
     
            display = "https://www.bwrong.cn/media/css/day.css";

        else if (thehour<20)

            display = "https://www.bwrong.cn/media/css/day.css";


var css = '<';
        css+='link rel="stylesheet" href='+display+' \/';
        css+='>';
        document.write(css);
}
</script>
<link href="https://at.alicdn.com/t/font_1306644_ko4c4at97is.css" rel="stylesheet" />
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://www.bwrong.cn/media/css/katex.min.css">
<script type='text/javascript' src='https://www.bwrong.cn/media/scripts/script.js'></script>
<link href="https://cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet" />
  <script src="https://cdn.bootcss.com/wow/1.1.2/wow.min.js"></script>
  <script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>wow=new WOW({boxClass:'wow',animateClass:'animated',offset:0,mobile:true,live:true});wow.init();</script>

<script type="text/javascript">
window.onload=getCSS();
</script>
<!-- ç™¾åº¦ç»Ÿè®¡ -->
<script>
var _hmt = _hmt || [];
(function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?2c0e9e3f54ae20480b34c178578c4df8";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
})();
</script>


</head>
<body class="post-template-default single single-post postid-70 single-format-standard">
    <div id="wrapper">

	
<header id="header" class="site-header"
		
		>
			<div class="site-branding">
									<h1 class="site-title"><a href="https://www.bwrong.cn" rel="home">BWrongçš„å°ç«™</a></h1>

					<h2 class="site-description">å¤©é’è‰²ç­‰çƒŸé›¨ï¼Œè€Œæˆ‘åœ¨ç­‰ä½ </h2>

							</div>
			<nav id="nav-wrapper">
				<div class="container">
					<div class="nav-toggle">
						<div class="bars">
							<div class="bar"></div>
							<div class="bar"></div>
							<div class="bar"></div>
						</div>
					</div>
					<div class="clear"></div>
					<ul id="" class="dove">
		 

<li>

	
		<a href="/">
		  é¦–é¡µ
		</a>
	  

    

<li>

	
		<a href="/archives/index.html">
		  å½’æ¡£
		</a>
	  

    

<li>

	
		<a href="/post/about/">
		  å…³äº
		</a>
	  

    

</ul>
</li>

</ul>				</div>
			</nav>
						<div class="jingge">


    

    

<a  href="https://github.com/BWrong" target="_blank" ><i class="iconfont icon-github"></i></a>
 
    

    

    

    

<a  href="https://juejin.cn/user/3421335914820280" target="_blank" ><i class="iconfont icon-telegram"></i></a>
 
    

    

    

    

    

    
        </header>


		<div id="content" class="container">
			<div class="row">
	<div class="col-md-8 site-main">

<article id="post-70" class="post-70 post type-post status-publish format-standard hentry category-5 tag-10 tag-9 tag-11">



		<div class="entry-content">
			<h1 data-wow-delay="0.4s"  class="wow fadeInUp entry-title">VUE2.0å­¦ä¹ ç¬”è®°</h1>
<div class="entry-meta">
<div class="wow fadeInUp"  data-wow-delay="0.6s">
	<i class="iconfont icon-rili"> <time class="lately-a" datetime="2017-05-10 11:08:44" itemprop="datePublished" pubdate="">2017-05-10</time></i>
	          </div>

</span>

		</div>

			<div class="wow fadeInUp entry-summary song"  data-wow-delay="0.1s">
				<h1 id="1å‰è¨€">1.å‰è¨€</h1>
<h2 id="å®‰è£…">å®‰è£…</h2>
<ul>
<li>ç›´æ¥ç”¨ <code>&lt;script&gt;</code> å¼•å…¥ï¼ˆæœ¬åœ°æˆ–è€…cdnï¼‰</li>
<li>npm <code>npm install vue</code></li>
<li>vue-cliå®˜æ–¹è„šæ‰‹æ¶</li>
</ul>
<pre><code># å…¨å±€å®‰è£… vue-cli
$ npm install --global vue-cli
# åˆ›å»ºä¸€ä¸ªåŸºäº webpack æ¨¡æ¿çš„æ–°é¡¹ç›®
$ vue init webpack my-project
# å®‰è£…ä¾èµ–ï¼Œèµ°ä½ 
$ cd my-project
$ npm install
$ npm run dev
</code></pre>
<h2 id="ç®€ä»‹">ç®€ä»‹</h2>
<p>Vue (è¯»éŸ³ /vjuË/ï¼Œç±»ä¼¼äº view) æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ã€‚Vue çš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œå¯¹åº”viewã€‚</p>
<p>Vueæ•°æ®é©±åŠ¨ï¼ŒjQueryæ˜¯ç»“æ„é©±åŠ¨</p>
<h2 id="åŸç†">åŸç†</h2>
<p>å†…éƒ¨ä½¿ç”¨Object.definePropertyï¼ˆæœ€ä½æ”¯æŒIE9ï¼‰æŠŠæ‰€æœ‰å±æ€§å…¨éƒ¨è½¬ä¸º getter/setterï¼Œä¸ºæ¯ä¸ªç»„ä»¶ç»‘å®šäº†watcher å®ä¾‹å¯¹è±¡ï¼Œå¹¶ä¸”æŠŠå±æ€§ä½œä¸ºä¾èµ–é¡¹ï¼Œå½“ä¾èµ–é¡¹çš„setterè°ƒç”¨æ—¶ï¼Œwatcherå°†ä¼šé‡æ–°è®¡ç®—ï¼Œä»è€Œæ›´æ–°ç»„ä»¶ã€‚</p>
<ul>
<li>[ç»„ä»¶render]-&lt;åˆ›å»º&gt;-[getterã€setter]-&lt;æ”¶é›†ä¾èµ–&gt;-[watcher]</li>
<li>[è§¦å‘setter]-&lt;é€šçŸ¥&gt;-[watcher]-&lt;è§¦å‘&gt;-[ç»„ä»¶æ¸²æŸ“å‡½æ•°]-&lt;æ›´æ–°&gt;-[ç»„ä»¶]<br>
<img src="https://cn.vuejs.org/images/data.png" alt="image" loading="lazy"></li>
</ul>
<figure data-type="image" tabindex="1"><img src="https://raw.githubusercontent.com/zoro-web/blog/master/img/vue-template(1).png" alt="image" loading="lazy"></figure>
<h2 id="å¼€å‘ç¯å¢ƒ">å¼€å‘ç¯å¢ƒ</h2>
<ul>
<li>vueTools</li>
<li>vscodeã€Veturã€Vue2 Snippetsã€‘</li>
<li>weboack</li>
</ul>
<h1 id="2å®ä¾‹">2.å®ä¾‹</h1>
<h2 id="å£°æ˜å¼æ¸²æŸ“">å£°æ˜å¼æ¸²æŸ“</h2>
<pre><code>&lt;!--html--&gt;
&lt;div id=&quot;app&quot;&gt;
  {{ message }}
&lt;/div&gt;
</code></pre>
<pre><code>//js
var vm = new Vue({
  el: '#app',
  data: {
    message: 'Hello Vue!'
  }
})
</code></pre>
<h2 id="æ•°æ®ä¸æ–¹æ³•">æ•°æ®ä¸æ–¹æ³•</h2>
<p>å½“ä¸€ä¸ª Vue å®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œå®ƒå‘ Vue çš„å“åº”å¼ç³»ç»Ÿä¸­åŠ å…¥äº†å…¶ data å¯¹è±¡ä¸­èƒ½æ‰¾åˆ°çš„æ‰€æœ‰çš„å±æ€§ã€‚å½“è¿™äº›å±æ€§çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè§†å›¾å°†ä¼šäº§ç”Ÿâ€œå“åº”â€ï¼Œå³åŒ¹é…æ›´æ–°ä¸ºæ–°çš„å€¼ã€‚</p>
<pre><code>// æˆ‘ä»¬çš„æ•°æ®å¯¹è±¡
var data = { a: 1 }

// è¯¥å¯¹è±¡è¢«åŠ å…¥åˆ°ä¸€ä¸ª Vue å®ä¾‹ä¸­
var vm = new Vue({
  data: data
})

// ä»–ä»¬å¼•ç”¨ç›¸åŒçš„å¯¹è±¡ï¼
vm.a === data.a // =&gt; true

// è®¾ç½®å±æ€§ä¹Ÿä¼šå½±å“åˆ°åŸå§‹æ•°æ®
vm.a = 2
data.a // =&gt; 2

// ... åä¹‹äº¦ç„¶
data.a = 3
vm.a // =&gt; 3
</code></pre>
<p>å½“è¿™äº›æ•°æ®æ”¹å˜æ—¶ï¼Œè§†å›¾ä¼šè¿›è¡Œé‡æ¸²æŸ“ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯åªæœ‰å½“å®ä¾‹è¢«åˆ›å»ºæ—¶ data ä¸­å­˜åœ¨çš„å±æ€§æ˜¯å“åº”å¼çš„ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§ï¼Œå°†ä¸ä¼šè§¦å‘ä»»ä½•è§†å›¾çš„æ›´æ–°ã€‚å¦‚æœä½ çŸ¥é“ä½ ä¼šåœ¨æ™šäº›æ—¶å€™éœ€è¦ä¸€ä¸ªå±æ€§ï¼Œä½†æ˜¯ä¸€å¼€å§‹å®ƒä¸ºç©ºæˆ–ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä½ ä»…éœ€è¦è®¾ç½®ä¸€äº›åˆå§‹å€¼ã€‚</p>
<pre><code>var data = { a: 1 }
var vm = new Vue({
  el: '#example',
  data: data
})

vm.$data === data // =&gt; true
vm.$el === document.getElementById('example') // =&gt; true

// $watch æ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•
vm.$watch('a', function (newValue, oldValue) {
  // è¿™ä¸ªå›è°ƒå°†åœ¨ `vm.a` æ”¹å˜åè°ƒç”¨
})
</code></pre>
<h4 id="è‡ªèº«å±æ€§å’Œæ–¹æ³•">è‡ªèº«å±æ€§å’Œæ–¹æ³•</h4>
<p>vueå®ä¾‹è‡ªèº«æš´éœ²çš„å±æ€§å’Œæ–¹æ³•é€šè¿‡å‰ç¼€$æ¥è·å–</p>
<pre><code>var data = { a: 1 }
var vm = new Vue({
  el: '#example',
  data: data
})

vm.$data === data // =&gt; true
vm.$el === document.getElementById('example') // =&gt; true
</code></pre>
<h2 id="å®ä¾‹ç”Ÿå‘½å‘¨æœŸ">å®ä¾‹ç”Ÿå‘½å‘¨æœŸ</h2>
<p>æ¯ä¸ª Vue å®ä¾‹åœ¨è¢«åˆ›å»ºä¹‹å‰éƒ½è¦ç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼ˆç”Ÿå‘½å‘¨æœŸï¼‰ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šè¿è¡Œä¸€äº›å«åšç”Ÿå‘½å‘¨æœŸé’©å­çš„å‡½æ•°ï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸åŒé˜¶æ®µæ·»åŠ è‡ªå·±çš„ä»£ç æ¥åšä¸€äº›äº‹æƒ…ã€‚<br>
<img src="https://cn.vuejs.org/images/lifecycle.png" alt="image" loading="lazy"></p>
<ul>
<li><code>beforeCreate:</code>åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹ (data observer) å’Œ event/watcher äº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨ã€‚</li>
<li><code>created:</code>åœ¨å®ä¾‹åˆ›å»ºå®Œæˆåè¢«ç«‹å³è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šæ•°æ®è§‚æµ‹ (data observer)ï¼Œå±æ€§å’Œæ–¹æ³•çš„è¿ç®—ï¼Œwatch/event äº‹ä»¶å›è°ƒã€‚ç„¶è€Œï¼ŒæŒ‚è½½é˜¶æ®µè¿˜æ²¡å¼€å§‹ï¼Œ$el å±æ€§ç›®å‰ä¸å¯è§ã€‚</li>
<li><code>beforeMount:</code>åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ã€‚</li>
<li><code>mounted:</code>el è¢«æ–°åˆ›å»ºçš„ vm.$el æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨è¯¥é’©å­ã€‚</li>
<li><code>beforeUpdate:</code>æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰ã€‚</li>
<li><code>updated:</code>ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­</li>
<li><code>beforeDestroy:</code>å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚</li>
<li><code>destroyed:</code>Vue å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVue å®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚</li>
<li><code>activated/deactivatedï¼š</code>keep-alive ç»„ä»¶æ¿€æ´»/åœç”¨æ—¶è°ƒç”¨ï¼Œ</li>
<li><code>errorCapturedï¼š</code>å½“æ•è·ä¸€ä¸ªæ¥è‡ªå­å­™ç»„ä»¶çš„é”™è¯¯æ—¶è¢«è°ƒç”¨ã€‚æ­¤é’©å­ä¼šæ”¶åˆ°ä¸‰ä¸ªå‚æ•°ï¼šé”™è¯¯å¯¹è±¡ã€å‘ç”Ÿé”™è¯¯çš„ç»„ä»¶å®ä¾‹ä»¥åŠä¸€ä¸ªåŒ…å«é”™è¯¯æ¥æºä¿¡æ¯çš„å­—ç¬¦ä¸²ã€‚æ­¤é’©å­å¯ä»¥è¿”å› false ä»¥é˜»æ­¢è¯¥é”™è¯¯ç»§ç»­å‘ä¸Šä¼ æ’­ã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>beforeCreateï¼Œcreatedå¤–çš„é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚</li>
<li>ä¸è¦åœ¨é€‰é¡¹å±æ€§æˆ–å›è°ƒä¸Šä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œæ¯”å¦‚</li>
</ul>
<pre><code>//é”™è¯¯ï¼Œä¼šå¯¼è‡´thisä¸ä¼šæŒ‡å‘Vue å®ä¾‹
created: () =&gt; console.log(this.a)
vm.$watch('a', newValue =&gt; this.myMethod())
</code></pre>
<h3 id="vueå¯¹è±¡çš„é€‰é¡¹">Vueå¯¹è±¡çš„é€‰é¡¹</h3>
<pre><code>var vm = new Vue({
  // æ•°æ®
  data: &quot;å£°æ˜éœ€è¦å“åº”å¼ç»‘å®šçš„æ•°æ®å¯¹è±¡&quot;,
  props: &quot;æ¥æ”¶æ¥è‡ªçˆ¶ç»„ä»¶çš„æ•°æ®&quot;,
  propsData: &quot;åˆ›å»ºå®ä¾‹æ—¶æ‰‹åŠ¨ä¼ é€’propsï¼Œæ–¹ä¾¿æµ‹è¯•props&quot;,
  computed: &quot;è®¡ç®—å±æ€§&quot;,
  methods: &quot;å®šä¹‰å¯ä»¥é€šè¿‡vmå¯¹è±¡è®¿é—®çš„æ–¹æ³•&quot;,
  watch: &quot;Vueå®ä¾‹åŒ–æ—¶ä¼šè°ƒç”¨$watch()æ–¹æ³•éå†watchå¯¹è±¡çš„æ¯ä¸ªå±æ€§&quot;,
  // DOM
  el: &quot;å°†é¡µé¢ä¸Šå·²å­˜åœ¨çš„DOMå…ƒç´ ä½œä¸ºVueå®ä¾‹çš„æŒ‚è½½ç›®æ ‡&quot;,
  template: &quot;å¯ä»¥æ›¿æ¢æŒ‚è½½å…ƒç´ çš„å­—ç¬¦ä¸²æ¨¡æ¿&quot;,
  render: &quot;æ¸²æŸ“å‡½æ•°ï¼Œå­—ç¬¦ä¸²æ¨¡æ¿çš„æ›¿ä»£æ–¹æ¡ˆ&quot;,
  renderError: &quot;ä»…ç”¨äºå¼€å‘ç¯å¢ƒï¼Œåœ¨render()å‡ºç°é”™è¯¯æ—¶ï¼Œæä¾›å¦å¤–çš„æ¸²æŸ“è¾“å‡º&quot;,
  // ç”Ÿå‘½å‘¨æœŸé’©å­
  beforeCreate: &quot;å‘ç”Ÿåœ¨Vueå®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œdata observerå’Œevent/watcheräº‹ä»¶è¢«é…ç½®ä¹‹å‰&quot;,
  created: &quot;å‘ç”Ÿåœ¨Vueå®ä¾‹åˆå§‹åŒ–ä»¥åŠdata observerå’Œevent/watcheräº‹ä»¶è¢«é…ç½®ä¹‹å&quot;,
  beforeMount: &quot;æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼Œæ­¤æ—¶render()é¦–æ¬¡è¢«è°ƒç”¨&quot;,
  mounted: &quot;elè¢«æ–°å»ºçš„vm.$elæ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šä¹‹åè°ƒç”¨&quot;,
  beforeUpdate: &quot;æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹ŸDOMé‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰&quot;,
  updated: &quot;æ•°æ®æ›´æ”¹å¯¼è‡´è™šæ‹ŸDOMé‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹åè¢«è°ƒç”¨&quot;,
  activated: &quot;keep-aliveç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨&quot;,
  deactivated: &quot;keep-aliveç»„ä»¶åœç”¨æ—¶è°ƒç”¨&quot;,
  beforeDestroy: &quot;å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ï¼ŒVueå®ä¾‹ä¾ç„¶å¯ç”¨&quot;,
  destroyed: &quot;Vueå®ä¾‹é”€æ¯åè°ƒç”¨ï¼Œäº‹ä»¶ç›‘å¬å’Œå­å®ä¾‹å…¨éƒ¨è¢«ç§»é™¤ï¼Œé‡Šæ”¾ç³»ç»Ÿèµ„æº&quot;,
  // èµ„æº
  directives: &quot;åŒ…å«Vueå®ä¾‹å¯ç”¨æŒ‡ä»¤çš„å“ˆå¸Œè¡¨&quot;,
  filters: &quot;åŒ…å«Vueå®ä¾‹å¯ç”¨è¿‡æ»¤å™¨çš„å“ˆå¸Œè¡¨&quot;,
  components: &quot;åŒ…å«Vueå®ä¾‹å¯ç”¨ç»„ä»¶çš„å“ˆå¸Œè¡¨&quot;,
  // ç»„åˆ
  parent: &quot;æŒ‡å®šå½“å‰å®ä¾‹çš„çˆ¶å®ä¾‹ï¼Œå­å®ä¾‹ç”¨this.$parentè®¿é—®çˆ¶å®ä¾‹ï¼Œçˆ¶å®ä¾‹é€šè¿‡$childrenæ•°ç»„è®¿é—®å­å®ä¾‹&quot;,
  mixins: &quot;å°†å±æ€§æ··å…¥Vueå®ä¾‹å¯¹è±¡ï¼Œå¹¶åœ¨Vueè‡ªèº«å®ä¾‹å¯¹è±¡çš„å±æ€§è¢«è°ƒç”¨ä¹‹å‰å¾—åˆ°æ‰§è¡Œ&quot;,
  extends: &quot;ç”¨äºå£°æ˜ç»§æ‰¿å¦ä¸€ä¸ªç»„ä»¶ï¼Œä»è€Œæ— éœ€ä½¿ç”¨Vue.extendï¼Œä¾¿äºæ‰©å±•å•æ–‡ä»¶ç»„ä»¶&quot;,
  provide&amp;inject: &quot;2ä¸ªå±æ€§éœ€è¦ä¸€èµ·ä½¿ç”¨ï¼Œç”¨æ¥å‘æ‰€æœ‰å­ç»„ä»¶æ³¨å…¥ä¾èµ–ï¼Œç±»ä¼¼äºReactçš„Context&quot;,
  // å…¶å®ƒ
  name: &quot;å…è®¸ç»„ä»¶é€’å½’è°ƒç”¨è‡ªèº«ï¼Œä¾¿äºè°ƒè¯•æ—¶æ˜¾ç¤ºæ›´åŠ å‹å¥½çš„è­¦å‘Šä¿¡æ¯&quot;,
  delimiters: &quot;æ”¹å˜æ¨¡æ¿å­—ç¬¦ä¸²çš„é£æ ¼ï¼Œé»˜è®¤ä¸º{{}}&quot;,
  functional: &quot;è®©ç»„ä»¶æ— çŠ¶æ€(æ²¡æœ‰data)å’Œæ— å®ä¾‹(æ²¡æœ‰thisä¸Šä¸‹æ–‡)&quot;,
  model: &quot;å…è®¸è‡ªå®šä¹‰ç»„ä»¶ä½¿ç”¨v-modelæ—¶å®šåˆ¶propå’Œevent&quot;,
  inheritAttrs: &quot;é»˜è®¤æƒ…å†µä¸‹ï¼Œçˆ¶ä½œç”¨åŸŸçš„épropså±æ€§ç»‘å®šä¼šåº”ç”¨åœ¨å­ç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šã€‚å½“ç¼–å†™åµŒå¥—æœ‰å…¶å®ƒç»„ä»¶æˆ–å…ƒç´ çš„ç»„ä»¶æ—¶ï¼Œå¯ä»¥å°†è¯¥å±æ€§è®¾ç½®ä¸ºfalseå…³é—­è¿™äº›é»˜è®¤è¡Œä¸º&quot;,
  comments: &quot;è®¾ä¸ºtrueæ—¶ä¼šä¿ç•™å¹¶ä¸”æ¸²æŸ“æ¨¡æ¿ä¸­çš„HTMLæ³¨é‡Š&quot;
});
</code></pre>
<h1 id="3æ¨¡æ¿è¯­æ³•">3.æ¨¡æ¿è¯­æ³•</h1>
<p>Vue.js ä½¿ç”¨äº†åŸºäº HTML çš„æ¨¡æ¿è¯­æ³•ï¼Œå¿…é¡»æ˜¯åˆæ³•çš„ HTMLã€‚åœ¨åº•å±‚çš„å®ç°ä¸Šï¼ŒVue å°†æ¨¡æ¿ç¼–è¯‘æˆè™šæ‹Ÿ DOM æ¸²æŸ“å‡½æ•°ã€‚</p>
<h2 id="æ’å€¼">æ’å€¼</h2>
<h4 id="æ–‡æœ¬">æ–‡æœ¬</h4>
<pre><code>&lt;!--Mustache--&gt;
&lt;span&gt;Message: {{ msg }}&lt;/span&gt;
&lt;!--v-text--&gt;
&lt;span v-text=&quot;msg&quot;&gt;&lt;/span&gt;
&lt;!--v-once:ä¸€æ¬¡æ€§æ’å€¼--&gt;
&lt;span v-once&gt;è¿™ä¸ªå°†ä¸ä¼šæ”¹å˜: {{ msg }}&lt;/span&gt;

</code></pre>
<h4 id="html">HTML</h4>
<pre><code>&lt;p&gt;Using v-html directive: &lt;span v-html=&quot;rawHtml&quot;&gt;&lt;/span&gt;&lt;/p&gt;
</code></pre>
<p>åªå¯¹å¯ä¿¡å†…å®¹ä½¿ç”¨ HTML æ’å€¼ï¼Œç»ä¸è¦å¯¹ç”¨æˆ·æä¾›çš„å†…å®¹ä½¿ç”¨æ’å€¼ã€‚</p>
<h4 id="ç‰¹æ€§">ç‰¹æ€§</h4>
<pre><code>&lt;div v-bind:id=&quot;dynamicId&quot;&gt;&lt;/div&gt;
</code></pre>
<p>åœ¨æ’å€¼ä¸­å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼Œä½†åªé™ç®€å•è¡¨è¾¾å¼ã€‚</p>
<pre><code>{{ message.split('').reverse().join('') }}
&lt;div v-bind:id=&quot;'list-' + id&quot;&gt;&lt;/div&gt;
</code></pre>
<h2 id="æŒ‡ä»¤">æŒ‡ä»¤</h2>
<p>æŒ‡ä»¤ (Directives) æ˜¯å¸¦æœ‰ v- å‰ç¼€çš„ç‰¹æ®Šå±æ€§ã€‚<br>
æŒ‡ä»¤çš„èŒè´£æ˜¯ï¼Œå½“è¡¨è¾¾å¼çš„å€¼æ”¹å˜æ—¶ï¼Œå°†å…¶äº§ç”Ÿçš„è¿å¸¦å½±å“ï¼Œå“åº”å¼åœ°ä½œç”¨äº DOMã€‚</p>
<pre><code>&lt;p v-if=&quot;seen&quot;&gt;ç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†&lt;/p&gt;
&lt;a v-on:click=&quot;doSomething&quot;&gt;...&lt;/a&gt;
</code></pre>
<table>
<thead>
<tr>
<th>æŒ‡ä»¤</th>
<th>é¢„æœŸ/é™åˆ¶</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>v-text</td>
<td>string</td>
<td>æ–‡æœ¬æ’å€¼</td>
</tr>
<tr>
<td>v-html</td>
<td>string</td>
<td>htmlæ’å€¼</td>
</tr>
<tr>
<td>v-show</td>
<td>any</td>
<td>æ¡ä»¶æ˜¾ç¤º</td>
</tr>
<tr>
<td>v-ifã€v-elseã€v-else-if</td>
<td>any</td>
<td>æ¡ä»¶æ¸²æŸ“</td>
</tr>
<tr>
<td>v-for</td>
<td>Array/Object/number/string</td>
<td>åˆ—è¡¨æ¸²æŸ“</td>
</tr>
<tr>
<td>v-on(@)</td>
<td>Function/Inline Statement/Object</td>
<td>äº‹ä»¶ç»‘å®š</td>
</tr>
<tr>
<td>v-bind(ğŸ˜ƒ</td>
<td>any (with argument)/Object (without argument)</td>
<td>ç‰¹æ€§ç»‘å®š</td>
</tr>
<tr>
<td>v-model</td>
<td>ä»…é™<input>/<select>/<textarea>/componentså…ƒç´ ä½¿ç”¨</td>
<td>åŒå‘ç»‘å®š</td>
</tr>
<tr>
<td>v-pre</td>
<td></td>
<td>å¿½ç•¥ç¼–è¯‘</td>
</tr>
<tr>
<td>v-cloak</td>
<td></td>
<td>é¿å…æ˜¾ç¤ºMustache</td>
</tr>
<tr>
<td>v-once</td>
<td></td>
<td>ä¸€æ¬¡æ€§æ¸²æŸ“</td>
</tr>
</tbody>
</table>
<h4 id="ä¿®é¥°ç¬¦">ä¿®é¥°ç¬¦</h4>
<p>ä¿®é¥°ç¬¦ (Modifiers) æ˜¯ä»¥åŠè§’å¥å· . æŒ‡æ˜çš„ç‰¹æ®Šåç¼€ï¼Œç”¨äºæŒ‡å‡ºä¸€ä¸ªæŒ‡ä»¤åº”è¯¥ä»¥ç‰¹æ®Šæ–¹å¼ç»‘å®šã€‚</p>
<pre><code>&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;...&lt;/form&gt;
</code></pre>
<ul>
<li><strong>v-onèƒ½ä½¿ç”¨çš„ä¿®é¥°ç¬¦ï¼š</strong></li>
</ul>
<table>
<thead>
<tr>
<th>ä¿®é¥°ç¬¦</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>.stop</td>
<td>è°ƒç”¨ event.stopPropagation()ã€‚</td>
</tr>
<tr>
<td>.prevent</td>
<td>è°ƒç”¨ event.preventDefault()ã€‚</td>
</tr>
<tr>
<td>.capture</td>
<td>æ·»åŠ äº‹ä»¶ä¾¦å¬å™¨æ—¶ä½¿ç”¨ capture æ¨¡å¼ã€‚</td>
</tr>
<tr>
<td>.self</td>
<td>åªå½“äº‹ä»¶æ˜¯ä»ä¾¦å¬å™¨ç»‘å®šçš„å…ƒç´ æœ¬èº«è§¦å‘æ—¶æ‰è§¦å‘å›è°ƒã€‚</td>
</tr>
<tr>
<td>.{keyCode / keyAlias}</td>
<td>åªå½“äº‹ä»¶æ˜¯ä»ç‰¹å®šé”®è§¦å‘æ—¶æ‰è§¦å‘å›è°ƒã€‚</td>
</tr>
<tr>
<td>.native</td>
<td>ç›‘å¬ç»„ä»¶æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ã€‚</td>
</tr>
<tr>
<td>.once</td>
<td>åªè§¦å‘ä¸€æ¬¡å›è°ƒã€‚</td>
</tr>
<tr>
<td>.left</td>
<td>(2.2.0) åªå½“ç‚¹å‡»é¼ æ ‡å·¦é”®æ—¶è§¦å‘ã€‚</td>
</tr>
<tr>
<td>.right</td>
<td>(2.2.0) åªå½“ç‚¹å‡»é¼ æ ‡å³é”®æ—¶è§¦å‘ã€‚</td>
</tr>
<tr>
<td>.middle</td>
<td>(2.2.0) åªå½“ç‚¹å‡»é¼ æ ‡ä¸­é”®æ—¶è§¦å‘ã€‚</td>
</tr>
<tr>
<td>.passive</td>
<td>(2.3.0) ä»¥ { passive: true } æ¨¡å¼æ·»åŠ ä¾¦å¬å™¨</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>v-bindèƒ½ä½¿ç”¨çš„ä¿®é¥°ç¬¦ï¼š</strong></li>
</ul>
<table>
<thead>
<tr>
<th>ä¿®é¥°ç¬¦</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>.prop</td>
<td>è¢«ç”¨äºç»‘å®š DOM å±æ€§ (property)ã€‚(å·®åˆ«åœ¨å“ªé‡Œï¼Ÿ)</td>
</tr>
<tr>
<td>.camel</td>
<td>(2.1.0+) å°† kebab-case ç‰¹æ€§åè½¬æ¢ä¸º camelCase. (ä» 2.1.0 å¼€å§‹æ”¯æŒ)</td>
</tr>
<tr>
<td>.sync</td>
<td>(2.3.0+) è¯­æ³•ç³–ï¼Œä¼šæ‰©å±•æˆä¸€ä¸ªæ›´æ–°çˆ¶ç»„ä»¶ç»‘å®šå€¼çš„ v-on ä¾¦å¬å™¨ã€‚</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>v-modelèƒ½ä½¿ç”¨çš„ä¿®é¥°ç¬¦ï¼š</strong></li>
</ul>
<table>
<thead>
<tr>
<th>ä¿®é¥°ç¬¦</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>.lazy</td>
<td>å–ä»£ input ç›‘å¬ change äº‹ä»¶</td>
</tr>
<tr>
<td>.number</td>
<td>è¾“å…¥å­—ç¬¦ä¸²è½¬ä¸ºæ•°å­—</td>
</tr>
<tr>
<td>.trim</td>
<td>è¾“å…¥é¦–å°¾ç©ºæ ¼è¿‡æ»¤</td>
</tr>
</tbody>
</table>
<h1 id="4è®¡ç®—å±æ€§å’Œè§‚å¯Ÿè€…">4.è®¡ç®—å±æ€§å’Œè§‚å¯Ÿè€…</h1>
<h2 id="è®¡ç®—å±æ€§">è®¡ç®—å±æ€§</h2>
<p>å¯¹äºä»»ä½•å¤æ‚é€»è¾‘ï¼Œä½ éƒ½åº”å½“ä½¿ç”¨è®¡ç®—å±æ€§ï¼Œè€Œä¸åº”ç›´æ¥æ”¾åœ¨æ¨¡æ¿ä¸­ã€‚</p>
<p>è®¡ç®—å±æ€§ä¹Ÿæ˜¯å“åº”å¼çš„ï¼Œä½†æ˜¯å®ƒä¼šåŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„ï¼Œ<strong>åªæœ‰å½“ç¼“å­˜æ”¹å˜ï¼Œå®ƒæ‰ä¼šé‡æ–°æ±‚å€¼</strong>ï¼›å¦åˆ™ä¼šç›´æ¥è¿”å›ç¼“å­˜çš„ç»“æœï¼Œè€Œä¸å¿…å†æ¬¡æ‰§è¡Œå‡½æ•°ã€‚</p>
<p>åº”å½“ä¼˜å…ˆä½¿ç”¨è®¡ç®—å±æ€§è€Œä¸æ˜¯ä¾¦å¬å±æ€§ã€‚</p>
<pre><code class="language-html">&lt;div id=&quot;example&quot;&gt;
  &lt;p&gt;Original message: &quot;{{ message }}&quot;&lt;/p&gt;
  &lt;p&gt;Computed reversed message: &quot;{{ reversedMessage }}&quot;&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-js">var vm = new Vue({
  el: '#example',
  data: {
    message: 'Hello'
  },
  computed: {
    // è®¡ç®—å±æ€§çš„ getter
    reversedMessage: function () {
      // `this` æŒ‡å‘ vm å®ä¾‹
      return this.message.split('').reverse().join('')
    }
  }
})
</code></pre>
<p>ä¸‹é¢çš„è®¡ç®—å±æ€§ä¸ä¼šæ›´æ–°ï¼Œå› ä¸ºDate.now() ä¸æ˜¯å“åº”å¼ä¾èµ–ã€‚</p>
<pre><code class="language-js">computed: {
  now: function () {
    return Date.now()
  }
}
</code></pre>
<h4 id="è®¡ç®—å±æ€§ç¼“å­˜-vs-æ–¹æ³•">è®¡ç®—å±æ€§ç¼“å­˜ vs æ–¹æ³•</h4>
<pre><code>&lt;p&gt;Reversed message: &quot;{{ reversedMessage() }}&quot;&lt;/p&gt;
</code></pre>
<pre><code class="language-js">// åœ¨ç»„ä»¶ä¸­
methods: {
  reversedMessage: function () {
    return this.message.split('').reverse().join('')
  }
}
</code></pre>
<p>æ–¹æ³•åœ¨æ¯æ¬¡è°ƒç”¨æ—¶<strong>æ€»ä¼šå†æ¬¡æ‰§è¡Œå‡½æ•°</strong>ã€‚</p>
<h4 id="setter">setter</h4>
<p>è®¡ç®—å±æ€§é»˜è®¤åªæœ‰ getter ï¼Œä¸è¿‡åœ¨éœ€è¦æ—¶ä½ ä¹Ÿå¯ä»¥æä¾›ä¸€ä¸ª setter</p>
<pre><code>computed: {
  fullName: {
    // getter
    get: function () {
      return this.firstName + ' ' + this.lastName
    },
    // setter
    set: function (newValue) {
      var names = newValue.split(' ')
      this.firstName = names[0]
      this.lastName = names[names.length - 1]
    }
  }
}
</code></pre>
<h2 id="ä¾¦å¬å™¨">ä¾¦å¬å™¨</h2>
<pre><code>&lt;div id=&quot;watch-example&quot;&gt;
  &lt;p&gt;
    Ask a yes/no question:
    &lt;input v-model=&quot;question&quot;&gt;
  &lt;/p&gt;
  &lt;p&gt;{{ answer }}&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<pre><code>watch: {
    // å¦‚æœ `question` å‘ç”Ÿæ”¹å˜ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šè¿è¡Œ
    question: function (newQuestion, oldQuestion) {
      this.answer = 'Waiting for you to stop typing...'
      this.getAnswer()
    }
  }
</code></pre>
<h4 id="é”€æ¯">é”€æ¯</h4>
<pre><code>// const unWatch = app.$watch('text', (newText, oldText) =&gt; {
//   console.log(`${newText} : ${oldText}`)
// })
// setTimeout(() =&gt; {
//   unWatch()
// }, 2000)
</code></pre>
<h1 id="5-classä¸styleç»‘å®š">5. Classä¸Styleç»‘å®š</h1>
<h2 id="class">Class</h2>
<h4 id="å¯¹è±¡è¯­æ³•">å¯¹è±¡è¯­æ³•</h4>
<p>å½“valueä¸ºçœŸæ—¶ï¼Œç»‘å®šå¯¹åº”çš„keyåˆ°class</p>
<pre><code>&lt;!--å†…è”åœ¨æ¨¡æ¿ä¸­--&gt;
&lt;div class=&quot;static&quot;
     v-bind:class=&quot;{ active: isActive, 'text-danger': hasError }&quot;&gt;
&lt;/div&gt;
&lt;!--ç»‘å®šdataæˆ–è€…è®¡ç®—å±æ€§çš„çš„ä¸€ä¸ªå¯¹è±¡--&gt;
&lt;div v-bind:class=&quot;classObject&quot;&gt;&lt;/div&gt;
&lt;!--js--&gt;
data: {
  classObject: {
    active: true,
    'text-danger': false
  }
}
</code></pre>
<h4 id="æ•°ç»„è¯­æ³•">æ•°ç»„è¯­æ³•</h4>
<pre><code>&lt;!--æ¨¡æ¿--&gt;
&lt;div v-bind:class=&quot;[activeClass, errorClass]&quot;&gt;&lt;/div&gt;
&lt;!--js--&gt;
data: {
  activeClass: 'active',
  errorClass: 'text-danger'
}
&lt;!--ç»“æœ--&gt;
&lt;div class=&quot;active text-danger&quot;&gt;&lt;/div&gt;
</code></pre>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ã€‚</p>
<pre><code>// isActiveä¸ºçœŸæ·»åŠ activeClassï¼ŒerrorClasså§‹ç»ˆå­˜åœ¨
&lt;div v-bind:class=&quot;[isActive ? activeClass : '', errorClass]&quot;&gt;&lt;/div&gt;
</code></pre>
<h4 id="æ··åˆ">æ··åˆ</h4>
<pre><code>&lt;div v-bind:class=&quot;[{ active: isActive }, errorClass]&quot;&gt;&lt;/div&gt;
</code></pre>
<h4 id="ç”¨åœ¨ç»„ä»¶ä¸Š">ç”¨åœ¨ç»„ä»¶ä¸Š</h4>
<p>classå°†è¢«æ·»åŠ åˆ°è¯¥ç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šé¢ã€‚è¯¥å…ƒç´ ä¸Šå·²ç»å­˜åœ¨çš„classä¸ä¼šè¢«è¦†ç›–ã€‚</p>
<pre><code>&lt;my-component class=&quot;baz boo&quot;&gt;&lt;/my-component&gt;
</code></pre>
<p><strong>æ³¨æ„ï¼šå’Œæ™®é€šçš„classå¹¶å­˜ï¼Œå¹¶ä¸ä¼šè¦†ç›–ï¼ˆä¸åŒåï¼‰ï¼Œæœ€ç»ˆä¼šåˆæˆä¸€ä¸ªclassã€‚</strong></p>
<h2 id="style">Style</h2>
<p>è‡ªåŠ¨ä¾¦æµ‹å¹¶æ·»åŠ ç›¸åº”æµè§ˆå™¨å¼•æ“å‰ç¼€ã€‚</p>
<h4 id="å¯¹è±¡è¯­æ³•-2">å¯¹è±¡è¯­æ³•</h4>
<p>CSS å±æ€§åå¯ä»¥ç”¨é©¼å³°å¼ (camelCase) æˆ–çŸ­æ¨ªçº¿åˆ†éš” (kebab-caseï¼Œè®°å¾—ç”¨å•å¼•å·æ‹¬èµ·æ¥) æ¥å‘½åã€‚</p>
<pre><code>&lt;!--å†…è”åœ¨æ¨¡æ¿ä¸­--&gt;
&lt;div v-bind:style=&quot;{ color: activeColor, fontSize: fontSize + 'px' }&quot;&gt;&lt;/div&gt;
&lt;!--js--&gt;
data: {
  activeColor: 'red',
  fontSize: 30
}
&lt;!--ç»‘å®šdataæˆ–è€…è®¡ç®—å±æ€§çš„çš„ä¸€ä¸ªå¯¹è±¡--&gt;
&lt;div v-bind:style=&quot;styleObject&quot;&gt;&lt;/div&gt;
&lt;!--js--&gt;
data: {
  styleObject: {
    color: 'red',
    fontSize: '13px'
  }
}
</code></pre>
<h4 id="æ•°ç»„è¯­æ³•-2">æ•°ç»„è¯­æ³•</h4>
<p>å¯ä»¥å°†å¤šä¸ªæ ·å¼å¯¹è±¡åº”ç”¨åˆ°åŒä¸€ä¸ªå…ƒç´ ä¸Š</p>
<pre><code>&lt;div v-bind:style=&quot;[baseStyles, overridingStyles]&quot;&gt;&lt;/div&gt;
</code></pre>
<h4 id="å¤šé‡å€¼">å¤šé‡å€¼</h4>
<pre><code>&lt;!--å¸¸ç”¨äºæä¾›å¤šä¸ªå¸¦å‰ç¼€çš„å€¼--&gt;
&lt;div :style=&quot;{ display: ['-webkit-box', '-ms-flexbox', 'flex'] }&quot;&gt;&lt;/div&gt;
</code></pre>
<h1 id="6æ¡ä»¶æ¸²æŸ“">6.æ¡ä»¶æ¸²æŸ“</h1>
<h2 id="v-ifv-else-v-else-if">v-if(v-elseã€v-else-if)</h2>
<p>æ ¹æ®è¡¨è¾¾å¼çš„å€¼çš„çœŸå‡æ¡ä»¶æ¸²æŸ“å…ƒç´ ã€‚</p>
<pre><code>&lt;div v-if=&quot;type === 'A'&quot;&gt;
  A
&lt;/div&gt;
&lt;div v-else-if=&quot;type === 'B'&quot;&gt;
  B
&lt;/div&gt;
&lt;div v-else-if=&quot;type === 'C'&quot;&gt;
  C
&lt;/div&gt;
&lt;div v-else&gt;
  Not A/B/C
&lt;/div&gt;
</code></pre>
<p>å¦‚æœéœ€è¦æ¡ä»¶æ¸²æŸ“å¤šä¸ªå…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨<template>åŒ…è£¹ã€‚</p>
<pre><code>&lt;template v-if=&quot;ok&quot;&gt;
  &lt;h1&gt;Title&lt;/h1&gt;
  &lt;p&gt;Paragraph 1&lt;/p&gt;
  &lt;p&gt;Paragraph 2&lt;/p&gt;
&lt;/template&gt;
</code></pre>
<h6 id="key">key</h6>
<p>Vue ä¼šå°½å¯èƒ½é«˜æ•ˆåœ°æ¸²æŸ“å…ƒç´ ï¼Œé€šå¸¸ä¼šå¤ç”¨å·²æœ‰å…ƒç´ è€Œä¸æ˜¯ä»å¤´å¼€å§‹æ¸²æŸ“ã€‚<strong>æ·»åŠ ä¸€ä¸ªå…·æœ‰å”¯ä¸€å€¼çš„ key å±æ€§å¯ä»¥å¼ºåˆ¶å…¶é‡æ–°æ¸²æŸ“ã€‚</strong></p>
<h2 id="v-show">v-show</h2>
<p>æ ¹æ®è¡¨è¾¾å¼ä¹‹çœŸå‡å€¼ï¼Œåˆ‡æ¢å…ƒç´ çš„ display CSS å±æ€§ã€‚</p>
<pre><code>&lt;h1 v-show=&quot;ok&quot;&gt;Hello!&lt;/h1&gt;
</code></pre>
<h1 id="7åˆ—è¡¨æ¸²æŸ“">7.åˆ—è¡¨æ¸²æŸ“</h1>
<h2 id="æ•°ç»„">æ•°ç»„</h2>
<pre><code>&lt;!--æ™®é€š--&gt;
&lt;ul id=&quot;example&quot;&gt;
  &lt;li v-for=&quot;item in items&quot;&gt;
    {{ item.message }}
  &lt;/li&gt;
&lt;/ul&gt;
&lt;!--å¸¦ç´¢å¼•--&gt;
&lt;ul id=&quot;example&quot;&gt;
  &lt;li v-for=&quot;(item, index) in items&quot;&gt;
    {{ parentMessage }} - {{ index }} - {{ item.message }}
  &lt;/li&gt;
&lt;/ul&gt;
&lt;!--js--&gt;
var example = new Vue({
  el: '#example',
  data: {
    items: [
      { message: 'Foo' },
      { message: 'Bar' }
    ]
  }
})
</code></pre>
<h4 id="æ•°ç»„æ›´æ–°æ£€æµ‹">æ•°ç»„æ›´æ–°æ£€æµ‹</h4>
<p>åŒ…å«å˜å¼‚ï¼ˆæ”¹å˜åŸæ•°ç»„ï¼‰å’Œéå˜å¼‚ï¼ˆç”Ÿæˆæ–°æ•°ç»„ï¼Œä¸æ”¹å˜åŸæ•°ç»„ï¼‰ä¸¤ç»„æ–¹å¼ï¼Œéƒ½å°†è§¦å‘æ›´æ–°ã€‚</p>
<ul>
<li>å˜å¼‚æ–¹æ³•ï¼špush()ã€pop()ã€shift()ã€unshift()ã€splice()ã€sort()ã€reverse()</li>
<li>éå˜å¼‚æ–¹æ³•ï¼ˆéœ€ç”¨æ–°æ•°ç»„æ›¿æ¢åŸæ•°ç»„ï¼‰ï¼šfilter()ã€concat()ã€slice()</li>
</ul>
<p><strong>ä¸èƒ½æ£€æµ‹çš„å˜åŠ¨ï¼š</strong></p>
<ul>
<li>å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªé¡¹æ—¶ï¼Œä¾‹å¦‚ï¼švm.items[indexOfItem] = newValue</li>
<li>å½“ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚ï¼švm.items.length = newLength</li>
</ul>
<h2 id="å¯¹è±¡">å¯¹è±¡</h2>
<pre><code class="language-html">&lt;!--æ™®é€š--&gt;
&lt;li v-for=&quot;value in object&quot;&gt;
{{ value }}
&lt;/li&gt;
&lt;!--å¸¦key--&gt;
&lt;div v-for=&quot;(value, key) in object&quot;&gt;
  {{ key }}: {{ value }}
&lt;/div&gt;
&lt;!--å¸¦keyã€ç´¢å¼•--&gt;
&lt;div v-for=&quot;(value, key, index) in object&quot;&gt;
  {{ index }}. {{ key }}: {{ value }}
&lt;/div&gt;
&lt;!--js--&gt;
new Vue({
  data: {
    object: {
      firstName: 'John',
      lastName: 'Doe',
      age: 30
    }
  }
})
</code></pre>
<h4 id="å¯¹è±¡æ›´æ”¹æ£€æµ‹æ³¨æ„äº‹é¡¹">å¯¹è±¡æ›´æ”¹æ£€æµ‹æ³¨æ„äº‹é¡¹</h4>
<p>Vue ä¸èƒ½æ£€æµ‹å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤ã€‚</p>
<ul>
<li>å¯¹äºå·²ç»åˆ›å»ºçš„å®ä¾‹ï¼ŒVue ä¸èƒ½åŠ¨æ€æ·»åŠ æ ¹çº§åˆ«çš„å“åº”å¼å±æ€§ã€‚</li>
</ul>
<pre><code>var vm = new Vue({
  data: {
    a: 1
  }
})
// `vm.a` ç°åœ¨æ˜¯å“åº”å¼çš„

vm.b = 2
// `vm.b` ä¸æ˜¯å“åº”å¼çš„
</code></pre>
<ul>
<li>å¯ä»¥ä½¿ç”¨ Vue.set(object, key, value) æ–¹æ³•å‘åµŒå¥—å¯¹è±¡æ·»åŠ å“åº”å¼å±æ€§</li>
</ul>
<pre><code>var vm = new Vue({
  data: {
    userProfile: {
      name: 'Anika'
    }
  }
})
vm.$set(this.userProfile, 'age', 27)
</code></pre>
<ul>
<li>å¤šä¸ªå±æ€§å¯ä»¥ä½¿ç”¨Object.assign() æˆ– _.extend()</li>
</ul>
<pre><code>this.userProfile = Object.assign({}, this.userProfile, {
  age: 27,
  favoriteColor: 'Vue Green'
})
</code></pre>
<h4 id="delete">delete</h4>
<p>å¯¹åº”çš„åˆ é™¤å±æ€§ä½¿ç”¨<code>vm.$delete(obj,key)</code></p>
<h2 id="key-2">key</h2>
<p>å½“ Vue.js ç”¨ v-for æ­£åœ¨æ›´æ–°å·²æ¸²æŸ“è¿‡çš„å…ƒç´ åˆ—è¡¨æ—¶ï¼Œå®ƒé»˜è®¤ç”¨â€œå°±åœ°å¤ç”¨â€ç­–ç•¥ã€‚<br>
å»ºè®®å°½å¯èƒ½åœ¨ä½¿ç”¨ v-for æ—¶ä¸ºæ¯ä¸€é¡¹æä¾›ä¸€ä¸ªå”¯ä¸€çš„ keyã€‚<br>
å¾ªç¯ç»„ä»¶çš„æ—¶å€™ï¼Œkeyæ˜¯å¿…é¡»çš„ã€‚</p>
<pre><code>&lt;div v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;
  &lt;!-- å†…å®¹ --&gt;
&lt;/div&gt;
</code></pre>
<h2 id="å…¶ä»–">å…¶ä»–</h2>
<ul>
<li>v-forçš„å¾ªç¯å¯¹è±¡ä¹Ÿå¯ä»¥æ˜¯è®¡ç®—å±æ€§å’Œå¸¦è¿”å›å€¼çš„method æ–¹æ³•ã€‚</li>
<li>åˆ©ç”¨å¸¦æœ‰ v-for çš„ <template> æ¸²æŸ“å¤šä¸ªå…ƒç´ </li>
</ul>
<pre><code>&lt;ul&gt;
  &lt;template v-for=&quot;item in items&quot;&gt;
    &lt;li&gt;{{ item.msg }}&lt;/li&gt;
    &lt;li class=&quot;divider&quot;&gt;&lt;/li&gt;
  &lt;/template&gt;
&lt;/ul&gt;
</code></pre>
<ul>
<li>v-forå’Œv-ifå¤„äºåŒä¸€èŠ‚ç‚¹æ—¶ï¼Œv-for å…·æœ‰æ¯” v-if æ›´é«˜çš„ä¼˜å…ˆçº§</li>
</ul>
<h1 id="8äº‹ä»¶å¤„ç†">8.äº‹ä»¶å¤„ç†</h1>
<h2 id="äº‹ä»¶">äº‹ä»¶</h2>
<pre><code>&lt;div id=&quot;example-3&quot;&gt;
  &lt;button v-on:click=&quot;say('hi')&quot;&gt;Say hi&lt;/button&gt;
  &lt;!--è®¿é—®åŸå§‹çš„ DOM äº‹ä»¶--&gt;
  &lt;button v-on:click=&quot;say2('what', $event)&quot;&gt;Say what&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-js">new Vue({
  el: '#example-3',
  methods: {
    say: function (message) {
      alert(message)
    },
    say2: function (message,event) {
        // ç°åœ¨æˆ‘ä»¬å¯ä»¥è®¿é—®åŸç”Ÿäº‹ä»¶å¯¹è±¡
        if (event) event.preventDefault()
      alert(message)
    }
  }
})
</code></pre>
<h2 id="äº‹ä»¶ä¿®é¥°ç¬¦">äº‹ä»¶ä¿®é¥°ç¬¦</h2>
<p>ä¿®é¥°ç¬¦å¯ä»¥ä¸²è”ï¼Œä»£ç ä¼šä»¥ä¸²è”çš„é¡ºåºäº§ç”Ÿã€‚</p>
<table>
<thead>
<tr>
<th>ä¿®é¥°ç¬¦</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>.stop</td>
<td>è°ƒç”¨ event.stopPropagation()ã€‚</td>
</tr>
<tr>
<td>.prevent</td>
<td>è°ƒç”¨ event.preventDefault()ã€‚</td>
</tr>
<tr>
<td>.capture</td>
<td>æ·»åŠ äº‹ä»¶ä¾¦å¬å™¨æ—¶ä½¿ç”¨ capture æ¨¡å¼ã€‚</td>
</tr>
<tr>
<td>.self</td>
<td>åªå½“äº‹ä»¶æ˜¯ä»ä¾¦å¬å™¨ç»‘å®šçš„å…ƒç´ æœ¬èº«è§¦å‘æ—¶æ‰è§¦å‘å›è°ƒã€‚</td>
</tr>
<tr>
<td>.once</td>
<td>åªè§¦å‘ä¸€æ¬¡å›è°ƒã€‚</td>
</tr>
</tbody>
</table>
<pre><code>&lt;!-- é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­ --&gt;
&lt;a v-on:click.stop=&quot;doThis&quot;&gt;&lt;/a&gt;

&lt;!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ --&gt;
&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt;

&lt;!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è” --&gt;
&lt;a v-on:click.stop.prevent=&quot;doThat&quot;&gt;&lt;/a&gt;

&lt;!-- åªæœ‰ä¿®é¥°ç¬¦ --&gt;
&lt;form v-on:submit.prevent&gt;&lt;/form&gt;

&lt;!-- æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼ --&gt;
&lt;!-- å³å…ƒç´ è‡ªèº«è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç† --&gt;
&lt;div v-on:click.capture=&quot;doThis&quot;&gt;...&lt;/div&gt;

&lt;!-- åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•° --&gt;
&lt;!-- å³äº‹ä»¶ä¸æ˜¯ä»å†…éƒ¨å…ƒç´ è§¦å‘çš„ --&gt;
&lt;div v-on:click.self=&quot;doThat&quot;&gt;...&lt;/div&gt;
&lt;!-- ç‚¹å‡»äº‹ä»¶å°†åªä¼šè§¦å‘ä¸€æ¬¡ï¼ˆå¯ç”¨äºè‡ªå®šä¹‰ç»„ä»¶ï¼‰ --&gt;
&lt;a v-on:click.once=&quot;doThis&quot;&gt;&lt;/a&gt;
</code></pre>
<p>Vue è¿˜å¯¹åº” addEventListener ä¸­çš„ passive é€‰é¡¹æä¾›äº† .passive ä¿®é¥°ç¬¦ï¼Œèƒ½å¤Ÿæå‡ç§»åŠ¨ç«¯çš„æ€§èƒ½ï¼Œä½†æ˜¯è¦é¿å…å’Œ.preventä¸€èµ·ä½¿ç”¨ã€‚</p>
<pre><code>&lt;!-- æ»šåŠ¨äº‹ä»¶çš„é»˜è®¤è¡Œä¸º (å³æ»šåŠ¨è¡Œä¸º) å°†ä¼šç«‹å³è§¦å‘ --&gt;
&lt;!-- è€Œä¸ä¼šç­‰å¾… `onScroll` å®Œæˆ  --&gt;
&lt;!-- è¿™å…¶ä¸­åŒ…å« `event.preventDefault()` çš„æƒ…å†µ --&gt;
&lt;div v-on:scroll.passive=&quot;onScroll&quot;&gt;...&lt;/div&gt;
</code></pre>
<h2 id="æŒ‰é”®ä¿®é¥°ç¬¦">æŒ‰é”®ä¿®é¥°ç¬¦</h2>
<p>åœ¨ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ£€æŸ¥å¸¸è§çš„é”®å€¼ã€‚Vue å…è®¸ä¸º v-on åœ¨ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶æ·»åŠ æŒ‰é”®ä¿®é¥°ç¬¦ã€‚</p>
<pre><code>&lt;!-- åªæœ‰åœ¨ `keyCode` æ˜¯ 13 æ—¶è°ƒç”¨ `vm.submit()` --&gt;
&lt;input v-on:keyup.13=&quot;submit&quot;&gt;
&lt;!-- ç¼©å†™è¯­æ³• --&gt;
&lt;input @keyup.enter=&quot;submit&quot;&gt;
</code></pre>
<ul>
<li><strong>å…¨éƒ¨çš„æŒ‰é”®åˆ«åï¼š</strong><code>.enter</code>ã€<code>.tab</code>ã€<code>.delete</code> (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)ã€<code>.esc</code>ã€<code>.space</code>ã€<code>.up</code>ã€<code>.down</code>ã€<code>.left</code>ã€<code>.right</code></li>
<li>è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦åˆ«å</li>
</ul>
<pre><code>// å¯ä»¥ä½¿ç”¨ `v-on:keyup.f1`
Vue.config.keyCodes.f1 = 112
</code></pre>
<ul>
<li>è‡ªåŠ¨åŒ¹é…æŒ‰é”®ä¿®é¥°ç¬¦</li>
</ul>
<pre><code>&lt;!--å¯ç›´æ¥å°† KeyboardEvent.key æš´éœ²çš„ä»»æ„æœ‰æ•ˆæŒ‰é”®åè½¬æ¢ä¸º kebab-case æ¥ä½œä¸ºä¿®é¥°ç¬¦ï¼š--&gt;
&lt;input @keyup.page-down=&quot;onPageDown&quot;&gt;
</code></pre>
<h2 id="ç³»ç»Ÿä¿®é¥°é”®">ç³»ç»Ÿä¿®é¥°é”®</h2>
<p><code>.ctrl</code>ã€<code>.alt</code>ã€<code>.shift</code>ã€<code>.meta</code>ã€‚<br>
åœ¨å’Œ keyup äº‹ä»¶ä¸€èµ·ç”¨æ—¶ï¼Œäº‹ä»¶è§¦å‘æ—¶ä¿®é¥°é”®å¿…é¡»å¤„äºæŒ‰ä¸‹çŠ¶æ€ã€‚æ¢å¥è¯è¯´ï¼Œåªæœ‰åœ¨æŒ‰ä½ ctrl çš„æƒ…å†µä¸‹é‡Šæ”¾å…¶å®ƒæŒ‰é”®ï¼Œæ‰èƒ½è§¦å‘ keyup.ctrlã€‚è€Œå•å•é‡Šæ”¾ ctrl ä¹Ÿä¸ä¼šè§¦å‘äº‹ä»¶ã€‚</p>
<pre><code>&lt;!-- Alt + C --&gt;
&lt;input @keyup.alt.67=&quot;clear&quot;&gt;

&lt;!-- Ctrl + Click --&gt;
&lt;div @click.ctrl=&quot;doSomething&quot;&gt;Do something&lt;/div&gt;
</code></pre>
<p><code>.exact</code> ä¿®é¥°ç¬¦å…è®¸ä½ æ§åˆ¶ç”±ç²¾ç¡®çš„ç³»ç»Ÿä¿®é¥°ç¬¦ç»„åˆè§¦å‘çš„äº‹ä»¶ã€‚</p>
<pre><code>&lt;!-- å³ä½¿ Alt æˆ– Shift è¢«ä¸€åŒæŒ‰ä¸‹æ—¶ä¹Ÿä¼šè§¦å‘ --&gt;
&lt;button @click.ctrl=&quot;onClick&quot;&gt;A&lt;/button&gt;

&lt;!-- æœ‰ä¸”åªæœ‰ Ctrl è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;
&lt;button @click.ctrl.exact=&quot;onCtrlClick&quot;&gt;A&lt;/button&gt;

&lt;!-- æ²¡æœ‰ä»»ä½•ç³»ç»Ÿä¿®é¥°ç¬¦è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;
&lt;button @click.exact=&quot;onClick&quot;&gt;A&lt;/button&gt;
</code></pre>
<h4 id="é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦">é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦</h4>
<p><code>.left</code>ã€<code>.right</code>ã€<code>.middle</code><br>
ä»…å“åº”ç‰¹å®šçš„é¼ æ ‡æŒ‰é’®</p>
<h1 id="9è¡¨å•è¾“å…¥ç»‘å®š">9.è¡¨å•è¾“å…¥ç»‘å®š</h1>
<h2 id="åŸºç¡€ç”¨æ³•">åŸºç¡€ç”¨æ³•</h2>
<p>å¯ä»¥ç”¨ <code>v-model</code> æŒ‡ä»¤åœ¨è¡¨å• <code>&lt;input&gt;</code> åŠ <code>&lt;textarea&gt;</code> å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šã€‚</p>
<p><code>v-model</code>ä»…ä¸º<code>v-on:input</code>å’Œ<code>v-bind:value</code>çš„<strong>è¯­æ³•ç³–</strong>è€Œå·²ã€‚</p>
<pre><code>&lt;input v-model=&quot;something&quot;&gt;
&lt;input
  v-bind:value=&quot;something&quot;
  v-on:input=&quot;something = $event.target.value&quot;&gt;
</code></pre>
<p>æ³¨æ„ï¼šv-model ä¼šå¿½ç•¥æ‰€æœ‰è¡¨å•å…ƒç´ çš„ <code>valueã€checkedã€selected</code> ç‰¹æ€§çš„åˆå§‹å€¼è€Œ<strong>æ€»æ˜¯å°† Vue å®ä¾‹çš„æ•°æ®ä½œä¸ºæ•°æ®æ¥æº</strong>ã€‚ä½ åº”è¯¥é€šè¿‡ JavaScript åœ¨ç»„ä»¶çš„ data é€‰é¡¹ä¸­å£°æ˜åˆå§‹å€¼ã€‚</p>
<ul>
<li>æ–‡æœ¬/å¤šè¡Œæ–‡æœ¬</li>
</ul>
<pre><code>&lt;input v-model=&quot;message&quot; placeholder=&quot;edit me&quot;&gt;
&lt;textarea v-model=&quot;message&quot; placeholder=&quot;add multiple lines&quot;&gt;&lt;/textarea&gt;
&lt;p&gt;Message is: {{ message }}&lt;/p&gt;
</code></pre>
<ul>
<li>å¤é€‰æ¡†</li>
</ul>
<pre><code>&lt;div id='example-3'&gt;
  &lt;input type=&quot;checkbox&quot; id=&quot;jack&quot; value=&quot;Jack&quot; v-model=&quot;checkedNames&quot;&gt;
  &lt;label for=&quot;jack&quot;&gt;Jack&lt;/label&gt;
  &lt;input type=&quot;checkbox&quot; id=&quot;john&quot; value=&quot;John&quot; v-model=&quot;checkedNames&quot;&gt;
  &lt;label for=&quot;john&quot;&gt;John&lt;/label&gt;
  &lt;input type=&quot;checkbox&quot; id=&quot;mike&quot; value=&quot;Mike&quot; v-model=&quot;checkedNames&quot;&gt;
  &lt;label for=&quot;mike&quot;&gt;Mike&lt;/label&gt;
  &lt;br&gt;
  &lt;span&gt;Checked names: {{ checkedNames }}&lt;/span&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-js">new Vue({
  el: '#example-3',
  data: {
    checkedNames: []
  }
})
//Checked names: [ &quot;Jack&quot;, &quot;John&quot;, &quot;Mike&quot; ]
</code></pre>
<ul>
<li>å•é€‰æŒ‰é’®</li>
</ul>
<pre><code>&lt;div id=&quot;example-4&quot;&gt;
  &lt;input type=&quot;radio&quot; id=&quot;one&quot; value=&quot;One&quot; v-model=&quot;picked&quot;&gt;
  &lt;label for=&quot;one&quot;&gt;One&lt;/label&gt;
  &lt;br&gt;
  &lt;input type=&quot;radio&quot; id=&quot;two&quot; value=&quot;Two&quot; v-model=&quot;picked&quot;&gt;
  &lt;label for=&quot;two&quot;&gt;Two&lt;/label&gt;
  &lt;br&gt;
  &lt;span&gt;Picked: {{ picked }}&lt;/span&gt;
&lt;/div&gt;
</code></pre>
<pre><code>new Vue({
  el: '#example-4',
  data: {
    picked: ''
  }
})
//Picked: Two
</code></pre>
<ul>
<li>é€‰æ‹©æ¡†</li>
</ul>
<pre><code>&lt;div id=&quot;example-5&quot;&gt;
  &lt;select v-model=&quot;selected&quot;&gt;
    &lt;option disabled value=&quot;&quot;&gt;è¯·é€‰æ‹©&lt;/option&gt;
    &lt;option&gt;A&lt;/option&gt;
    &lt;option&gt;B&lt;/option&gt;
    &lt;option&gt;C&lt;/option&gt;
  &lt;/select&gt;
  &lt;span&gt;Selected: {{ selected }}&lt;/span&gt;
&lt;/div&gt;
</code></pre>
<pre><code>new Vue({
  el: '...',
  data: {
    selected: ''
  }
})
//Selected: B
</code></pre>
<p>ä¸ºå¤šé€‰æ—¶åˆ™è¿”å›ä¸€ä¸ªæ•°ç»„<code>Selected: [ &quot;A&quot;, &quot;B&quot; ]</code></p>
<h2 id="å€¼ç»‘å®š">å€¼ç»‘å®š</h2>
<ul>
<li>å¤é€‰æ¡†</li>
</ul>
<pre><code>&lt;input
  type=&quot;checkbox&quot;
  v-model=&quot;toggle&quot;
  true-value=&quot;yes&quot;
  false-value=&quot;no&quot;
&gt;
</code></pre>
<ul>
<li>å•é€‰æŒ‰é’®</li>
</ul>
<pre><code>&lt;input type=&quot;radio&quot; v-model=&quot;pick&quot; v-bind:value=&quot;a&quot;&gt;
</code></pre>
<ul>
<li>é€‰æ‹©æ¡†çš„é€‰é¡¹</li>
</ul>
<pre><code>&lt;select v-model=&quot;selected&quot;&gt;
    &lt;!-- å†…è”å¯¹è±¡å­—é¢é‡ --&gt;
  &lt;option v-bind:value=&quot;{ number: 123 }&quot;&gt;123&lt;/option&gt;
&lt;/select&gt;
</code></pre>
<h2 id="ä¿®é¥°ç¬¦-2">ä¿®é¥°ç¬¦</h2>
<ul>
<li><code>.lazy</code>ï¼Œé»˜è®¤<code>input</code>äº‹ä»¶è§¦å‘ï¼Œä½¿ç”¨æ­¤ä¿®é¥°åˆ™æ”¹ä¸ºchangeäº‹ä»¶è§¦å‘</li>
</ul>
<pre><code>&lt;!-- åœ¨â€œchangeâ€æ—¶è€Œéâ€œinputâ€æ—¶æ›´æ–° --&gt;
&lt;input v-model.lazy=&quot;msg&quot; &gt;
</code></pre>
<ul>
<li><code>.number</code>å°†è¾“å…¥çš„å€¼è½¬æ¢ä¸ºæ•°å€¼</li>
<li><code>.trim</code>è¿‡æ»¤æ‰è¾“å…¥å†…å®¹çš„é¦–å°¾ç©ºç™½å­—ç¬¦</li>
</ul>
<h1 id="10ç»„ä»¶">10.ç»„ä»¶</h1>
<h2 id="ç®€ä»‹-2">ç®€ä»‹</h2>
<p><img src="https://cn.vuejs.org/images/components.png" alt="image" loading="lazy"><br>
ç»„ä»¶ (Component) æ˜¯ Vue.js æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚ç»„ä»¶å¯ä»¥æ‰©å±• HTML å…ƒç´ ï¼Œå°è£…å¯é‡ç”¨çš„ä»£ç ã€‚ç»„ä»¶æ˜¯å…·æœ‰ç‰¹æ®ŠåŠŸèƒ½çš„è‡ªå®šä¹‰å…ƒç´ ã€‚</p>
<p>æ‰€æœ‰çš„ Vue ç»„ä»¶åŒæ—¶ä¹Ÿéƒ½æ˜¯ Vue çš„å®ä¾‹ï¼Œæ‰€ä»¥å¯æ¥å—ç›¸åŒçš„é€‰é¡¹å¯¹è±¡ (é™¤äº†ä¸€äº›æ ¹çº§ç‰¹æœ‰çš„é€‰é¡¹) å¹¶æä¾›ç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚</p>
<h2 id="æ³¨å†Œç»„ä»¶">æ³¨å†Œç»„ä»¶</h2>
<h4 id="å…¨å±€ç»„ä»¶">å…¨å±€ç»„ä»¶</h4>
<pre><code>&lt;div id=&quot;example&quot;&gt;
  &lt;my-component&gt;&lt;/my-component&gt;
&lt;/div&gt;
//æ³¨æ„ç¡®ä¿åœ¨åˆå§‹åŒ–æ ¹å®ä¾‹ä¹‹å‰æ³¨å†Œç»„ä»¶
// æ³¨å†Œ
Vue.component('my-component', {
  template: '&lt;div&gt;A custom component!&lt;/div&gt;'
})
</code></pre>
<h4 id="å±€éƒ¨ç»„ä»¶">å±€éƒ¨ç»„ä»¶</h4>
<pre><code>var Child = {
  template: '&lt;div&gt;A custom component!&lt;/div&gt;'
}

new Vue({
  // ...
  components: {
    // &lt;my-component&gt; å°†åªåœ¨çˆ¶ç»„ä»¶æ¨¡æ¿ä¸­å¯ç”¨
    'my-component': Child
  }
})
</code></pre>
<h4 id="è‡ªåŠ¨æ³¨å†Œ">è‡ªåŠ¨æ³¨å†Œ</h4>
<p>webpack çš„ vue cli3+</p>
<pre><code>import Vue from 'vue'
import upperFirst from 'lodash/upperFirst'
import camelCase from 'lodash/camelCase'

const requireComponent = require.context(
  // å…¶ç»„ä»¶ç›®å½•çš„ç›¸å¯¹è·¯å¾„
  './components',
  // æ˜¯å¦æŸ¥è¯¢å…¶å­ç›®å½•
  false,
  // åŒ¹é…åŸºç¡€ç»„ä»¶æ–‡ä»¶åçš„æ­£åˆ™è¡¨è¾¾å¼
  /Base[A-Z]\w+\.(vue|js)$/
)

requireComponent.keys().forEach(fileName =&gt; {
  // è·å–ç»„ä»¶é…ç½®
  const componentConfig = requireComponent(fileName)

  // è·å–ç»„ä»¶çš„ PascalCase å‘½å
  const componentName = upperFirst(
    camelCase(
      // å‰¥å»æ–‡ä»¶åå¼€å¤´çš„ `'./` å’Œç»“å°¾çš„æ‰©å±•å
      fileName.replace(/^\.\/(.*)\.\w+$/, '$1')
    )
  )

  // å…¨å±€æ³¨å†Œç»„ä»¶
  Vue.component(
    componentName,
    // å¦‚æœè¿™ä¸ªç»„ä»¶é€‰é¡¹æ˜¯é€šè¿‡ `export default` å¯¼å‡ºçš„ï¼Œ
    // é‚£ä¹ˆå°±ä¼šä¼˜å…ˆä½¿ç”¨ `.default`ï¼Œ
    // å¦åˆ™å›é€€åˆ°ä½¿ç”¨æ¨¡å—çš„æ ¹ã€‚
    componentConfig.default || componentConfig
  )
})
</code></pre>
<h6 id="æ³¨æ„">æ³¨æ„</h6>
<ul>
<li>dataå¿…é¡»æ˜¯å¸¦returnçš„å‡½æ•°</li>
<li>å¦‚æœå°†ç»„ä»¶ç”¨äºåƒ <code>&lt;ul&gt;</code>ã€<code>&lt;ol&gt;</code>ã€<code>&lt;table&gt;</code>ã€<code>&lt;select&gt;</code> è¿™æ ·çš„å…ƒç´ é‡Œé¢ï¼Œä¸ºäº†éµå¾ªè§„èŒƒï¼Œåº”è¯¥ä½¿ç”¨isï¼š</li>
</ul>
<pre><code>&lt;table&gt;
  &lt;tr is=&quot;my-row&quot;&gt;&lt;/tr&gt;
&lt;/table&gt;
</code></pre>
<p>ä»¥ä¸‹ç±»å‹æ¨¡æ¿æ— æ­¤é™åˆ¶ï¼š<code>&lt;script type=&quot;text/x-template&quot;&gt;</code>ã€JavaScript å†…è”æ¨¡æ¿å­—ç¬¦ä¸²ã€<code>.vue</code> ç»„ä»¶</p>
<h2 id="å•æ–‡ä»¶ç»„ä»¶">å•æ–‡ä»¶ç»„ä»¶</h2>
<p>å¯ä»¥åŒ…å«<code>&lt;template&gt;</code>ã€<code>&lt;script&gt;</code>ã€<code>&lt;style&gt;</code>ã€<code>&lt;docs&gt;</code>å››ä¸ªå…ƒç´ ã€‚</p>
<ul>
<li><code>&lt;template&gt;</code>å†…åªå…è®¸æœ‰ä¸€ä¸ªæ ¹å…ƒç´ </li>
<li><code>&lt;style&gt;</code>å¯ä»¥æœ‰å¤šä¸ª</li>
<li><code>&lt;docs&gt;</code>è¯´æ˜æ–‡æ¡£</li>
<li><code>&lt;script&gt;</code>ã€<code>&lt;style&gt;</code>æ”¯æŒsrcå¯¼å…¥</li>
</ul>
<h2 id="ç»„ä»¶é€šä¿¡">ç»„ä»¶é€šä¿¡</h2>
<figure data-type="image" tabindex="2"><img src="https://cn.vuejs.org/images/props-events.png" alt="image" loading="lazy"></figure>
<h4 id="prop">Prop</h4>
<p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ã€‚</p>
<pre><code>Vue.component('child', {
  // å£°æ˜ props
  props: ['message'],
  // å°±åƒ data ä¸€æ ·ï¼Œprop ä¹Ÿå¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨
  // åŒæ ·ä¹Ÿå¯ä»¥åœ¨ vm å®ä¾‹ä¸­é€šè¿‡ this.message æ¥ä½¿ç”¨
  template: '&lt;span&gt;{{ message }}&lt;/span&gt;'
})
&lt;child message=&quot;hello!&quot;&gt;&lt;/child&gt;
</code></pre>
<h5 id="åŠ¨æ€-prop">åŠ¨æ€ Prop:</h5>
<pre><code>&lt;child v-bind:my-message=&quot;parentMsg&quot;&gt;&lt;/child&gt;
</code></pre>
<p>å¦‚æœä½ æƒ³æŠŠä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§ä½œä¸º prop è¿›è¡Œä¼ é€’ï¼Œå¯ä»¥ä½¿ç”¨ä¸å¸¦ä»»ä½•å‚æ•°çš„ v-bind</p>
<pre><code>todo: {
  text: 'Learn Vue',
  isComplete: false
}
&lt;todo-item v-bind=&quot;todo&quot;&gt;&lt;/todo-item&gt;
//ç­‰ä»·äº
&lt;todo-item
  v-bind:text=&quot;todo.text&quot;
  v-bind:is-complete=&quot;todo.isComplete&quot;
&gt;&lt;/todo-item&gt;
</code></pre>
<h5 id="å­—é¢é‡è¯­æ³•-vs-åŠ¨æ€è¯­æ³•">å­—é¢é‡è¯­æ³• vs åŠ¨æ€è¯­æ³•</h5>
<pre><code>&lt;!-- ä¼ é€’äº†ä¸€ä¸ªå­—ç¬¦ä¸² &quot;1&quot; --&gt;
&lt;comp some-prop=&quot;1&quot;&gt;&lt;/comp&gt;
&lt;!-- ä¼ é€’çœŸæ­£çš„æ•°å€¼ --&gt;
&lt;comp v-bind:some-prop=&quot;1&quot;&gt;&lt;/comp&gt;
</code></pre>
<h5 id="éªŒè¯">éªŒè¯</h5>
<p>ä¸ºç»„ä»¶çš„ prop æŒ‡å®šéªŒè¯è§„åˆ™ï¼Œä¼šåœ¨ç»„ä»¶å®ä¾‹åˆ›å»ºä¹‹å‰è¿›è¡Œæ ¡éªŒã€‚å¦‚æœä¼ å…¥çš„æ•°æ®ä¸ç¬¦åˆè¦æ±‚ï¼ŒVue ä¼šå‘å‡ºè­¦å‘Šã€‚</p>
<pre><code>Vue.component('example', {
  props: {
    // åŸºç¡€ç±»å‹æ£€æµ‹ (`null` æŒ‡å…è®¸ä»»ä½•ç±»å‹)
    propA: Number,
    // å¯èƒ½æ˜¯å¤šç§ç±»å‹
    propB: [String, Number],
    // å¿…ä¼ ä¸”æ˜¯å­—ç¬¦ä¸²
    propC: {
      type: String,
      required: true
    },
    // æ•°å€¼ä¸”æœ‰é»˜è®¤å€¼
    propD: {
      type: Number,
      default: 100
    },
    // æ•°ç»„/å¯¹è±¡çš„é»˜è®¤å€¼åº”å½“ç”±ä¸€ä¸ªå·¥å‚å‡½æ•°è¿”å›
    propE: {
      type: Object,
      default: function () {
        return { message: 'hello' }
      }
    },
    // è‡ªå®šä¹‰éªŒè¯å‡½æ•°
    propF: {
      validator: function (value) {
        return value &gt; 10
      }
    }
  }
})
</code></pre>
<p><strong>type å¯ä»¥æ˜¯ä¸‹é¢åŸç”Ÿæ„é€ å™¨</strong>ï¼š<code>String</code>ã€<code>Number</code>ã€<code>Boolean</code>ã€<code>Function</code>ã€<code>Object</code>ã€<code>Array</code>ã€<code>Symbol</code></p>
<p>ç»„ä»¶å¯ä»¥æ¥æ”¶ä»»æ„ä¼ å…¥çš„ç‰¹æ€§ï¼Œè¿™äº›ç‰¹æ€§éƒ½ä¼šè¢«æ·»åŠ åˆ°ç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šï¼Œä¸”ä¼šåšåˆå¹¶å¤„ç†ã€‚</p>
<h2 id="è‡ªå®šä¹‰äº‹ä»¶">è‡ªå®šä¹‰äº‹ä»¶</h2>
<p>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ã€‚</p>
<ul>
<li>ä½¿ç”¨ <code>$on(eventName)</code> ç›‘å¬äº‹ä»¶</li>
<li>ä½¿ç”¨ <code>$emit(eventName)</code> è§¦å‘äº‹ä»¶</li>
</ul>
<pre><code>&lt;div id=&quot;counter-event-example&quot;&gt;
  &lt;p&gt;{{ total }}&lt;/p&gt;
  &lt;button-counter v-on:increment=&quot;incrementTotal&quot;&gt;&lt;/button-counter&gt;
  &lt;button-counter v-on:increment=&quot;incrementTotal&quot;&gt;&lt;/button-counter&gt;
&lt;/div&gt;
</code></pre>
<pre><code>Vue.component('button-counter', {
  template: '&lt;button v-on:click=&quot;incrementCounter&quot;&gt;{{ counter }}&lt;/button&gt;',
  data: function () {
    return {
      counter: 0
    }
  },
  methods: {
    incrementCounter: function () {
      this.counter += 1
      this.$emit('increment')
    }
  },
})

new Vue({
  el: '#counter-event-example',
  data: {
    total: 0
  },
  methods: {
    incrementTotal: function () {
      this.total += 1
    }
  }
})
</code></pre>
<h2 id="çˆ¶å­åŒå‘é€šä¿¡">çˆ¶å­åŒå‘é€šä¿¡</h2>
<ul>
<li><code>.sync</code></li>
</ul>
<p><code>@update</code>çš„è¯­æ³•ç³–</p>
<pre><code>&lt;comp :foo.sync=&quot;bar&quot;&gt;&lt;/comp&gt;
this.$emit('update:foo', newValue)
</code></pre>
<p>ç­‰ä»·äº</p>
<pre><code>&lt;comp :foo=&quot;bar&quot; @update:foo=&quot;val =&gt; bar = val&quot;&gt;&lt;/comp&gt;
this.$emit('update:foo', newValue)
</code></pre>
<ul>
<li>v-model(ä»…é€‚ç”¨äºè¡¨å•è¾“å…¥ç»„ä»¶)</li>
</ul>
<p><code>v-on:input</code>å’Œ<code>v-bind:value</code>çš„è¯­æ³•ç³–</p>
<pre><code>&lt;input v-model=&quot;something&quot;&gt;
// é€šè¿‡ input äº‹ä»¶å¸¦å‡ºæ•°å€¼
this.$emit('input', Number(formattedValue))
</code></pre>
<p>ç­‰ä»·äº</p>
<pre><code>&lt;input
  v-bind:value=&quot;something&quot;
  v-on:input=&quot;something = $event.target.value&quot;&gt;
this.$emit('input', Number(formattedValue))
</code></pre>
<h2 id="éçˆ¶å­ç»„ä»¶é€šä¿¡">éçˆ¶å­ç»„ä»¶é€šä¿¡</h2>
<ul>
<li>ç®€å•åœºæ™¯<code>bus.js</code></li>
</ul>
<pre><code>var bus = new Vue()
// è§¦å‘ç»„ä»¶ A ä¸­çš„äº‹ä»¶
bus.$emit('id-selected', 1)
// åœ¨ç»„ä»¶ B åˆ›å»ºçš„é’©å­ä¸­ç›‘å¬äº‹ä»¶
bus.$on('id-selected', function (id) {
  // ...
})
</code></pre>
<p><strong>æ³¨ï¼š</strong> è¿˜å¯ä»¥ä½¿ç”¨<code>$refã€$parentã€$child</code>è¿›è¡Œé€šä¿¡ï¼Œä¸è¿‡<strong>ä¸æ¨è</strong>ã€‚</p>
<ul>
<li>å¤æ‚çš„åœºæ™¯è¯·ä½¿ç”¨vuex</li>
</ul>
<h2 id="æ’æ§½">æ’æ§½</h2>
<p>ä¸ºäº†è®©ç»„ä»¶å¯ä»¥ç»„åˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹å¼æ¥æ··åˆçˆ¶ç»„ä»¶çš„å†…å®¹ä¸å­ç»„ä»¶è‡ªå·±çš„æ¨¡æ¿ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºå†…å®¹åˆ†å‘ã€‚<br>
<strong>ç¼–è¯‘ä½œç”¨åŸŸï¼š</strong> çˆ¶ç»„ä»¶æ¨¡æ¿çš„å†…å®¹åœ¨çˆ¶ç»„ä»¶ä½œç”¨åŸŸå†…ç¼–è¯‘ï¼›å­ç»„ä»¶æ¨¡æ¿çš„å†…å®¹åœ¨å­ç»„ä»¶ä½œç”¨åŸŸå†…ç¼–è¯‘ã€‚</p>
<h4 id="å•ä¸ªæ’æ§½">å•ä¸ªæ’æ§½</h4>
<p>é™¤éå­ç»„ä»¶æ¨¡æ¿åŒ…å«è‡³å°‘ä¸€ä¸ª <code>&lt;slot&gt;</code> æ’å£ï¼Œå¦åˆ™çˆ¶ç»„ä»¶çš„å†…å®¹å°†ä¼šè¢«ä¸¢å¼ƒã€‚å½“å­ç»„ä»¶æ¨¡æ¿åªæœ‰ä¸€ä¸ªæ²¡æœ‰å±æ€§çš„æ’æ§½æ—¶ï¼Œçˆ¶ç»„ä»¶ä¼ å…¥çš„æ•´ä¸ªå†…å®¹ç‰‡æ®µå°†æ’å…¥åˆ°æ’æ§½æ‰€åœ¨çš„ DOM ä½ç½®ï¼Œå¹¶æ›¿æ¢æ‰æ’æ§½æ ‡ç­¾æœ¬èº«ã€‚</p>
<p>æœ€åˆåœ¨ <code>&lt;slot&gt;</code> æ ‡ç­¾ä¸­çš„ä»»ä½•å†…å®¹éƒ½è¢«è§†ä¸ºå¤‡ç”¨å†…å®¹ã€‚å¤‡ç”¨å†…å®¹åœ¨å­ç»„ä»¶çš„ä½œç”¨åŸŸå†…ç¼–è¯‘ï¼Œå¹¶ä¸”åªæœ‰åœ¨å®¿ä¸»å…ƒç´ ä¸ºç©ºï¼Œä¸”æ²¡æœ‰è¦æ’å…¥çš„å†…å®¹æ—¶æ‰æ˜¾ç¤ºå¤‡ç”¨å†…å®¹ã€‚</p>
<pre><code>&lt;!--å­ç»„ä»¶--&gt;
&lt;div&gt;
  &lt;h2&gt;æˆ‘æ˜¯å­ç»„ä»¶çš„æ ‡é¢˜&lt;/h2&gt;
  &lt;slot&gt;
    åªæœ‰åœ¨æ²¡æœ‰è¦åˆ†å‘çš„å†…å®¹æ—¶æ‰ä¼šæ˜¾ç¤ºã€‚
  &lt;/slot&gt;
&lt;/div&gt;

&lt;!--çˆ¶ç»„ä»¶--&gt;
&lt;div&gt;
  &lt;h1&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„æ ‡é¢˜&lt;/h1&gt;
  &lt;my-component&gt;
    &lt;p&gt;è¿™æ˜¯ä¸€äº›åˆå§‹å†…å®¹&lt;/p&gt;
    &lt;p&gt;è¿™æ˜¯æ›´å¤šçš„åˆå§‹å†…å®¹&lt;/p&gt;
  &lt;/my-component&gt;
&lt;/div&gt;

&lt;!--ç»“æœ--&gt;
&lt;div&gt;
  &lt;h1&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„æ ‡é¢˜&lt;/h1&gt;
  &lt;div&gt;
    &lt;h2&gt;æˆ‘æ˜¯å­ç»„ä»¶çš„æ ‡é¢˜&lt;/h2&gt;
    &lt;p&gt;è¿™æ˜¯ä¸€äº›åˆå§‹å†…å®¹&lt;/p&gt;
    &lt;p&gt;è¿™æ˜¯æ›´å¤šçš„åˆå§‹å†…å®¹&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<h4 id="å…·åæ’æ§½">å…·åæ’æ§½</h4>
<p><code>&lt;slot&gt;</code> å…ƒç´ å¯ä»¥ç”¨ä¸€ä¸ªç‰¹æ®Šçš„ç‰¹æ€§ name æ¥è¿›ä¸€æ­¥é…ç½®å¦‚ä½•åˆ†å‘å†…å®¹ã€‚å¤šä¸ªæ’æ§½å¯ä»¥æœ‰ä¸åŒçš„åå­—ã€‚å…·åæ’æ§½å°†åŒ¹é…å†…å®¹ç‰‡æ®µä¸­æœ‰å¯¹åº” slot ç‰¹æ€§çš„å…ƒç´ ã€‚</p>
<p>ä»ç„¶å¯ä»¥æœ‰ä¸€ä¸ªåŒ¿åæ’æ§½ï¼Œå®ƒæ˜¯é»˜è®¤æ’æ§½ï¼Œä½œä¸ºæ‰¾ä¸åˆ°åŒ¹é…çš„å†…å®¹ç‰‡æ®µçš„å¤‡ç”¨æ’æ§½ã€‚å¦‚æœæ²¡æœ‰é»˜è®¤æ’æ§½ï¼Œè¿™äº›æ‰¾ä¸åˆ°åŒ¹é…çš„å†…å®¹ç‰‡æ®µå°†è¢«æŠ›å¼ƒã€‚</p>
<pre><code>&lt;!--å­ç»„ä»¶--&gt;
&lt;div class=&quot;container&quot;&gt;
  &lt;header&gt;
    &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;
  &lt;/header&gt;
  &lt;main&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/main&gt;
  &lt;footer&gt;
    &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;
  &lt;/footer&gt;
&lt;/div&gt;

&lt;!--çˆ¶ç»„ä»¶--&gt;
&lt;app-layout&gt;
  &lt;h1 slot=&quot;header&quot;&gt;è¿™é‡Œå¯èƒ½æ˜¯ä¸€ä¸ªé¡µé¢æ ‡é¢˜&lt;/h1&gt;

  &lt;p&gt;ä¸»è¦å†…å®¹çš„ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;
  &lt;p&gt;å¦ä¸€ä¸ªä¸»è¦æ®µè½ã€‚&lt;/p&gt;

  &lt;p slot=&quot;footer&quot;&gt;è¿™é‡Œæœ‰ä¸€äº›è”ç³»ä¿¡æ¯&lt;/p&gt;
&lt;/app-layout&gt;

&lt;!--ç»“æœ--&gt;
&lt;div class=&quot;container&quot;&gt;
  &lt;header&gt;
    &lt;h1&gt;è¿™é‡Œå¯èƒ½æ˜¯ä¸€ä¸ªé¡µé¢æ ‡é¢˜&lt;/h1&gt;
  &lt;/header&gt;
  &lt;main&gt;
    &lt;p&gt;ä¸»è¦å†…å®¹çš„ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;
    &lt;p&gt;å¦ä¸€ä¸ªä¸»è¦æ®µè½ã€‚&lt;/p&gt;
  &lt;/main&gt;
  &lt;footer&gt;
    &lt;p&gt;è¿™é‡Œæœ‰ä¸€äº›è”ç³»ä¿¡æ¯&lt;/p&gt;
  &lt;/footer&gt;
&lt;/div&gt;
</code></pre>
<h4 id="ä½œç”¨åŸŸæ’æ§½">ä½œç”¨åŸŸæ’æ§½</h4>
<p>å’Œæ™®é€šçš„æ’æ§½å¯¹æ¯”ï¼Œèƒ½å¤Ÿä¼ é€’æ•°æ®ã€‚</p>
<pre><code>&lt;!--å­ç»„ä»¶--&gt;
&lt;div class=&quot;child&quot;&gt;
  &lt;slot text=&quot;hello from child&quot;&gt;&lt;/slot&gt;
&lt;/div&gt;

&lt;!--çˆ¶ç»„ä»¶--&gt;
&lt;div class=&quot;parent&quot;&gt;
  &lt;child&gt;
  &lt;!--2.5.0+ï¼Œslot-scope èƒ½è¢«ç”¨åœ¨ä»»æ„å…ƒç´ æˆ–ç»„ä»¶ä¸­è€Œä¸å†å±€é™äº &lt;template&gt;--&gt;
    &lt;template slot-scope=&quot;props&quot;&gt;
      &lt;span&gt;hello from parent&lt;/span&gt;
      &lt;span&gt;{{ props.text }}&lt;/span&gt;
    &lt;/template&gt;
  &lt;/child&gt;
&lt;/div&gt;

&lt;!--ç»“æœ--&gt;
&lt;div class=&quot;parent&quot;&gt;
  &lt;div class=&quot;child&quot;&gt;
    &lt;span&gt;hello from parent&lt;/span&gt;
    &lt;span&gt;hello from child&lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<h2 id="åŠ¨æ€ç»„ä»¶">åŠ¨æ€ç»„ä»¶</h2>
<p>é€šè¿‡ä½¿ç”¨ä¿ç•™çš„ <code>&lt;component&gt;</code> å…ƒç´ ï¼Œå¹¶å¯¹å…¶ is ç‰¹æ€§è¿›è¡ŒåŠ¨æ€ç»‘å®šï¼Œä½ å¯ä»¥åœ¨åŒä¸€ä¸ªæŒ‚è½½ç‚¹åŠ¨æ€åˆ‡æ¢å¤šä¸ªç»„ä»¶ï¼š</p>
<pre><code>var vm = new Vue({
  el: '#example',
  data: {
    currentView: 'home'
  },
  components: {
    home: { /* ... */ },
    posts: { /* ... */ },
    archive: { /* ... */ }
  }
})
</code></pre>
<h2 id="keep-alive">keep-alive</h2>
<p>æŠŠåˆ‡æ¢å‡ºå»çš„ç»„ä»¶ä¿ç•™åœ¨å†…å­˜ä¸­,ä¿ç•™å…¶çŠ¶æ€æˆ–é¿å…é‡æ–°æ¸²æŸ“</p>
<pre><code>&lt;keep-alive&gt;
  &lt;component :is=&quot;currentView&quot;&gt;
    &lt;!-- éæ´»åŠ¨ç»„ä»¶å°†è¢«ç¼“å­˜ï¼ --&gt;
  &lt;/component&gt;
&lt;/keep-alive&gt;
</code></pre>
<h2 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</h2>
<ul>
<li>ç»„ä»¶å¤ç”¨æ€§ï¼Œæ¾è€¦åˆ</li>
<li>è°¨æ…ä½¿ç”¨ref</li>
<li>åœ¨å¤§å‹åº”ç”¨ä¸­ä½¿ç”¨å¼‚æ­¥åŠ è½½</li>
<li>PascalCaseå£°æ˜ï¼Œ kebab-caseä½¿ç”¨</li>
<li>ä¸ºé€’å½’ç»„ä»¶æ·»åŠ name</li>
<li>å¯¹ä½å¼€é”€çš„é™æ€ç»„ä»¶ä½¿ç”¨ v-once</li>
</ul>
<h1 id="11è¿‡æ¸¡å’ŒåŠ¨ç”»">11.è¿‡æ¸¡å’ŒåŠ¨ç”»</h1>
<p>Vue åœ¨æ’å…¥ã€æ›´æ–°æˆ–è€…ç§»é™¤ DOM æ—¶ï¼Œæä¾›å¤šç§ä¸åŒæ–¹å¼çš„åº”ç”¨è¿‡æ¸¡æ•ˆæœã€‚</p>
<h2 id="å•å…ƒç´ ç»„ä»¶çš„è¿‡æ¸¡">å•å…ƒç´ /ç»„ä»¶çš„è¿‡æ¸¡</h2>
<p>é€‚ç”¨åœºæ™¯ï¼šæ¡ä»¶æ¸²æŸ“ (ä½¿ç”¨ v-if)ã€æ¡ä»¶å±•ç¤º (ä½¿ç”¨ v-show)ã€åŠ¨æ€ç»„ä»¶ã€ç»„ä»¶æ ¹èŠ‚ç‚¹</p>
<pre><code>&lt;div id=&quot;demo&quot;&gt;
  &lt;button v-on:click=&quot;show = !show&quot;&gt;
    Toggle
  &lt;/button&gt;
  &lt;transition name=&quot;fade&quot;&gt;
    &lt;p v-if=&quot;show&quot;&gt;hello&lt;/p&gt;
  &lt;/transition&gt;
&lt;/div&gt;
</code></pre>
<pre><code>new Vue({
  el: '#demo',
  data: {
    show: true
  }
})
</code></pre>
<pre><code>.fade-enter-active, .fade-leave-active {
  transition: opacity .5s;
}
.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {
  opacity: 0;
}
</code></pre>
<h4 id="è¿‡æ¸¡çš„ç±»å">è¿‡æ¸¡çš„ç±»å</h4>
<ul>
<li>v-enterï¼šå®šä¹‰è¿›å…¥è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ã€‚åœ¨å…ƒç´ è¢«æ’å…¥æ—¶ç”Ÿæ•ˆï¼Œåœ¨ä¸‹ä¸€ä¸ªå¸§ç§»é™¤ã€‚</li>
<li>v-enter-activeï¼šå®šä¹‰è¿‡æ¸¡çš„çŠ¶æ€ã€‚åœ¨å…ƒç´ æ•´ä¸ªè¿‡æ¸¡è¿‡ç¨‹ä¸­ä½œç”¨ï¼Œåœ¨å…ƒç´ è¢«æ’å…¥æ—¶ç”Ÿæ•ˆï¼Œåœ¨ transition/animation å®Œæˆä¹‹åç§»é™¤ã€‚è¿™ä¸ªç±»å¯ä»¥è¢«ç”¨æ¥å®šä¹‰è¿‡æ¸¡çš„è¿‡ç¨‹æ—¶é—´ï¼Œå»¶è¿Ÿå’Œæ›²çº¿å‡½æ•°ã€‚</li>
<li>v-enter-to: 2.1.8ç‰ˆåŠä»¥ä¸Š å®šä¹‰è¿›å…¥è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¸€å¸§åç”Ÿæ•ˆ (ä¸æ­¤åŒæ—¶ v-enter è¢«åˆ é™¤)ï¼Œåœ¨ transition/animation å®Œæˆä¹‹åç§»é™¤ã€‚</li>
<li>v-leave: å®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ã€‚åœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘æ—¶ç”Ÿæ•ˆï¼Œåœ¨ä¸‹ä¸€ä¸ªå¸§ç§»é™¤ã€‚</li>
<li>v-leave-activeï¼šå®šä¹‰è¿‡æ¸¡çš„çŠ¶æ€ã€‚åœ¨å…ƒç´ æ•´ä¸ªè¿‡æ¸¡è¿‡ç¨‹ä¸­ä½œç”¨ï¼Œåœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘åç«‹å³ç”Ÿæ•ˆï¼Œåœ¨ transition/animation å®Œæˆä¹‹åç§»é™¤ã€‚è¿™ä¸ªç±»å¯ä»¥è¢«ç”¨æ¥å®šä¹‰è¿‡æ¸¡çš„è¿‡ç¨‹æ—¶é—´ï¼Œå»¶è¿Ÿå’Œæ›²çº¿å‡½æ•°ã€‚</li>
<li>v-leave-to: 2.1.8ç‰ˆåŠä»¥ä¸Š å®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ã€‚åœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘ä¸€å¸§åç”Ÿæ•ˆ (ä¸æ­¤åŒæ—¶ v-leave è¢«åˆ é™¤)ï¼Œåœ¨ transition/animation å®Œæˆä¹‹åç§»é™¤ã€‚<br>
<img src="https://cn.vuejs.org/images/transition.png" alt="image" loading="lazy"></li>
</ul>
<h4 id="åŠ¨ç”»">åŠ¨ç”»</h4>
<p>åŠ¨ç”»åœ¨cssä¸­ä½¿ç”¨animationå³å¯ï¼Œå…¶ä»–å’Œè¿‡æ¸¡ç±»ä¼¼ã€‚</p>
<h4 id="è‡ªå®šä¹‰è¿‡æ¸¡çš„ç±»å">è‡ªå®šä¹‰è¿‡æ¸¡çš„ç±»å</h4>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ç‰¹æ€§æ¥è‡ªå®šä¹‰è¿‡æ¸¡ç±»åï¼š<br>
<code>enter-classã€enter-active-classã€enter-to-class (2.1.8+)ã€leave-classã€leave-active-classã€leave-to-class (2.1.8+)</code></p>
<pre><code>&lt;div id=&quot;example-3&quot;&gt;
  &lt;button @click=&quot;show = !show&quot;&gt;
    Toggle render
  &lt;/button&gt;
  &lt;transition
    name=&quot;custom-classes-transition&quot;
    enter-active-class=&quot;animated tada&quot;
    leave-active-class=&quot;animated bounceOutRight&quot;
  &gt;
    &lt;p v-if=&quot;show&quot;&gt;hello&lt;/p&gt;
  &lt;/transition&gt;
&lt;/div&gt;
</code></pre>
<h4 id="è®¾å®šæŒç»­æ—¶é—´">è®¾å®šæŒç»­æ—¶é—´</h4>
<pre><code>&lt;transition :duration=&quot;1000&quot;&gt;...&lt;/transition&gt;
&lt;transition :duration=&quot;{ enter: 500, leave: 800 }&quot;&gt;...&lt;/transition&gt;
</code></pre>
<h4 id="javascript-é’©å­">JavaScript é’©å­</h4>
<pre><code>&lt;transition
  v-on:before-enter=&quot;beforeEnter&quot;
  v-on:enter=&quot;enter&quot;
  v-on:after-enter=&quot;afterEnter&quot;
  v-on:enter-cancelled=&quot;enterCancelled&quot;

  v-on:before-leave=&quot;beforeLeave&quot;
  v-on:leave=&quot;leave&quot;
  v-on:after-leave=&quot;afterLeave&quot;
  v-on:leave-cancelled=&quot;leaveCancelled&quot;
&gt;
  &lt;!-- ... --&gt;
&lt;/transition&gt;
</code></pre>
<pre><code>// ...
methods: {
  // --------
  // è¿›å…¥ä¸­
  // --------

  beforeEnter: function (el) {
    // ...
  },
  // æ­¤å›è°ƒå‡½æ•°æ˜¯å¯é€‰é¡¹çš„è®¾ç½®ï¼Œdone æ˜¯å¿…é¡»çš„ 
  // ä¸ CSS ç»“åˆæ—¶ä½¿ç”¨
  enter: function (el, done) {
    // ...
    done()
  },
  afterEnter: function (el) {
    // ...
  },
  enterCancelled: function (el) {
    // ...
  },

  // --------
  // ç¦»å¼€æ—¶
  // --------

  beforeLeave: function (el) {
    // ...
  },
  // æ­¤å›è°ƒå‡½æ•°æ˜¯å¯é€‰é¡¹çš„è®¾ç½®ï¼Œdone æ˜¯å¿…é¡»çš„ 
  // ä¸ CSS ç»“åˆæ—¶ä½¿ç”¨
  leave: function (el, done) {
    // ...
    done()
  },
  afterLeave: function (el) {
    // ...
  },
  // leaveCancelled åªç”¨äº v-show ä¸­
  leaveCancelled: function (el) {
    // ...
  }
}
</code></pre>
<h2 id="åˆå§‹æ¸²æŸ“çš„è¿‡æ¸¡">åˆå§‹æ¸²æŸ“çš„è¿‡æ¸¡</h2>
<p>å¯ä»¥é€šè¿‡ appear ç‰¹æ€§è®¾ç½®èŠ‚ç‚¹åœ¨åˆå§‹æ¸²æŸ“çš„è¿‡æ¸¡</p>
<pre><code>&lt;!--css--&gt;
&lt;transition
  appear
  appear-class=&quot;custom-appear-class&quot;
  appear-to-class=&quot;custom-appear-to-class&quot; (2.1.8+)
  appear-active-class=&quot;custom-appear-active-class&quot;
&gt;
  &lt;!-- ... --&gt;
&lt;/transition&gt;
&lt;!--JSé’©å­--&gt;
&lt;transition
  appear
  v-on:before-appear=&quot;customBeforeAppearHook&quot;
  v-on:appear=&quot;customAppearHook&quot;
  v-on:after-appear=&quot;customAfterAppearHook&quot;
  v-on:appear-cancelled=&quot;customAppearCancelledHook&quot;
&gt;
  &lt;!-- ... --&gt;
&lt;/transition&gt;
</code></pre>
<h2 id="å¤šä¸ªå…ƒç´ çš„è¿‡æ¸¡">å¤šä¸ªå…ƒç´ çš„è¿‡æ¸¡</h2>
<p>å½“æœ‰ç›¸åŒæ ‡ç­¾åçš„å…ƒç´ åˆ‡æ¢æ—¶ï¼Œå»ºè®®ç»™å…ƒç´ è®¾ç½®keyã€‚</p>
<h4 id="è¿‡æ¸¡æ¨¡å¼">è¿‡æ¸¡æ¨¡å¼</h4>
<ul>
<li>in-outï¼šæ–°å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åå½“å‰å…ƒç´ è¿‡æ¸¡ç¦»å¼€ã€‚</li>
<li>out-inï¼šå½“å‰å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åæ–°å…ƒç´ è¿‡æ¸¡è¿›å…¥ã€‚</li>
</ul>
<pre><code>&lt;transition name=&quot;fade&quot; mode=&quot;out-in&quot;&gt;
  &lt;!-- ... the buttons ... --&gt;
&lt;/transition&gt;
</code></pre>
<h2 id="å¤šä¸ªç»„ä»¶çš„è¿‡æ¸¡">å¤šä¸ªç»„ä»¶çš„è¿‡æ¸¡</h2>
<p>å¤šä¸ªç»„ä»¶çš„è¿‡æ¸¡ä½¿ç”¨åŠ¨æ€ç»„ä»¶</p>
<pre><code>&lt;!--html--&gt;
&lt;transition name=&quot;component-fade&quot; mode=&quot;out-in&quot;&gt;
  &lt;component v-bind:is=&quot;view&quot;&gt;&lt;/component&gt;
&lt;/transition&gt;
&lt;!--js--&gt;
new Vue({
  el: '#transition-components-demo',
  data: {
    view: 'v-a'
  },
  components: {
    'v-a': {
      template: '&lt;div&gt;Component A&lt;/div&gt;'
    },
    'v-b': {
      template: '&lt;div&gt;Component B&lt;/div&gt;'
    }
  }
})
</code></pre>
<h2 id="åˆ—è¡¨è¿‡æ¸¡">åˆ—è¡¨è¿‡æ¸¡</h2>
<p>ä½¿ç”¨ <code>&lt;transition-group&gt; </code>ç»„ä»¶ã€‚</p>
<ul>
<li>å®ƒä¼šä»¥ä¸€ä¸ªçœŸå®å…ƒç´ å‘ˆç°ï¼šé»˜è®¤ä¸ºä¸€ä¸ª <code>&lt;span&gt;</code>ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡ tag ç‰¹æ€§æ›´æ¢ä¸ºå…¶ä»–å…ƒç´ ã€‚</li>
<li>å†…éƒ¨å…ƒç´  æ€»æ˜¯éœ€è¦ æä¾›å”¯ä¸€çš„ key å±æ€§å€¼</li>
</ul>
<pre><code>&lt;div id=&quot;list-demo&quot; class=&quot;demo&quot;&gt;
  &lt;button v-on:click=&quot;add&quot;&gt;Add&lt;/button&gt;
  &lt;button v-on:click=&quot;remove&quot;&gt;Remove&lt;/button&gt;
  &lt;transition-group name=&quot;list&quot; tag=&quot;p&quot;&gt;
    &lt;span v-for=&quot;item in items&quot; v-bind:key=&quot;item&quot; class=&quot;list-item&quot;&gt;
      {{ item }}
    &lt;/span&gt;
  &lt;/transition-group&gt;
&lt;/div&gt;
</code></pre>
<p><code>&lt;transition-group&gt;</code> ç»„ä»¶è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šä¹‹å¤„ã€‚ä¸ä»…å¯ä»¥è¿›å…¥å’Œç¦»å¼€åŠ¨ç”»ï¼Œè¿˜å¯ä»¥æ”¹å˜å®šä½ã€‚v-move ç‰¹æ€§ï¼Œå®ƒä¼šåœ¨å…ƒç´ çš„æ”¹å˜å®šä½çš„è¿‡ç¨‹ä¸­åº”ç”¨ã€‚</p>
<pre><code>&lt;!--html--&gt;
&lt;transition-group name=&quot;flip-list&quot; tag=&quot;ul&quot;&gt;
    &lt;li v-for=&quot;item in items&quot; v-bind:key=&quot;item&quot;&gt;
      {{ item }}
    &lt;/li&gt;
&lt;/transition-group&gt;
&lt;!--css--&gt;
.flip-list-move {
  transition: transform 1s;
}
</code></pre>
<p>ä¹Ÿå¯ä»¥é€šè¿‡ move-class å±æ€§æ‰‹åŠ¨è®¾ç½®</p>
<h2 id="æŠ€å·§">æŠ€å·§</h2>
<ul>
<li>åˆ›å»ºå¯å¤ç”¨è¿‡åº¦ç»„ä»¶ï¼Œå°† <transition> æˆ–è€… <transition-group> ä½œä¸ºæ ¹ç»„ä»¶</li>
</ul>
<pre><code>&lt;transition
    name=&quot;very-special-transition&quot;
    mode=&quot;out-in&quot;
    v-on:before-enter=&quot;beforeEnter&quot;
    v-on:after-enter=&quot;afterEnter&quot;&gt;
    &lt;slot&gt;&lt;/slot&gt;
&lt;/transition&gt;
</code></pre>
<ul>
<li>åŠ¨æ€è¿‡æ¸¡ï¼Œé€šè¿‡åŠ¨æ€ç»‘å®šnameå®ç°</li>
</ul>
<pre><code>&lt;transition v-bind:name=&quot;transitionName&quot;&gt;
  &lt;!-- ... --&gt;
&lt;/transition&gt;
</code></pre>
<h1 id="12å¯å¤ç”¨æ€§å’Œç»„åˆ">12.å¯å¤ç”¨æ€§å’Œç»„åˆ</h1>
<h2 id="æ··åˆ-2">æ··åˆ</h2>
<p>æ··åˆ (mixins) æ˜¯ä¸€ç§åˆ†å‘ Vue ç»„ä»¶ä¸­å¯å¤ç”¨åŠŸèƒ½çš„éå¸¸çµæ´»çš„æ–¹å¼ã€‚æ··åˆå¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚å½“ç»„ä»¶ä½¿ç”¨æ··åˆå¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··åˆå¯¹è±¡çš„é€‰é¡¹å°†è¢«æ··å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚</p>
<pre><code>// å®šä¹‰ä¸€ä¸ªæ··åˆå¯¹è±¡
var myMixin = {
  created: function () {
    this.hello()
  },
  methods: {
    hello: function () {
      console.log('hello from mixin!')
    }
  }
}

// å®šä¹‰ä¸€ä¸ªä½¿ç”¨æ··åˆå¯¹è±¡çš„ç»„ä»¶
var Component = Vue.extend({
  mixins: [myMixin]
})

</code></pre>
<ul>
<li>å½“ç»„ä»¶å’Œæ··åˆå¯¹è±¡å«æœ‰åŒåé€‰é¡¹æ—¶ï¼Œè¿™äº›é€‰é¡¹å°†ä»¥æ°å½“çš„æ–¹å¼æ··åˆã€‚æ¯”å¦‚ï¼ŒåŒåé’©å­å‡½æ•°å°†æ··åˆä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå› æ­¤éƒ½å°†è¢«è°ƒç”¨ã€‚å¦å¤–ï¼Œæ··åˆå¯¹è±¡çš„ é’©å­å°†åœ¨ç»„ä»¶è‡ªèº«é’©å­ ä¹‹å‰ è°ƒç”¨ ã€‚</li>
<li>å€¼ä¸ºå¯¹è±¡çš„é€‰é¡¹ï¼Œä¾‹å¦‚ methods, components å’Œ directivesï¼Œå°†è¢«æ··åˆä¸ºåŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸¤ä¸ªå¯¹è±¡é”®åå†²çªæ—¶ï¼Œå–ç»„ä»¶å¯¹è±¡çš„é”®å€¼å¯¹ã€‚</li>
<li><code>Vue.extend()</code> ä¹Ÿä½¿ç”¨åŒæ ·çš„ç­–ç•¥è¿›è¡Œåˆå¹¶ã€‚</li>
</ul>
<h2 id="è‡ªå®šä¹‰æŒ‡ä»¤">è‡ªå®šä¹‰æŒ‡ä»¤</h2>
<p>é™¤äº†æ ¸å¿ƒåŠŸèƒ½é»˜è®¤å†…ç½®çš„æŒ‡ä»¤ (v-model å’Œ v-show)ï¼ŒVue ä¹Ÿå…è®¸æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤ã€‚</p>
<pre><code>// æ³¨å†Œä¸€ä¸ªå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ `v-focus`
Vue.directive('focus', {
  // å½“è¢«ç»‘å®šçš„å…ƒç´ æ’å…¥åˆ° DOM ä¸­æ—¶â€¦â€¦
  inserted: function (el) {
    // èšç„¦å…ƒç´ 
    el.focus()
  }
})
// æ³¨å†Œä¸€ä¸ªå±€éƒ¨è‡ªå®šä¹‰æŒ‡ä»¤
directives: {
  focus: {
    // æŒ‡ä»¤çš„å®šä¹‰
    inserted: function (el) {
      el.focus()
    }
  }
}
//ä½¿ç”¨
&lt;input v-focus&gt;
</code></pre>
<h4 id="é’©å­å‡½æ•°">é’©å­å‡½æ•°</h4>
<p>ä¸€ä¸ªæŒ‡ä»¤å®šä¹‰å¯¹è±¡å¯ä»¥æä¾›å¦‚ä¸‹å‡ ä¸ªé’©å­å‡½æ•° (å‡ä¸ºå¯é€‰)ï¼š</p>
<ul>
<li><code>bindï¼š</code>åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ã€‚åœ¨è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€æ¬¡æ€§çš„åˆå§‹åŒ–è®¾ç½®ã€‚</li>
<li><code>insertedï¼š</code>è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ (ä»…ä¿è¯çˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œä½†ä¸ä¸€å®šå·²è¢«æ’å…¥æ–‡æ¡£ä¸­)ã€‚</li>
<li><code>updateï¼š</code>æ‰€åœ¨ç»„ä»¶çš„ VNode æ›´æ–°æ—¶è°ƒç”¨ï¼Œä½†æ˜¯å¯èƒ½å‘ç”Ÿåœ¨å…¶å­ VNode æ›´æ–°ä¹‹å‰ã€‚æŒ‡ä»¤çš„å€¼å¯èƒ½å‘ç”Ÿäº†æ”¹å˜ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ã€‚ä½†æ˜¯ä½ å¯ä»¥é€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åçš„å€¼æ¥å¿½ç•¥ä¸å¿…è¦çš„æ¨¡æ¿æ›´æ–° (è¯¦ç»†çš„é’©å­å‡½æ•°å‚æ•°è§ä¸‹)ã€‚</li>
<li><code>componentUpdatedï¼š</code>æŒ‡ä»¤æ‰€åœ¨ç»„ä»¶çš„ VNode åŠå…¶å­ VNode å…¨éƒ¨æ›´æ–°åè°ƒç”¨ã€‚</li>
<li><code>unbindï¼š</code>åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</li>
</ul>
<h4 id="é’©å­å‡½æ•°å‚æ•°">é’©å­å‡½æ•°å‚æ•°</h4>
<p>æŒ‡ä»¤é’©å­å‡½æ•°ä¼šè¢«ä¼ å…¥ä»¥ä¸‹å‚æ•°ï¼š</p>
<ul>
<li>
<p><code>elï¼š</code>æŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥ç›´æ¥æ“ä½œ DOM ã€‚</p>
</li>
<li>
<p><code>bindingï¼š</code>ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li><code>nameï¼š</code>æŒ‡ä»¤åï¼Œä¸åŒ…æ‹¬ v- å‰ç¼€ã€‚</li>
<li><code>valueï¼š</code>æŒ‡ä»¤çš„ç»‘å®šå€¼ï¼Œä¾‹å¦‚ï¼šv-my-directive=&quot;1 + 1&quot; ä¸­ï¼Œç»‘å®šå€¼ä¸º 2ã€‚</li>
<li><code>oldValueï¼š</code>æŒ‡ä»¤ç»‘å®šçš„å‰ä¸€ä¸ªå€¼ï¼Œä»…åœ¨ update å’Œ componentUpdated é’©å­ä¸­å¯ç”¨ã€‚æ— è®ºå€¼æ˜¯å¦æ”¹å˜éƒ½å¯ç”¨ã€‚</li>
<li><code>expressionï¼š</code>å­—ç¬¦ä¸²å½¢å¼çš„æŒ‡ä»¤è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ v-my-directive=&quot;1 + 1&quot; ä¸­ï¼Œè¡¨è¾¾å¼ä¸º &quot;1 + 1&quot;ã€‚</li>
<li><code>argï¼š</code>ä¼ ç»™æŒ‡ä»¤çš„å‚æ•°ï¼Œå¯é€‰ã€‚ä¾‹å¦‚ v-my-directive:foo ä¸­ï¼Œå‚æ•°ä¸º &quot;foo&quot;ã€‚</li>
<li><code>modifiersï¼š</code>ä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼šv-my-directive.foo.bar ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡ä¸º { foo: true, bar: true }ã€‚</li>
</ul>
</li>
<li>
<p><code>vnodeï¼š</code>Vue ç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ã€‚ç§»æ­¥ VNode API æ¥äº†è§£æ›´å¤šè¯¦æƒ…ã€‚</p>
</li>
<li>
<p><code>oldVnodeï¼š</code>ä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨ update å’Œ componentUpdated é’©å­ä¸­å¯ç”¨ã€‚</p>
</li>
</ul>
<h2 id="æ¸²æŸ“å‡½æ•°-jsx">æ¸²æŸ“å‡½æ•° &amp; JSX</h2>
<p>https://cn.vuejs.org/v2/guide/render-function.html</p>
<h3 id="æ¸²æŸ“å‡½æ•°render">æ¸²æŸ“å‡½æ•°render</h3>
<h4 id="createelement"><code>createElement</code></h4>
<pre><code>// @returns {VNode}
createElement(
  // {String | Object | Function}
  // ä¸€ä¸ª HTML æ ‡ç­¾å­—ç¬¦ä¸²ï¼Œç»„ä»¶é€‰é¡¹å¯¹è±¡ï¼Œæˆ–è€…
  // è§£æä¸Šè¿°ä»»ä½•ä¸€ç§çš„ä¸€ä¸ª async å¼‚æ­¥å‡½æ•°ï¼Œå¿…è¦å‚æ•°ã€‚
  'div',

  // {Object}
  // ä¸€ä¸ªåŒ…å«æ¨¡æ¿ç›¸å…³å±æ€§çš„æ•°æ®å¯¹è±¡
  // è¿™æ ·ï¼Œæ‚¨å¯ä»¥åœ¨ template ä¸­ä½¿ç”¨è¿™äº›å±æ€§ã€‚å¯é€‰å‚æ•°ã€‚
  {
    // (è¯¦æƒ…è§ä¸‹é¢çš„æ•°æ®å¯¹è±¡)
  },

  // {String | Array}
  // å­èŠ‚ç‚¹ (VNodes)ï¼Œç”± `createElement()` æ„å»ºè€Œæˆï¼Œ
  // æˆ–ä½¿ç”¨å­—ç¬¦ä¸²æ¥ç”Ÿæˆâ€œæ–‡æœ¬èŠ‚ç‚¹â€ã€‚å¯é€‰å‚æ•°ã€‚
  [
    'å…ˆå†™ä¸€äº›æ–‡å­—',
    createElement('h1', 'ä¸€åˆ™å¤´æ¡'),
    createElement(MyComponent, {
      props: {
        someProp: 'foobar'
      }
    })
  ]
)
</code></pre>
<p>æ•°æ®å¯¹è±¡:</p>
<pre><code>{
  // å’Œ`v-bind:class`ä¸€æ ·çš„ API
  'class': {
    foo: true,
    bar: false
  },
  // å’Œ`v-bind:style`ä¸€æ ·çš„ API
  style: {
    color: 'red',
    fontSize: '14px'
  },
  // æ­£å¸¸çš„ HTML ç‰¹æ€§
  attrs: {
    id: 'foo'
  },
  // ç»„ä»¶ props
  props: {
    myProp: 'bar'
  },
  // DOM å±æ€§
  domProps: {
    innerHTML: 'baz'
  },
  // äº‹ä»¶ç›‘å¬å™¨åŸºäº `on`
  // æ‰€ä»¥ä¸å†æ”¯æŒå¦‚ `v-on:keyup.enter` ä¿®é¥°å™¨
  // éœ€è¦æ‰‹åŠ¨åŒ¹é… keyCodeã€‚
  on: {
    click: this.clickHandler
  },
  // ä»…å¯¹äºç»„ä»¶ï¼Œç”¨äºç›‘å¬åŸç”Ÿäº‹ä»¶ï¼Œè€Œä¸æ˜¯ç»„ä»¶å†…éƒ¨ä½¿ç”¨
  // `vm.$emit` è§¦å‘çš„äº‹ä»¶ã€‚
  nativeOn: {
    click: this.nativeClickHandler
  },
  // è‡ªå®šä¹‰æŒ‡ä»¤ã€‚æ³¨æ„ï¼Œä½ æ— æ³•å¯¹ `binding` ä¸­çš„ `oldValue`
  // èµ‹å€¼ï¼Œå› ä¸º Vue å·²ç»è‡ªåŠ¨ä¸ºä½ è¿›è¡Œäº†åŒæ­¥ã€‚
  directives: [
    {
      name: 'my-custom-directive',
      value: '2',
      expression: '1 + 1',
      arg: 'foo',
      modifiers: {
        bar: true
      }
    }
  ],
  // Scoped slots in the form of
  // { name: props =&gt; VNode | Array&lt;VNode&gt; }
  scopedSlots: {
    default: props =&gt; createElement('span', props.text)
  },
  // å¦‚æœç»„ä»¶æ˜¯å…¶ä»–ç»„ä»¶çš„å­ç»„ä»¶ï¼Œéœ€ä¸ºæ’æ§½æŒ‡å®šåç§°
  slot: 'name-of-slot',
  // å…¶ä»–ç‰¹æ®Šé¡¶å±‚å±æ€§
  key: 'myKey',
  ref: 'myRef'
}
</code></pre>
<h2 id="è¿‡æ»¤å™¨">è¿‡æ»¤å™¨</h2>
<p>è¿‡æ»¤å™¨å¯ä»¥ç”¨åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼šåŒèŠ±æ‹¬å·æ’å€¼å’Œ v-bind è¡¨è¾¾å¼ã€‚</p>
<pre><code>&lt;!-- åœ¨åŒèŠ±æ‹¬å·ä¸­ --&gt;
{{ message | capitalize }}

&lt;!-- åœ¨ `v-bind` ä¸­ --&gt;
&lt;div v-bind:id=&quot;rawId | formatId&quot;&gt;&lt;/div&gt;
</code></pre>
<pre><code>//å®šä¹‰å±€éƒ¨è¿‡æ»¤å™¨
filters: {
  capitalize: function (value) {
    if (!value) return ''
    value = value.toString()
    return value.charAt(0).toUpperCase() + value.slice(1)
  }
}
//å®šä¹‰å…¨å±€è¿‡æ»¤å™¨
Vue.filter('capitalize', function (value) {
  if (!value) return ''
  value = value.toString()
  return value.charAt(0).toUpperCase() + value.slice(1)
})
</code></pre>
<ul>
<li>è¿‡æ»¤å™¨å¯ä»¥ä¸²è”ï¼Œä¾æ¬¡æ‰§è¡Œï¼Œå‰é¢çš„è¾“å‡ºä½œä¸ºåé¢ä¸€ä¸ªçš„è¾“å…¥ã€‚</li>
</ul>
<pre><code>{{ message | filterA | filterB }}
</code></pre>
<ul>
<li>è¿‡æ»¤å™¨å¯ä»¥æ¥æ”¶å‚æ•°ï¼ˆç®¡é“ç¬¦å‰é¢çš„å€¼ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ‹¬å·å†…çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç¬¬äºŒä¸ªï¼Œä¾æ¬¡ç±»æ¨ï¼‰</li>
</ul>
<pre><code>{{ message | filterA('arg1', arg2) }}
</code></pre>
<h1 id="13vue-router">13.Vue-Router</h1>
<h2 id="å®‰è£…-2">å®‰è£…</h2>
<ul>
<li>ç›´æ¥ç”¨ <code>&lt;script&gt;</code> å¼•å…¥ï¼ˆæœ¬åœ°æˆ–è€…cdnï¼‰</li>
<li>npm <code>npm install vue</code></li>
</ul>
<p>å¿…é¡»è¦é€šè¿‡ <code>Vue.use()</code> æ˜ç¡®åœ°å®‰è£…è·¯ç”±åŠŸèƒ½ï¼Œä¸”è¦é€šè¿‡ router é…ç½®å‚æ•°æ³¨å…¥Vueå®ä¾‹ï¼Œä»è€Œè®©æ•´ä¸ªåº”ç”¨éƒ½æœ‰è·¯ç”±åŠŸèƒ½ã€‚</p>
<h2 id="ä½œç”¨">ä½œç”¨</h2>
<p>å°†é¡µé¢ç»„ä»¶(components)æ˜ å°„åˆ°è·¯ç”±(routes)ï¼Œç„¶åå‘Šè¯‰ vue-router åœ¨å“ªé‡Œæ¸²æŸ“å®ƒä»¬</p>
<h2 id="router-link">router-link</h2>
<ul>
<li><code>toï¼š</code> å±æ€§æŒ‡å®šç›®æ ‡åœ°å€ï¼Œé»˜è®¤æ¸²æŸ“æˆå¸¦æœ‰æ­£ç¡®é“¾æ¥çš„ <a> æ ‡ç­¾ï¼Œ</li>
<li><code>replaceï¼š</code>ç›¸å½“äº<code>router.replace()</code> ä¸ä¼šç•™ä¸‹ history è®°å½•</li>
<li><code>appendï¼š</code>è®¾ç½® append å±æ€§åï¼Œåˆ™åœ¨å½“å‰ï¼ˆç›¸å¯¹ï¼‰è·¯å¾„å‰æ·»åŠ åŸºè·¯å¾„ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä» /a å¯¼èˆªåˆ°ä¸€ä¸ªç›¸å¯¹è·¯å¾„ bï¼Œå¦‚æœæ²¡æœ‰é…ç½® appendï¼Œåˆ™è·¯å¾„ä¸º /bï¼Œå¦‚æœé…äº†ï¼Œåˆ™ä¸º /a/b</li>
<li><code>tag:</code> å±æ€§ç”Ÿæˆåˆ«çš„æ ‡ç­¾.ã€‚å¦å¤–ï¼Œå½“ç›®æ ‡è·¯ç”±æˆåŠŸæ¿€æ´»æ—¶ï¼Œé“¾æ¥å…ƒç´ è‡ªåŠ¨è®¾ç½®ä¸€ä¸ªè¡¨ç¤ºæ¿€æ´»çš„ CSS ç±»åã€‚</li>
<li><code>active-classï¼š</code>é“¾æ¥æ¿€æ´»æ—¶ä½¿ç”¨çš„ CSS ç±»åã€‚é»˜è®¤å€¼å¯ä»¥é€šè¿‡è·¯ç”±çš„æ„é€ é€‰é¡¹ linkActiveClass æ¥å…¨å±€é…ç½®ã€‚</li>
</ul>
<p>å°†æ¿€æ´» class åº”ç”¨åœ¨å¤–å±‚å…ƒç´ ï¼š</p>
<pre><code>&lt;router-link tag=&quot;li&quot; to=&quot;/foo&quot;&gt;
  &lt;a&gt;/foo&lt;/a&gt;
&lt;/router-link&gt;
</code></pre>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>&lt;a&gt;</code> å°†ä½œä¸ºçœŸå®çš„é“¾æ¥ï¼ˆå®ƒä¼šè·å¾—æ­£ç¡®çš„ href çš„ï¼‰ï¼Œè€Œ &quot;æ¿€æ´»æ—¶çš„CSSç±»å&quot; åˆ™è®¾ç½®åˆ°å¤–å±‚çš„ <code>&lt;li&gt;</code>ã€‚</p>
<h2 id="router-view">router-view</h2>
<p>è·¯ç”±è§†å›¾å®¹å™¨</p>
<pre><code>&lt;transition&gt;
&lt;!--ä½¿ç”¨è·¯ç”±ç¼“å­˜--&gt;
  &lt;keep-alive&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/keep-alive&gt;
&lt;/transition&gt;
</code></pre>
<p>å¦‚æœ <code>&lt;router-view&gt;</code>è®¾ç½®äº†åç§°ï¼Œåˆ™ä¼šæ¸²æŸ“å¯¹åº”çš„è·¯ç”±é…ç½®ä¸­ components ä¸‹çš„ç›¸åº”ç»„ä»¶ã€‚</p>
<pre><code>&lt;!--html--&gt;
&lt;router-view class=&quot;view one&quot;&gt;&lt;/router-view&gt;
&lt;router-view class=&quot;view two&quot; name=&quot;a&quot;&gt;&lt;/router-view&gt;
&lt;router-view class=&quot;view three&quot; name=&quot;b&quot;&gt;&lt;/router-view&gt;
&lt;!--js--&gt;
const router = new VueRouter({
  routes: [
    {
      path: '/',
      components: {
        default: Foo,
        a: Bar,
        b: Baz
      }
    }
  ]
})
</code></pre>
<h2 id="åŠ¨æ€è·¯ç”±åŒ¹é…">åŠ¨æ€è·¯ç”±åŒ¹é…</h2>
<ul>
<li>åŠ¨æ€è·¯å¾„å‚æ•°<code>params</code></li>
</ul>
<pre><code>//å®šä¹‰
routes: [
    // åŠ¨æ€è·¯å¾„å‚æ•° ä»¥å†’å·å¼€å¤´
    { path: '/user/:id', component: User }
  ]
//è°ƒç”¨
$route.params.id
</code></pre>
<ul>
<li>åŠ¨æ€è·¯å¾„æŸ¥è¯¢å‚æ•°<code>query</code></li>
</ul>
<pre><code>//å®šä¹‰
routes: [
    // åŠ¨æ€è·¯å¾„å‚æ•° ä»¥å†’å·å¼€å¤´
    { path: '/user?id=6456456', component: User }
  ]
//è°ƒç”¨
$route.query.id
</code></pre>
<ul>
<li>åŒºåˆ«ï¼šparamså®šä¹‰äº†å°±æ˜¯è·¯ç”±çš„ä¸€éƒ¨åˆ†ï¼Œå°±å¿…é¡»è¦ä¼ ï¼Œå¦åˆ™åŒ¹é…å¤±è´¥ï¼Œqueryå¯ä»¥ç¼ºçœ</li>
</ul>
<h4 id="å“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–">å“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–</h4>
<p>å½“è·¯ç”±å‚æ•°å˜åŒ–æ—¶ï¼Œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¸ä¼šå†è¢«è°ƒç”¨ã€‚<br>
æƒ³å¯¹è·¯ç”±å‚æ•°çš„å˜åŒ–ä½œå‡ºå“åº”çš„è¯ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>watchï¼ˆç›‘æµ‹å˜åŒ–ï¼‰ $route å¯¹è±¡ï¼š</li>
</ul>
<pre><code>const User = {
  template: '...',
  watch: {
    '$route' (to, from) {
      // å¯¹è·¯ç”±å˜åŒ–ä½œå‡ºå“åº”...
    }
  }
}
</code></pre>
<ul>
<li>ä½¿ç”¨beforeRouteUpdate å®ˆå«ï¼š</li>
</ul>
<pre><code>const User = {
  template: '...',
  beforeRouteUpdate (to, from, next) {
    // react to route changes...
    // don't forget to call next()
  }
}
</code></pre>
<h2 id="åŒ¹é…ä¼˜å…ˆçº§">åŒ¹é…ä¼˜å…ˆçº§</h2>
<p>åŒä¸€ä¸ªè·¯å¾„å¯ä»¥åŒ¹é…å¤šä¸ªè·¯ç”±æ—¶ï¼Œè°å…ˆå®šä¹‰çš„ï¼Œè°çš„ä¼˜å…ˆçº§å°±æœ€é«˜ã€‚<br>
å› æ­¤ï¼Œ404ç±»çš„é¡µé¢ä¸€å®šè¦æ”¾åœ¨æœ€åï¼Œè·¯ç”±æ˜¯æŒ‰ç…§å£°æ˜é¡ºåºåŒ¹é…ï¼Œå¦‚æœä¸æ˜¯æœ€ååˆ™404ä¹‹åçš„é¡µé¢éƒ½ä¼šè·³è½¬åˆ°404ã€‚</p>
<h2 id="åµŒå¥—è·¯ç”±">åµŒå¥—è·¯ç”±</h2>
<pre><code>const router = new VueRouter({
  routes: [
    { path: '/user/:id', component: User,
      children: [
        {
          // å½“ /user/:id/profile åŒ¹é…æˆåŠŸï¼Œ
          // UserProfile ä¼šè¢«æ¸²æŸ“åœ¨ User çš„ &lt;router-view&gt; ä¸­
          path: 'profile',
          component: UserProfile
        },
        {
          // å½“ /user/:id/posts åŒ¹é…æˆåŠŸ
          // UserPosts ä¼šè¢«æ¸²æŸ“åœ¨ User çš„ &lt;router-view&gt; ä¸­
          path: 'posts',
          component: UserPosts
        }
      ]
    }
  ]
})
</code></pre>
<ul>
<li>ä»¥ / å¼€å¤´çš„åµŒå¥—è·¯å¾„ä¼šè¢«å½“ä½œæ ¹è·¯å¾„ã€‚ è¿™è®©ä½ å……åˆ†çš„ä½¿ç”¨åµŒå¥—ç»„ä»¶è€Œæ— é¡»è®¾ç½®åµŒå¥—çš„è·¯å¾„ã€‚</li>
<li>å¦‚æœæƒ³åœ¨çˆ¶è·¯ç”±æ¸²æŸ“å†…å®¹ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªç©ºçš„å­è·¯ç”±ã€‚</li>
</ul>
<h2 id="ç¼–ç¨‹å¼çš„å¯¼èˆª">ç¼–ç¨‹å¼çš„å¯¼èˆª</h2>
<h4 id="routerpushlocation-oncomplete-onabort">router.push(location, onComplete?, onAbort?)</h4>
<p>å¯¼èˆªåˆ°ä¸åŒçš„ URL,ä¼šå‘ history æ ˆæ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ã€‚<br>
åœ¨ Vue å®ä¾‹å†…éƒ¨ï¼Œè°ƒç”¨ <code>this.$router.push</code></p>
<pre><code>// å­—ç¬¦ä¸²
router.push('home')
// å¯¹è±¡
router.push({ path: 'home' })
// å‘½åçš„è·¯ç”±
router.push({ name: 'user', params: { userId: 123 }})
// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=private
router.push({ path: 'register', query: { plan: 'private' }})
</code></pre>
<ul>
<li>onCompleteï¼šåœ¨å¯¼èˆªæˆåŠŸå®Œæˆ (åœ¨æ‰€æœ‰çš„å¼‚æ­¥é’©å­è¢«è§£æä¹‹å) è°ƒç”¨</li>
<li>onAbortï¼šåœ¨å¯¼èˆªç»ˆæ­¢ (å¯¼èˆªåˆ°ç›¸åŒçš„è·¯ç”±ã€æˆ–åœ¨å½“å‰å¯¼èˆªå®Œæˆä¹‹å‰å¯¼èˆªåˆ°å¦ä¸€ä¸ªä¸åŒçš„è·¯ç”±) è°ƒç”¨</li>
</ul>
<h4 id="routerreplacelocation-oncomplete-onabort">router.replace(location, onComplete?, onAbort?)</h4>
<p>å’Œrouter.pushåŠŸèƒ½ä¸€æ ·ï¼Œå”¯ä¸€åŒºåˆ«å°±æ˜¯ä¸ä¼šå‘ history æ·»åŠ æ–°è®°å½•</p>
<h4 id="routergon">router.go(n)</h4>
<p>å‰è¿›æˆ–åé€€nNæ­¥ï¼Œç±»ä¼¼ window.history.go(n)</p>
<pre><code>// åœ¨æµè§ˆå™¨è®°å½•ä¸­å‰è¿›ä¸€æ­¥ï¼Œç­‰åŒäº history.forward()
router.go(1)
// åé€€ä¸€æ­¥è®°å½•ï¼Œç­‰åŒäº history.back()
router.go(-1)
</code></pre>
<h2 id="é‡å®šå‘">é‡å®šå‘</h2>
<pre><code class="language-js">const router = new VueRouter({
  routes: [
    //path
    { path: '/a', redirect: '/b' },
    //name
    { path: '/a', redirect: { name: 'foo' }},
    //æ–¹æ³•
    { path: '/a', redirect: to =&gt; {
      // æ–¹æ³•æ¥æ”¶ ç›®æ ‡è·¯ç”± ä½œä¸ºå‚æ•°
      // return é‡å®šå‘çš„ å­—ç¬¦ä¸²è·¯å¾„/è·¯å¾„å¯¹è±¡
    }}
  ]
})
</code></pre>
<h2 id="åˆ«å">åˆ«å</h2>
<p>/a çš„åˆ«åæ˜¯ /bï¼Œæ„å‘³ç€ï¼Œå½“ç”¨æˆ·è®¿é—® /b æ—¶ï¼ŒURL ä¼šä¿æŒä¸º /bï¼Œä½†æ˜¯è·¯ç”±åŒ¹é…åˆ™ä¸º /aï¼Œå°±åƒç”¨æˆ·è®¿é—® /a ä¸€æ ·</p>
<pre><code>const router = new VueRouter({
  routes: [
    { path: '/a', component: A, alias: '/b' }
  ]
})
</code></pre>
<h2 id="è·¯ç”±ç»„ä»¶ä¼ å‚">è·¯ç”±ç»„ä»¶ä¼ å‚</h2>
<p>ä½¿ç”¨ props å°†ç»„ä»¶å’Œè·¯ç”±è§£è€¦</p>
<pre><code>const User = {
  props: ['id'],
  template: '&lt;div&gt;User {{ id }}&lt;/div&gt;'
}
const router = new VueRouter({
  routes: [
    { path: '/user/:id', component: User, props: true },

    // å¯¹äºåŒ…å«å‘½åè§†å›¾çš„è·¯ç”±ï¼Œä½ å¿…é¡»åˆ†åˆ«ä¸ºæ¯ä¸ªå‘½åè§†å›¾æ·»åŠ  `props` é€‰é¡¹ï¼š
    {
      path: '/user/:id',
      components: { default: User, sidebar: Sidebar },
      props: { default: true, sidebar: false }
    }
  ]
})
</code></pre>
<ul>
<li>å¦‚æœ props è¢«è®¾ç½®ä¸º trueï¼Œroute.params å°†ä¼šè¢«è®¾ç½®ä¸ºç»„ä»¶å±æ€§</li>
<li>å¦‚æœ props æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä¼šè¢«æŒ‰åŸæ ·è®¾ç½®ä¸ºç»„ä»¶å±æ€§ã€‚å½“ props æ˜¯é™æ€çš„æ—¶å€™æœ‰ç”¨ã€‚</li>
</ul>
<pre><code>const router = new VueRouter({
  routes: [
    { path: '/promotion/from-newsletter', component: Promotion, props: { newsletterPopup: false } }
  ]
})
</code></pre>
<ul>
<li>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå‡½æ•°è¿”å› propsã€‚è¿™æ ·ä½ ä¾¿å¯ä»¥å°†å‚æ•°è½¬æ¢æˆå¦ä¸€ç§ç±»å‹ï¼Œå°†é™æ€å€¼ä¸åŸºäºè·¯ç”±çš„å€¼ç»“åˆç­‰ç­‰ã€‚</li>
</ul>
<pre><code>const router = new VueRouter({
  routes: [
    { path: '/search', component: SearchUser, props: (route) =&gt; ({ query: route.query.q }) }
  ]
})
</code></pre>
<h2 id="html5-history-æ¨¡å¼">HTML5 History æ¨¡å¼</h2>
<p>vue-router é»˜è®¤ hash æ¨¡å¼ã€‚</p>
<p>å¼€å¯history æ¨¡å¼ï¼Œå°†å……åˆ†åˆ©ç”¨ history.pushState API æ¥å®Œæˆ URL è·³è½¬è€Œæ— é¡»é‡æ–°åŠ è½½é¡µé¢ï¼Œä½†éœ€è¦åç«¯é…åˆã€‚</p>
<pre><code>const router = new VueRouter({
  mode: 'history',
  routes: [...]
})
</code></pre>
<h2 id="å¯¼èˆªå®ˆå«">å¯¼èˆªå®ˆå«</h2>
<p>vue-router æä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥é€šè¿‡è·³è½¬æˆ–å–æ¶ˆçš„æ–¹å¼å®ˆå«å¯¼èˆªã€‚</p>
<h4 id="å…¨å±€">å…¨å±€</h4>
<pre><code>//å‰ç½®å®ˆå«:ç¡®ä¿è¦è°ƒç”¨ next æ–¹æ³•ï¼Œå¦åˆ™é’©å­å°±ä¸ä¼šè¢« resolvedã€‚
router.beforeEach((to, from, next) =&gt; {
  // ...
})
//åç½®å®ˆå«
router.afterEach((to, from) =&gt; {
  // ...
})
//è§£æå®ˆå«:åœ¨å¯¼èˆªè¢«ç¡®è®¤ä¹‹å‰ï¼ŒåŒæ—¶åœ¨æ‰€æœ‰ç»„ä»¶å†…å®ˆå«å’Œå¼‚æ­¥è·¯ç”±ç»„ä»¶è¢«è§£æä¹‹åï¼Œè§£æå®ˆå«å°±è¢«è°ƒç”¨
router.beforeResolve((to, from) =&gt; {
  // ...
})
</code></pre>
<h6 id="å‚æ•°è¯´æ˜">å‚æ•°è¯´æ˜</h6>
<ul>
<li><code>to: Route:</code> å³å°†è¦è¿›å…¥çš„ç›®æ ‡ è·¯ç”±å¯¹è±¡</li>
<li><code>from: Route:</code> å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”±</li>
<li><code>next: Function: </code>ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•æ¥ resolve è¿™ä¸ªé’©å­ã€‚æ‰§è¡Œæ•ˆæœä¾èµ– next æ–¹æ³•çš„è°ƒç”¨å‚æ•°ã€‚
<ul>
<li><code>next(): </code>è¿›è¡Œç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªé’©å­ã€‚å¦‚æœå…¨éƒ¨é’©å­æ‰§è¡Œå®Œäº†ï¼Œåˆ™å¯¼èˆªçš„çŠ¶æ€å°±æ˜¯ confirmed ï¼ˆç¡®è®¤çš„ï¼‰ã€‚</li>
<li><code>next(false):</code> ä¸­æ–­å½“å‰çš„å¯¼èˆªã€‚å¦‚æœæµè§ˆå™¨çš„ URL æ”¹å˜äº†ï¼ˆå¯èƒ½æ˜¯ç”¨æˆ·æ‰‹åŠ¨æˆ–è€…æµè§ˆå™¨åé€€æŒ‰é’®ï¼‰ï¼Œé‚£ä¹ˆ URL åœ°å€ä¼šé‡ç½®åˆ° from è·¯ç”±å¯¹åº”çš„åœ°å€ã€‚</li>
<li><code>next('/') </code>æˆ–è€… <code>next({ path: '/' }):</code> è·³è½¬åˆ°ä¸€ä¸ªä¸åŒçš„åœ°å€ã€‚å½“å‰çš„å¯¼èˆªè¢«ä¸­æ–­ï¼Œç„¶åè¿›è¡Œä¸€ä¸ªæ–°çš„å¯¼èˆªã€‚ä½ å¯ä»¥å‘ next ä¼ é€’ä»»æ„ä½ç½®å¯¹è±¡ï¼Œä¸”å…è®¸è®¾ç½®è¯¸å¦‚ <code>replace: trueã€name: 'home'</code> ä¹‹ç±»çš„é€‰é¡¹ä»¥åŠä»»ä½•ç”¨åœ¨ router-link çš„ to prop æˆ– router.push ä¸­çš„é€‰é¡¹ã€‚</li>
<li><code>next(error):</code> (2.4.0+) å¦‚æœä¼ å…¥ next çš„å‚æ•°æ˜¯ä¸€ä¸ª Error å®ä¾‹ï¼Œåˆ™å¯¼èˆªä¼šè¢«ç»ˆæ­¢ä¸”è¯¥é”™è¯¯ä¼šè¢«ä¼ é€’ç»™ <code>router.onError()</code> æ³¨å†Œè¿‡çš„å›è°ƒã€‚</li>
</ul>
</li>
</ul>
<h2 id="è·¯ç”±ç‹¬äº«çš„å®ˆå«">è·¯ç”±ç‹¬äº«çš„å®ˆå«</h2>
<pre><code>//ä¸å…¨å±€å‰ç½®å®ˆå«çš„æ–¹æ³•å‚æ•°æ˜¯ä¸€æ ·çš„
const router = new VueRouter({
  routes: [
    {
      path: '/foo',
      component: Foo,
      beforeEnter: (to, from, next) =&gt; {
        // ...
      }
    }
  ]
})
</code></pre>
<h2 id="ç»„ä»¶å†…çš„å®ˆå«">ç»„ä»¶å†…çš„å®ˆå«</h2>
<pre><code>const Foo = {
  template: `...`,
  beforeRouteEnter (to, from, next) {
    // åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢« confirm å‰è°ƒç”¨
    // ä¸ï¼èƒ½ï¼è·å–ç»„ä»¶å®ä¾‹ `this`
    // å› ä¸ºå½“å®ˆå«æ‰§è¡Œå‰ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»º
  },
  beforeRouteUpdate (to, from, next) {
    // åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨
    // ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ
    // ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚
    // å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`
  },
  beforeRouteLeave (to, from, next) {
    // å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨
    // å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`
  }
}
</code></pre>
<p>beforeRouteEnter å®ˆå« ä¸èƒ½ è®¿é—® thisï¼Œå› ä¸ºå®ˆå«åœ¨å¯¼èˆªç¡®è®¤å‰è¢«è°ƒç”¨,å› æ­¤å³å°†ç™»åœºçš„æ–°ç»„ä»¶è¿˜æ²¡è¢«åˆ›å»ºã€‚å¯ä»¥é€šè¿‡ä¼ ä¸€ä¸ªå›è°ƒç»™ nextæ¥è®¿é—®ç»„ä»¶å®ä¾‹ã€‚</p>
<pre><code>beforeRouteEnter (to, from, next) {
  next(vm =&gt; {
    // é€šè¿‡ `vm` è®¿é—®ç»„ä»¶å®ä¾‹
  })
}
</code></pre>
<h2 id="è§£ææµç¨‹">è§£ææµç¨‹</h2>
<ol>
<li>å¯¼èˆªè¢«è§¦å‘ã€‚</li>
<li>åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ç¦»å¼€å®ˆå«ã€‚</li>
<li>è°ƒç”¨å…¨å±€çš„ beforeEach å®ˆå«ã€‚</li>
<li>åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteUpdate å®ˆå« (2.2+)ã€‚</li>
<li>åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ beforeEnterã€‚</li>
<li>è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚</li>
<li>åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteEnterã€‚</li>
<li>è°ƒç”¨å…¨å±€çš„ beforeResolve å®ˆå« (2.5+)ã€‚</li>
<li>å¯¼èˆªè¢«ç¡®è®¤ã€‚</li>
<li>è°ƒç”¨å…¨å±€çš„ afterEach é’©å­ã€‚</li>
<li>è§¦å‘ DOM æ›´æ–°ã€‚</li>
<li>ç”¨åˆ›å»ºå¥½çš„å®ä¾‹è°ƒç”¨ beforeRouteEnter å®ˆå«ä¸­ä¼ ç»™ next çš„å›è°ƒå‡½æ•°ã€‚</li>
</ol>
<h2 id="è·¯ç”±å…ƒä¿¡æ¯">è·¯ç”±å…ƒä¿¡æ¯</h2>
<p>é…ç½®metaå­—æ®µè®°å½•å…ƒä¿¡æ¯</p>
<pre><code>//å®šä¹‰
{
  path: 'bar',
  component: Bar,
  // a meta field
  meta: { requiresAuth: true }
}
//è®¿é—®
$route.matched
</code></pre>
<h2 id="è¿‡æ¸¡åŠ¨æ•ˆ">è¿‡æ¸¡åŠ¨æ•ˆ</h2>
<pre><code>&lt;transition&gt;
  &lt;router-view&gt;&lt;/router-view&gt;
&lt;/transition&gt;
&lt;!-- ä½¿ç”¨åŠ¨æ€çš„ transition name --&gt;
&lt;transition :name=&quot;transitionName&quot;&gt;
  &lt;router-view&gt;&lt;/router-view&gt;
&lt;/transition&gt;
</code></pre>
<h1 id="14vuex">14.Vuex</h1>
<h2 id="å®‰è£…-3">å®‰è£…</h2>
<ul>
<li>ç›´æ¥ç”¨ <code>&lt;script&gt;</code> å¼•å…¥ï¼ˆæœ¬åœ°æˆ–è€…cdnï¼‰</li>
<li>npm <code>npm install vuex</code><br>
å¿…é¡»è¦é€šè¿‡ Vue.use() æ˜ç¡®åœ°å®‰è£…vuexï¼Œä¸”è¦é€šè¿‡ store é…ç½®å‚æ•°æ³¨å…¥Vueå®ä¾‹ã€‚</li>
</ul>
<h2 id="ç®€ä»‹-3">ç®€ä»‹</h2>
<p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p>
<figure data-type="image" tabindex="3"><img src="https://vuex.vuejs.org/zh-cn/images/vuex.png" alt="image" loading="lazy"></figure>
<h2 id="state">state</h2>
<ul>
<li>çŠ¶æ€ä»“åº“ï¼Œå…¨å±€çš„æ•°æ®å…±äº«ä¸­å¿ƒ</li>
<li>æ”¹å˜ state ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤ (commit) mutation</li>
<li>è·å–çŠ¶æ€ä½¿ç”¨è®¡ç®—å±æ€§</li>
<li>mapStateè¾…åŠ©å‡½æ•°</li>
</ul>
<pre><code class="language-js">// åœ¨å•ç‹¬æ„å»ºçš„ç‰ˆæœ¬ä¸­è¾…åŠ©å‡½æ•°ä¸º Vuex.mapState
import { mapState } from 'vuex'

export default {
  // ...
  computed: mapState({
    // ç®­å¤´å‡½æ•°å¯ä½¿ä»£ç æ›´ç®€ç»ƒ
    count: state =&gt; state.count,

    // ä¼ å­—ç¬¦ä¸²å‚æ•° 'count' ç­‰åŒäº `state =&gt; state.count`
    countAlias: 'count',

    // ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ `this` è·å–å±€éƒ¨çŠ¶æ€ï¼Œå¿…é¡»ä½¿ç”¨å¸¸è§„å‡½æ•°
    countPlusLocalState (state) {
      return state.count + this.localCount
    }
  })
}
--------------
//å½“æ˜ å°„çš„è®¡ç®—å±æ€§çš„åç§°ä¸ state çš„å­èŠ‚ç‚¹åç§°ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™ mapState ä¼ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„
computed: mapState([
  // æ˜ å°„ this.count ä¸º store.state.count
  'count'
])
--------------
computed: {
  localComputed () { /* ... */ },
  // ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°†æ­¤å¯¹è±¡æ··å…¥åˆ°å¤–éƒ¨å¯¹è±¡ä¸­
  ...mapState({
    // ...
  })
}
</code></pre>
<h2 id="getters">Getters</h2>
<p>å¦‚æœæœ‰å¤šå¤„éƒ½éœ€è¦ä»storeä¸­æ´¾ç”Ÿï¼ˆè¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼‰å‡ºä¸€äº›çŠ¶æ€ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨getterï¼ˆstore çš„è®¡ç®—å±æ€§ï¼Œä¾èµ–æ›´æ–°ï¼‰</p>
<pre><code class="language-js">getters: {
    //state ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°
    doneTodos: state =&gt; {
      return state.todos.filter(todo =&gt; todo.done)
    },
    //æ¥å—å…¶ä»– getter ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°
    doneTodosCount: (state, getters) =&gt; {
    return getters.doneTodos.length
  }
}
//è°ƒç”¨
store.getters.doneTodosCount // -&gt; 1
</code></pre>
<ul>
<li>mapGettersè¾…åŠ©å‡½æ•°å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ï¼Œç”¨æ³•å’ŒmapStateä¸€æ ·</li>
</ul>
<pre><code>import { mapGetters } from 'vuex'
computed: {
    // ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°† getter æ··å…¥ computed å¯¹è±¡ä¸­
    ...mapGetters([
      'doneTodosCount',
      'anotherGetter',
      // ...
    ])
}
</code></pre>
<h2 id="mutations">Mutations</h2>
<p>æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ (commit)ã€‚å»ºè®®åå­—å¤§å†™ã€‚ mutationï¼Œä½†æ˜¯è¯·å‹¿è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚</p>
<pre><code>mutations: {
    increment (state) {
      // å˜æ›´çŠ¶æ€
      state.count++
    }
}
//è°ƒç”¨
store.commit('increment')
</code></pre>
<ul>
<li>æäº¤è½½è·ï¼ˆPayloadï¼‰<br>
è½½è·å³commitä¸­é¢å¤–çš„å‚æ•°ã€‚</li>
</ul>
<pre><code class="language-js">mutations: {
  increment (state, n) {
    state.count += n
  }
}
//è°ƒç”¨
store.commit('increment', 10)
-------------
//æ¨èä½¿ç”¨å¯¹è±¡
mutations: {
  increment (state, payload) {
    state.count += payload.amount
  }
}
store.commit('increment', {
  amount: 10
})
//å¯¹è±¡é£æ ¼æäº¤
store.commit({
  type: 'increment',
  amount: 10
})
</code></pre>
<ul>
<li>mapMutations è¾…åŠ©å‡½æ•°å°†ç»„ä»¶ä¸­çš„ methods æ˜ å°„ä¸º store.commit è°ƒç”¨</li>
</ul>
<pre><code>import { mapMutations } from 'vuex'

export default {
  // ...
  methods: {
    ...mapMutations([
      'increment', // å°† `this.increment()` æ˜ å°„ä¸º `this.$store.commit('increment')`

      // `mapMutations` ä¹Ÿæ”¯æŒè½½è·ï¼š
      'incrementBy' // å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.commit('incrementBy', amount)`
    ]),
    ...mapMutations({
      add: 'increment' // å°† `this.add()` æ˜ å°„ä¸º `this.$store.commit('increment')`
    })
  }
}
</code></pre>
<h2 id="actions">Actions</h2>
<p>Action ç±»ä¼¼äº mutationï¼ŒåŒºåˆ«åœ¨äºï¼š</p>
<ul>
<li>Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</li>
<li>Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</li>
</ul>
<pre><code>actions: {
    increment (context) {
      context.commit('increment')
    }
}
//åˆ†å‘
store.dispatch('increment')
</code></pre>
<p>Action å‡½æ•°æ¥å—ä¸€ä¸ªä¸ store å®ä¾‹ï¼ˆä¸æ˜¯ store å®ä¾‹æœ¬èº«ï¼‰å…·æœ‰ç›¸åŒæ–¹æ³•å’Œå±æ€§çš„ contextï¼ˆ<code>context.state/context.getters/context.commit</code>ï¼‰å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è¿ç”¨å‚æ•°ç»“æ„ã€‚</p>
<pre><code>actions: {
  increment ({ commit }) {
    commit('increment')
  }
}
</code></pre>
<ul>
<li>åŒæ ·æ”¯æŒè½½è·å’Œå¯¹è±¡æ–¹å¼</li>
</ul>
<pre><code>// ä»¥è½½è·å½¢å¼åˆ†å‘
store.dispatch('incrementAsync', {
  amount: 10
})

// ä»¥å¯¹è±¡å½¢å¼åˆ†å‘
store.dispatch({
  type: 'incrementAsync',
  amount: 10
})
</code></pre>
<ul>
<li>mapActions è¾…åŠ©å‡½æ•°å°†ç»„ä»¶çš„ methods æ˜ å°„ä¸º store.dispatch è°ƒç”¨</li>
</ul>
<pre><code>import { mapActions } from 'vuex'

export default {
  // ...
  methods: {
    ...mapActions([
      'increment', // å°† `this.increment()` æ˜ å°„ä¸º `this.$store.dispatch('increment')`

      // `mapActions` ä¹Ÿæ”¯æŒè½½è·ï¼š
      'incrementBy' // å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.dispatch('incrementBy', amount)`
    ]),
    ...mapActions({
      add: 'increment' // å°† `this.add()` æ˜ å°„ä¸º `this.$store.dispatch('increment')`
    })
  }
}
</code></pre>
<ul>
<li>Promise</li>
</ul>
<pre><code class="language-js">actions: {
  actionA ({ commit }) {
    return new Promise((resolve, reject) =&gt; {
      setTimeout(() =&gt; {
        commit('someMutation')
        resolve()
      }, 1000)
    })
  },
  //è°ƒç”¨å…¶ä»–action
  actionB ({ dispatch, commit }) {
    return dispatch('actionA').then(() =&gt; {
      commit('someOtherMutation')
    })
  }
}
store.dispatch('actionA').then(() =&gt; {
  // ...
})
</code></pre>
<ul>
<li>async / await</li>
</ul>
<pre><code>// å‡è®¾ getData() å’Œ getOtherData() è¿”å›çš„æ˜¯ Promise

actions: {
  async actionA ({ commit }) {
    commit('gotData', await getData())
  },
  async actionB ({ dispatch, commit }) {
    await dispatch('actionA') // ç­‰å¾… actionA å®Œæˆ
    commit('gotOtherData', await getOtherData())
  }
}
</code></pre>
<h2 id="modules">Modules</h2>
<p>å°†storeåˆ†å‰²æˆæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€‚</p>
<ul>
<li>è·å–æ ¹èŠ‚ç‚¹çŠ¶æ€<strong>rootState</strong></li>
</ul>
<pre><code>actions: {
    incrementIfOddOnRootSum ({ state, commit, rootState }) {
      if ((state.count + rootState.count) % 2 === 1) {
        commit('increment')
      }
    }
}
getters: {
    sumWithRootCount (state, getters, rootState) {
      return state.count + rootState.count
    }
}
</code></pre>
<ul>
<li>å‘½åç©ºé—´ï¼šæ‰€æœ‰ getterã€action åŠ mutation éƒ½ä¼šè‡ªåŠ¨æ ¹æ®æ¨¡å—æ³¨å†Œçš„è·¯å¾„è°ƒæ•´å‘½å</li>
</ul>
<pre><code> modules: {
    account: {
      namespaced: true,

      // æ¨¡å—å†…å®¹ï¼ˆmodule assetsï¼‰
      state: {}, // æ¨¡å—å†…çš„çŠ¶æ€å·²ç»æ˜¯åµŒå¥—çš„äº†ï¼Œä½¿ç”¨ `namespaced` å±æ€§ä¸ä¼šå¯¹å…¶äº§ç”Ÿå½±å“
      getters: {},
      actions: {},
      mutations: {}
    }
}
</code></pre>
<ul>
<li>è®¿é—®å…¨å±€state å’Œ getter</li>
</ul>
<pre><code class="language-js">getters: {
  // åœ¨è¿™ä¸ªæ¨¡å—çš„ getter ä¸­ï¼Œ`getters` è¢«å±€éƒ¨åŒ–äº†
  // ä½ å¯ä»¥ä½¿ç”¨ getter çš„ç¬¬å››ä¸ªå‚æ•°æ¥è°ƒç”¨ `rootGetters`
  someGetter (state, getters, rootState, rootGetters) {}
}
actions: {
    // åœ¨è¿™ä¸ªæ¨¡å—ä¸­ï¼Œ dispatch å’Œ commit ä¹Ÿè¢«å±€éƒ¨åŒ–äº†
    // ä»–ä»¬å¯ä»¥æ¥å— `root` å±æ€§ä»¥è®¿é—®æ ¹ dispatch æˆ– commit
    someAction ({ dispatch, commit, getters, rootGetters }) {}
}
</code></pre>
<h4 id="å¸¦å‘½åç©ºé—´çš„ç»‘å®šå‡½æ•°">å¸¦å‘½åç©ºé—´çš„ç»‘å®šå‡½æ•°</h4>
<ul>
<li>mapState, mapGetters, mapActions å’Œ mapMutationsçš„ç¬¬ä¸€ä¸ªå‚æ•°æ¥å—æ¨¡å—çš„ç©ºé—´åç§°å­—ç¬¦ä¸²</li>
</ul>
<pre><code>computed: {
  ...mapState('some/nested/module', {
    a: state =&gt; state.a,
    b: state =&gt; state.b
  })
},
methods: {
  ...mapActions('some/nested/module', [
    'foo',
    'bar'
  ])
}
</code></pre>
<ul>
<li>createNamespacedHelpersåˆ›å»º</li>
</ul>
<pre><code>import { createNamespacedHelpers } from 'vuex'

const { mapState, mapActions } = createNamespacedHelpers('some/nested/module')

export default {
  computed: {
    // åœ¨ `some/nested/module` ä¸­æŸ¥æ‰¾
    ...mapState({
      a: state =&gt; state.a,
      b: state =&gt; state.b
    })
  },
  methods: {
    // åœ¨ `some/nested/module` ä¸­æŸ¥æ‰¾
    ...mapActions([
      'foo',
      'bar'
    ])
  }
}
</code></pre>
<h4 id="æ¨¡å—åŠ¨æ€æ³¨å†Œstoreregistermodule">æ¨¡å—åŠ¨æ€æ³¨å†Œ<code>store.registerModule</code></h4>
<pre><code>// æ³¨å†Œæ¨¡å— `myModule`
store.registerModule('myModule', {
  // ...
})
// æ³¨å†ŒåµŒå¥—æ¨¡å— `nested/myModule`
store.registerModule(['nested', 'myModule'], {
  // ...
})
</code></pre>
<p>ä½¿ç”¨<code>store.unregisterModule(moduleName) </code>æ¥åŠ¨æ€å¸è½½æ¨¡å—</p>
<h1 id="15è‡ªå®šä¹‰æŒ‡ä»¤">15.è‡ªå®šä¹‰æŒ‡ä»¤</h1>
<p>åœ¨ Vue2.0 ä¸­ï¼Œä»£ç å¤ç”¨å’ŒæŠ½è±¡çš„ä¸»è¦å½¢å¼æ˜¯ç»„ä»¶ã€‚ç„¶è€Œï¼Œæœ‰çš„æƒ…å†µä¸‹ï¼Œä½ ä»ç„¶éœ€è¦å¯¹æ™®é€š DOM å…ƒç´ è¿›è¡Œåº•å±‚æ“ä½œï¼Œè¿™æ—¶å€™å°±ä¼šç”¨åˆ°è‡ªå®šä¹‰æŒ‡ä»¤</p>
<p>åˆ›å»ºVueçš„è‡ªå®šä¹‰æŒ‡ä»¤çš„è¿™äº”ä¸ªé’©å­å‡½æ•°éƒ½æ˜¯å¯é€‰çš„ï¼Œä¸ä¸€å®šè¦å…¨éƒ¨å‡ºç°ã€‚è€Œè¿™å…¶ä¸­bindå’Œupdateä¸¤ä¸ªé’©å­å‡½æ•°æ˜¯æœ€æœ‰ç”¨çš„ã€‚åœ¨å®é™…ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®éœ€æ±‚åšä¸åŒçš„é€‰æ‹©ã€‚æ¯”å¦‚åœ¨æ°å½“çš„æ—¶é—´é€šè¿‡bindé’©å­å‡½æ•°å»åˆå§‹åŒ–å®ä¾‹ï¼Œupdateé’©å­å‡½æ•°å»åšå¯¹åº”çš„å‚æ•°æ›´æ–°å’Œä½¿ç”¨unbindé’©å­å‡½æ•°å»é‡Šæ”¾å®ä¾‹èµ„æºå ç”¨ç­‰ã€‚</p>
<pre><code>bind(el, binding, vnode)
inserted(el, binding, vnode)
update(el, binding, vnode, oldVnode)
componentUpdated(el, binding, vnode, oldVnode)
unbind(el, binding, vnode)
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://www.w3cplus.com/sites/default/files/blogs/2017/1712/vue-custom-directives-6.png" alt="image" loading="lazy"></figure>
<h4 id="é’©å­å‡½æ•°å‚æ•°-2">é’©å­å‡½æ•°å‚æ•°</h4>
<p>æŒ‡ä»¤é’©å­å‡½æ•°ä¼šè¢«ä¼ å…¥ä»¥ä¸‹å‚æ•°ï¼š</p>
<pre><code class="language-js">elï¼šæŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥ç›´æ¥æ“ä½œDOM
bindingï¼šä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«ä¸€äº›å±æ€§ï¼Œç¨ååˆ—å‡ºæ¯ä¸ªå±æ€§çš„å«ä¹‰
vnodeï¼šVueç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ã€‚æœ‰å…³äºVNodeæ›´å¤šçš„èµ„æ–™ï¼Œå¯ä»¥é˜…è¯»VNodeç›¸å…³çš„API
oldVnodeï¼šä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨updateå’ŒcomponentUpdatedä¸¤ä¸ªé’©å­å‡½æ•°ä¸­å¯ç”¨
</code></pre>
<p>bindingå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶åŒ…å«ä»¥ä¸‹ä¸€äº›å±æ€§ï¼š</p>
<pre><code>nameï¼šæŒ‡ä»¤åï¼Œä¸åŒ…æ‹¬v-å‰ç¼€
valueï¼šæŒ‡ä»¤çš„ç»‘å®šå€¼ï¼Œå¦‚ä¾‹v-hello = &quot;1 + 1&quot;ä¸­ï¼Œç»‘å®šå€¼ä¸º2
oldValueï¼šæŒ‡ä»¤ç»‘å®šçš„å‰ä¸€ä¸ªå€¼ï¼Œä»…åœ¨updateå’ŒcomponentUpdatedé’©å­ä¸­å¯ç”¨ï¼Œæ— è®ºå€¼æ˜¯å¦æ”¹å˜éƒ½å¯ç”¨
expressionï¼šå­—ç¬¦ä¸²å½¢å¼çš„æŒ‡ä»¤è¡¨è¾¾å¼ã€‚ä¾‹å¦‚v-hello = &quot;1 + 1&quot;ä¸­ï¼Œè¡¨è¾¾å¼ä¸º&quot;1 + 1&quot;
argï¼šä¼ ç»™æŒ‡ä»¤çš„å‚æ•°ï¼Œå¯é€‰ã€‚ä¾‹å¦‚v-hello:messageä¸­ï¼Œå‚æ•°ä¸º&quot;message&quot;
modifiersï¼šä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ã€‚ä¾‹å¦‚v-hello.foo.barä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡ä¸º{foo:true, bar:true}
</code></pre>
<p>é™¤äº† el ä¹‹å¤–ï¼Œå…¶å®ƒå‚æ•°éƒ½åº”è¯¥æ˜¯åªè¯»çš„ï¼Œåˆ‡å‹¿è¿›è¡Œä¿®æ”¹ã€‚å¦‚æœéœ€è¦åœ¨é’©å­ä¹‹é—´å…±äº«æ•°æ®ï¼Œå»ºè®®é€šè¿‡å…ƒç´ çš„ dataset æ¥è¿›è¡Œã€‚è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚</p>
<h4 id="å‡½æ•°ç®€å†™">å‡½æ•°ç®€å†™</h4>
<p>åœ¨å¾ˆå¤šæ—¶å€™ï¼Œä½ å¯èƒ½æƒ³åœ¨ bind å’Œ update æ—¶è§¦å‘ç›¸åŒè¡Œä¸ºï¼Œè€Œä¸å…³å¿ƒå…¶å®ƒçš„é’©å­ã€‚æ¯”å¦‚è¿™æ ·å†™:</p>
<pre><code>Vue.directive('color-swatch', function (el, binding) {
  el.style.backgroundColor = binding.value
})
</code></pre>
<h4 id="å¯¹è±¡å­—é¢é‡">å¯¹è±¡å­—é¢é‡</h4>
<p>å¦‚æœæŒ‡ä»¤éœ€è¦å¤šä¸ªå€¼ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ª JavaScript å¯¹è±¡å­—é¢é‡ã€‚è®°ä½ï¼ŒæŒ‡ä»¤å‡½æ•°èƒ½å¤Ÿæ¥å—æ‰€æœ‰åˆæ³•çš„ JavaScript è¡¨è¾¾å¼ã€‚</p>
<pre><code class="language-html">&lt;div v-demo=&quot;{ color: 'white', text: 'hello!' }&quot;&gt;&lt;/div&gt;
</code></pre>
<pre><code class="language-js">Vue.directive('demo', function (el, binding) {
  console.log(binding.value.color) // =&gt; &quot;white&quot;
  console.log(binding.value.text)  // =&gt; &quot;hello!&quot;
})
</code></pre>
<h1 id="16ç¼–ç è§„èŒƒ">16.ç¼–ç è§„èŒƒ</h1>
<h2 id="ç¼–ç è§„èŒƒ">ç¼–ç è§„èŒƒ</h2>
<ol>
<li>
<p>æ¯ä¸€ä¸ª Vue ç»„ä»¶ï¼ˆç­‰åŒäºæ¨¡å—ï¼‰é¦–å…ˆ)å¿…é¡»ä¸“æ³¨äºè§£å†³ä¸€ä¸ªå•ä¸€çš„é—®é¢˜ï¼Œç‹¬ç«‹çš„ã€å¯å¤ç”¨çš„ã€å¾®å°çš„ å’Œ å¯æµ‹è¯•çš„ã€‚</p>
</li>
<li>
<p>ç»„ä»¶ååº”è¯¥å§‹ç»ˆæ˜¯å¤šä¸ªå•è¯çš„ï¼Œæ ¹ç»„ä»¶ App é™¤å¤–ï¼Œåˆ‡å‹¿ä½¿ç”¨ä¿ç•™å­—ï¼›åŸåˆ™ï¼šæœ‰æ„ä¹‰çš„ï¼Œç®€çŸ­ï¼Œå¯è¯»æ€§ã€‚</p>
</li>
<li>
<p>ç»„ä»¶çš„dataå¿…é¡»æ˜¯ä¸€ä¸ªå¸¦returnçš„å‡½æ•°</p>
</li>
<li>
<p>propså°½å¯èƒ½ä½¿ç”¨åŸå§‹ç±»å‹çš„æ•°æ®ï¼Œä¸”éœ€è¦æŒ‡å®šå…¶ç±»å‹</p>
</li>
<li>
<p>ä¸º v-for è®¾ç½®é”®å€¼ï¼Œé¿å…v-if å’Œ v-for åŒæ—¶ç”¨åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Š</p>
</li>
<li>
<p>ä¸ºç»„ä»¶æ ·å¼è®¾ç½®ä½œç”¨åŸŸ</p>
</li>
<li>
<p>ç»„ä»¶ç»“æ„åˆç†ï¼Œç®€æ´ï¼Œæ·»åŠ name</p>
</li>
<li>
<p>è°¨æ…ä½¿ç”¨this.<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi mathvariant="normal">ï¼Œ</mi><mi>t</mi><mi>h</mi><mi>i</mi><mi>s</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">parentï¼Œthis.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord">.</span></span></span></span>refs</p>
</li>
<li>
<p>å•æ–‡ä»¶ç»„ä»¶æ–‡ä»¶åçš„å¤§å°å†™(é‡‡ç”¨å¤§é©¼å³°)ï¼Œæ¨¡æ¿ä¸­ä½¿ç”¨è¿å­—ç¬¦kebab-case</p>
</li>
<li>
<p>æŒ‡ä»¤ç¼©å†™</p>
</li>
</ol>
<p>å‚è€ƒèµ„æ–™ï¼š<br>
https://pablohpsilva.github.io/vuejs-component-style-guide/#/chinese<br>
https://vue-loader.vuejs.org/zh-cn/start/spec.html</p>

							</div>
	<div class="wow fadeInUp vt-post-tags">
 
				<a href="https://www.bwrong.cn/tag/vue/" rel="tag">vue</a>
				 
				<a href="https://www.bwrong.cn/tag/-cwNcfC1S/" rel="tag">mvvm</a>
				 
				<a href="https://www.bwrong.cn/tag/V8evsIMHWn/" rel="tag">javascript</a>
				 
					</div>
<nav class="navigation3 post-navigation3" role="navigation">

		<div class="nav-links3">
      
		<div class="wow fadeInUp nav-previous3"><a href="https://www.bwrong.cn/post/krpano/" rel="prev"> Krpanoå…¨æ™¯æ¼«æ¸¸å¼€å‘æ‰‹å†Œ</a></div>
		 
		 
		</div>
	</nav>
	<div class="wow fadeInUp author-info">
	<div class="author-avatar pull-left"><img src="https://www.bwrong.cn/images/avatar.png" ></div>
 
	<div class="author-description"><div class="author-title"><div class="author-link" rel="author">BWrong</div></div>


	<p class="author-bio">æ„¿ä½ èµ°å‡ºåŠç”Ÿï¼Œå½’æ¥ä»æ˜¯å°‘å¹´</p></div></div>
	
		</div>



</article>

<div id="marlin_lite_about_widget-2" class="wow fadeInUp widget marlin_lite_about_widget" data-wow-delay="0.1s">

        
		<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='https://www.bwrong.cn/media/scripts/Valine.min.js'></script>

<div class="comment"></div>
<script>
        new Valine({
            av: AV,
            el: '.comment',
            lang: 'zh-cn',
            visitor: false, // é˜…è¯»é‡ç»Ÿè®¡
            
            admin_email:'wang11535041@qq.com',
            
            
            emoticon_url: '/media/alu',
             
      emoticon_list: ["å.png","å–·è¡€.png","ç‹‚æ±—.png","ä¸è¯´è¯.png","æ±—.png","åç­‰.png","çŒ®èŠ±.png","ä¸é«˜å…´.png","ä¸­åˆ€.png","å®³ç¾.png","çš±çœ‰.png","å°çœ¼ç›.png","ä¸­æŒ‡.png","å°´å°¬.png","ç…ä½ .png","æƒ³ä¸€æƒ³.png","ä¸­æª.png","å¾—æ„.png","è‚¿åŒ….png","æ‰‡è€³å…‰.png","äº²äº².png","æƒŠå–œ.png","è„¸çº¢.png","æ— æ‰€è°“.png","ä¾¿ä¾¿.png","æ„¤æ€’.png","èœ¡çƒ›.png","çŒ®é»„ç“œ.png","å†…ä¼¤.png","æŠ•é™.png","è§‚å¯Ÿ.png","çœ‹ä¸è§.png","å‡»æŒ.png","æŠ é¼».png","é‚ªæ¶.png","çœ‹çƒ­é—¹.png","å£æ°´.png","æŠ½çƒŸ.png","é”çœ‰.png","è£…å¤§æ¬¾.png","åèˆŒ.png","æ— å¥ˆ.png","é•¿è‰.png","èµä¸€ä¸ª.png","å‘²ç‰™.png","æ— è¯­.png","é˜´æš—.png","ä¸å‡ºæ‰€æ–™.png","å’½æ°”.png","æœŸå¾….png","é«˜å…´.png","åè¡€å€’åœ°.png","å“­æ³£.png","æ¬¢å‘¼.png","é»‘çº¿.png","å–œæè€Œæ³£.png","å–·æ°´.png","æ·±æ€.png","é¼“æŒ.png","æš—åœ°è§‚å¯Ÿ.png"],
     
      app_id: 'jaz3TfUjRowK9fOMAPb9yw6i-MdYXbMMI',
      
      
      app_key: 'pbltxx4rElIP1RStL3AwujSp',
         
          
      placeholder: 'æ¬¢è¿ä½ ç•™ä¸‹è¶³è¿¹'
       
        });
    </script>





		</div>

			</div>
			


<div class="tocc col l3 hide-on-med-and-down">

        <div class="toc-widget">

            <div class="toc-title"></div>

            <div id="toc-content">


			</div>
        </div>
    </div>


<script src="https://www.bwrong.cn/media/scripts/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '.entry-summary',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1,h2' //**
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('.entry-summary').children('h1, h2').each(function () {/**/
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget').parent();
        // let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });
    });
</script>






			</div>
		</div>


		 <footer id="colophon" class="site-footer">

	<div class="container">

		<div class="copyright"> <br>Theme: <a
				href="https://github.com/alterfang/gridea-theme-pan" target="_blank" title="Pan"><span>Pan</span></a>.
			Powered by <a href="https://gridea.dev/" target="_blank" title="Gridea"><span>Gridea</span></a> . ç‰ˆæƒæ‰€æœ‰ï¼š<a href="https://beian.miit.gov.cn/" target="_blank"><span>èœ€ICPå¤‡2023018303å·-1</span></a></div>
	</div>

</footer>
		<!-- loding -->
		<div class="loader">
			<div class="loader-content">
				<div class="songjingge">
					<span></span>
					<span></span>
					<span></span>
					<span></span>
					<span></span>
				</div>
			</div>
		</div>
<script id="rendered-js">
	window.onload = function () {
			var loader = document.getElementsByClassName("loader")[0];
			loader.className = "loader fadeout"; //ä½¿ç”¨æ¸éšçš„æ–¹æ³•æ·¡å‡ºloading page
			setTimeout(function () {
				loader.style.display = "none";
			}, 0);
	};
</script>


</div>

<script src="https://cdn.bootcss.com/fitvids/1.2.0/jquery.fitvids.min.js"></script>
<script type='text/javascript' src='https://www.bwrong.cn/media/scripts/marlin-scripts.js'></script>
<script src="https://www.bwrong.cn/media/scripts/lately.min.js"></script>
<script>jQuery(document).ready(function () { $.lately({ 'target': '.lately-a,.lately-b,.lately-c' }) });</script>
<style type="text/css">
  a.back_to_top {
    text-decoration: none;
    position: fixed;
    bottom: 40px;
    right: 30px;
    background: #f0f0f0;
    height: 40px;
    width: 40px;
    border-radius: 50%;
    line-height: 36px;
    font-size: 18px;
    text-align: center;
    transition-duration: .5s;
    transition-propety: background-color;
    display: none;
  }

  a.back_to_top span {
    color: #888;
  }

  a.back_to_top:hover {
    cursor: pointer;
    background: #dfdfdf;
  }

  a.back_to_top:hover span {
    color: #555;
  }

  @media print,
  screen and (max-width: 580px) {
    .back_to_top {
      display: none !important;
    }
  }
</style><a id="back_to_top" href="#" class="back_to_top"><span><i class="iconfont icon-xiangshang"></i></span>
</a>

<script>
$(document).ready((function (_this) {
    return function () {
      var bt;
      bt = $('#back_to_top');
      if ($(document).width() > 480) {
        $(window).scroll(function () {
          var st;
          st = $(window).scrollTop();
          if (st > 30) {
            return bt.css('display', 'block');
          } else {
            return bt.css('display', 'none');
          }
        });
        return bt.click(function () {
          $('body,html').animate({
            scrollTop: 0
          }, 800);
          return false;
        });
      }
    };
  })(this));
//   $(window).load(function () {
//     //å¼‚æ­¥å»¶è¿ŸåŠ è½½æ ·å¼
//     var link = $('<link />');
//     link.attr('href', 'https://fonts.googleapis.com/css?family=Dancing+Script|Noto+Sans+SC:300|Montserrat&display=swap');
//     link.attr('rel', 'stylesheet');
//     link.appendTo($('head'));
// });
</script>

<!-- å® ç‰© -->
<canvas id="live2dcanvas" width="200" height="400" class="live2d"></canvas>
<style>
  #live2dcanvas {
    position: fixed;
    right: 0px;
    z-index: 999;
    pointer-events: none;
    bottom: -40px;
    width: 200px;
    height: 400px;
  }

  @media (max-width: 768px) {
    #live2dcanvas {
      width: 150px;
      height: 300px;
    }
  }

  @media (max-width: 639px) {
    #live2dcanvas {
      display: none !important;
    }
  }
</style>
<script src="https://www.bwrong.cn/media/scripts/L2Dwidget.min.js"></script>
<script>
  //åˆå§‹åŒ–å°äººç‰© éœ€è®¾ç½®å±æ€§pluginRootPath: "live2dw/"æŒ‡æ˜èµ„æºè·Ÿè·¯å¾„
  L2Dwidget.init({
    pluginRootPath: "media/",//èµ„æºrootè·¯å¾„
    pluginJsPath: "scripts/",//jsç›¸å¯¹rootçš„è·¯å¾„
    pluginModelPath: "model/",//æ¨¡å‹ç›¸å¯¹rootçš„è·¯å¾„
    tagMode: !1,
    debug: !1,
    model: {
      scale: 2,
      jsonPath: "/media/model/live2d-widget-model-epsilon/Epsilon2.1.model.json"
    },
    display: {//å¤§å°ä½ç½®ä»€ä¹ˆçš„è‡ªå·±æ…¢æ…¢è°ƒå°±æ˜¯äº†
      position: "right",//å®šä½
      width: 130,//å®½åº¦
      height: 210,//é«˜åº¦
      hOffset: -40,//å·¦å³
      vOffset: 0//ä¸Šä¸‹
    },
    mobile: {
      show: !1
    },
    log: !1
  });
</script>
<!-- å® ç‰©ç»“æŸ -->

		<script data-no-instant>
    // (function ($) {
    //     $.extend({
    //         adamsOverload: function () {
    //             $('.navigation:eq(0)').remove();
    //             $("").attr("rel" , "external");
    //             $("a[rel='external'],a[rel='external nofollow']").attr("target","_blank");
    //             $("a.vi").attr("rel" , "");
    //             $.viewImage({
    //                 'target'  : 'img',
    //                 'exclude' : '.vsmile-icons img,.gallery img',
    //                 'delay'   : 300
    //             });
    //             $.lately({
    //                 'target' : '.commentmetadata a,.infos time,.post-list time'
	// 			});
	// 			console.log(prettyPrint)
	// 			if(prettyPrint) prettyPrint();

    //             $('ul.links li a').each(function(){
    //                 if($(this).parent().find('.bg').length==0){
    //                     $(this).parent().append('<!---<div class="bg" style="background-image:url(https://c3.glgoo.top/s2/favicons?domain='+$(this).attr("href")+')"></div>--->')
    //                 }
    //             });
    //         }
    //     });
    // })(jQuery);
	// jQuery.adamsOverload();

    (function ($) {
        $.extend({
            adamsOverload: function () {
                $.viewImage({
                    'target'  : '.song img',
                    'exclude' : '.vsmile-icons img',
                    'delay'   : 300
                });
            }
        });
    })(jQuery);
    jQuery.adamsOverload();
</script>

</body>
</html>
