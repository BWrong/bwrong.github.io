<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
    
    漫谈前端项目框架搭建 - Bwrong的拾光
    
    </title>
    <link rel="shortcut icon" href="asset/avatar.png" type="image/png" />

    
    
    <link href="atom.xml" rel="alternate" title="Bwrong的拾光" type="application/atom+xml">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="asset/css/style.min.css">
    <link rel="stylesheet" href="asset/css/doc.css">
    <script src="asset/app.js"></script>
</head>
  <body>
    <section class="hero">
      <div class="hero-head animate__animated animate__fadeInDown">
          <nav class="navbar" role="navigation" aria-label="main navigation">
              <div class="container">
              <div class="navbar-brand">
                
                <a target="_self" class="navbar-item " href="index.html">首页</a>
                
                <a target="_self" class="navbar-item " href="archives.html">归档</a>
                
                <a target="_self" class="navbar-item " href="about.html">关于</a>
                

                <a role="button" id="navbarSNSRssSwitchBtn" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarSNSRssButtons">
                  <span aria-hidden="true"></span>
                  <span aria-hidden="true"></span>
                  <span aria-hidden="true"></span>
                </a>
              </div>

              <div id="navbarSNSRssButtons" class="navbar-menu">
                <div class="navbar-start">

                </div>

                <div class="navbar-end">
                  <div class="navbar-item">
                    <!--buttons start-->
                    <div class="buttons">
                      
                        
                        
                        
                        <a href="https://github.com/BWrong" target="_blank" title="github">
                            <span class="icon is-large has-text-grey-darker">
                               <svg class="svg-inline--fa fa-github fa-w-16 fa-lg" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><!-- <i class="fab fa-github fa-lg"></i> -->
                            </span>
                          </a>
                        
                        
                        <a href="https://juejin.cn/user/3421335914820280" target="_blank" title="掘金">
                            <span class="icon is-large has-text-grey-darker">
                               <svg t="1728016596078" class="svg-inline--fa fa-github fa-w-16 fa-lg" viewBox="0 0 1212 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7574" width="400" height="400"><path d="M484.788807 145.803754c-1.4385 1.0665-2.90475 2.088-4.3605 3.129 0.6105-0.3945 1.2195-0.7905 1.83225-1.182 0.79125-0.5805 1.59375-1.1565 2.373-1.755 0.0525-0.0735 0.10425-0.126 0.15525-0.192z m214.184255 109.169252L474.834807 431.698511c-1.14225 4.88475-2.8845 7.83525-7.192501 11.7585 0.26625 0.198 0.5295 0.402 0.79725 0.59625 3.6465 2.65275 7.7115 4.71375 11.268751 7.485 2.667 2.0775 5.115 4.4235 7.67175 6.6345 3.96 4.94175 9.30225 8.18325 13.94325 12.378 4.05 3.66 1.5825 2.24775 4.512 3.710251 2.43975 3.70575 6.5505 7.6005 7.350001 12.135 1.31775 2.0025 2.46525 4.11375 3.7005 6.16875l1.3995 3.135 242.413506-191.148005z m-437.262011 97.875003c-0.54225 0.36675-1.07925 0.74025-1.605 1.12875-0.015 0.14325-0.03675 0.279-0.042 0.438 0.0495 0.051 0.08775 0.0975 0.135 0.147 0.73275-0.4425 1.46475-0.885 2.196-1.329-0.22575-0.1275-0.44625-0.25275-0.684-0.38475z m627.663766 55.042501L471.926307 737.057268c2.487 1.845 0.669 0.414 5.016 4.119 0.768 2.92875 1.575 5.84775 2.33925 8.77725 1.806 2.24625 3.459 4.68 5.58675 6.58575 0.69225 0.62025-0.03-1.18275-0.92175-2.94975-0.615-0.7845-1.233-1.56525-1.9155-2.28975-0.33225-1.683 0.90225 0.2805 1.9155 2.28975 0.32775 0.41775 0.654 0.83775 0.99 1.248 0.18375 0.93675 0.34125 1.8795 0.495 2.823 0.19275 0.132 0.396 0.27 0.62925 0.417001 2.2815 1.91625 3.747 2.85 5.379 5.41875 0.879 1.38375 1.59075 2.86725 2.2935 4.35 0.8865 0.423 1.755 0.873 2.5425 1.4535 4.128 3.036 6.651 6.315 9.1545 10.29375 1.3215 0.79425 2.48775 1.9095 3.621 2.955 0.33375 0.3075 0.627 0.65025 0.9075 1.00725 2.94975 0.486 5.2875 1.46775 8.902501 4.4175 2.15475 0.41325 4.284 0.91875 6.318 1.7175 0.71625 0.2805 1.3485 0.774 1.91175 1.40175 0.31875 0.015 0.57 0.0375 0.84375 0.0585l423.19201-333.681008z m-422.814011 26.553001c-0.1095 0.093-0.2175 0.18825-0.33 0.2775 0 0.8205 0.01875 1.977 0.048 3.4305 0.075-1.209 0.15075-2.4195 0.30375-3.61125-0.00825-0.04275-0.015-0.05625-0.0225-0.09675z m-6.0135 3.53475c-0.03375 0.01725-0.0675 0.036-0.10125 0.0525l0.0585 0.04275zM0.954795 462.922511v0.0045l-0.60825 0.285c-0.045 0.0225-0.0825 0.045-0.123 0.0675 0.288 0.0105 0.552-0.0375 0.7215-0.20925 0.045-0.045 0.0105-0.0975 0.0105-0.14775z m-0.49725 0.77775c-0.51 0.1485-0.717 0.27 0.0375 0.22575-0.015-0.075-0.0225-0.15-0.0375-0.225z m517.437013 31.638001c-0.0135 0.0105-0.0075 0.06 0.02625 0.1575 0.04275 0.1275 0.102 0.249 0.15 0.37425l0.159-0.126c-0.15975-0.22575-0.3075-0.42825-0.33525-0.40575z m-437.367011 28.428001c-0.11475 0.0075-0.49875 0.11475-0.66075 0.1455-0.1335 0.02475-0.26625 0.05325-0.39975 0.08025 0.36675-0.00075 0.7605-0.01725 1.041-0.1815 0.0075-0.015 0.01275-0.03 0.01875-0.04425z m285.106507 130.753503c-0.069 0.1125-0.144 0.222-0.21375 0.33375-0.357 0.5775-0.71925 1.15425-1.07625 1.73175 1.3665 0.02025 2.73225 0.07275 4.095 0.14625z m102.680252 80.970752c-0.14175 0.17775-0.28875 0.35025-0.43125 0.52725 1.701 2.85 3.04725 6.0345 2.11425 4.275-0.735-1.3875-1.395-2.85225-2.115-4.272-0.0345 0.0435-0.0705 0.0855-0.10575 0.129l0.57 2.83275c0.0105 0.051 0.0135 0.08925 0.0225 0.1395 1.3245 1.97325 2.71125 3.88875 4.293751 5.625 0.79425 0.1935 1.5225 0.45975 2.007 0.77025 0.23925 0.153 0.46875 0.3165 0.696 0.48375 0.06225-1.2585-0.357-3.51675-0.753-4.53825-0.61875-1.596-1.9275-2.7975-3.069-4.10475l-0.4305 0.33975z m0.0555 3.6315c-0.4545-0.678-0.8985-1.36575-1.34475-2.05125-0.17775 0.2175-0.35325 0.43725-0.5325 0.654 0.36525 0.705 0.8565 1.67925 1.5945 3.08625-0.018-1.95 0.34425-0.54525 0.71625 1.8225 0.0075 0.00225 0.009 0.00675 0.0135 0.00975-0.018-0.918-0.16425-2.085-0.447-3.52125z m-3.17475 4.545a2.7675 2.7675 0 0 0-0.58725 0.03975 12.9375 12.9375 0 0 1 1.8015 1.72425c0.18225 0.0555 0.35775 0.0975 0.522 0.12-0.11775-0.55425-0.237-1.1085-0.35775-1.66275-0.50775-0.12-0.9855-0.20775-1.3785-0.22125z m9.583501 2.23875a5.47275 5.47275 0 0 0-0.92025 0.07875c0.2535 0.24675 0.51 0.48975 0.77475 0.72675 0.45525 0.40725 0.663 0.0825 0.72-0.573-0.1875-0.07875-0.369-0.159-0.5745-0.2325z m1.0035 0.4185c1.1325 0.9015 2.13 1.962 3.06825 3.09225-0.47175-1.2105-1.33275-2.26725-3.06825-3.09225z m-1.878 1.2105c0.4245 0.696 0.8235 1.4145 1.2825 2.08125 0.0945-0.615-0.435-1.3455-1.2825-2.08125z m9.93 8.7075c-0.03525 0.03225 0.21225 0.342 0.804 0.82425-0.3855-0.5085-0.67275-0.7755-0.7725-0.819-0.01575-0.0075-0.02625-0.009-0.0315-0.00525z m1.7385 2.275501c0.3585 2.20125 0.726 4.401 1.35975 6.53475 0.336 1.134 0.3885-2.4375-0.01725-3.5475-0.45225-1.23375-0.915-2.21775-1.3425-2.98725z m-1.76625 5.21475c0 0.00525 0.0075 0.0255 0.02925 0.063 0.192 0.324 0.405 0.639 0.612 0.9555-0.0075-0.02625-0.012-0.05025-0.01875-0.0765-0.0825-0.29775-0.612-0.9795-0.6225-0.942z m-47.732251 43.962751c0.2625 0.3615 0.6165 0.65025 1.0155 0.876-0.0615-0.1545-0.123-0.3015-0.1845-0.45975 0-0.00075 0-0.003-0.0075-0.00525h-0.0105a11.8575 11.8575 0 0 1-0.816-0.411z m64.374001 4.5675c-0.159 0.31725-0.33225 0.6375-0.5025 0.957l0.8175-0.645c-0.105-0.1065-0.2085-0.20025-0.315-0.312z" p-id="7575"></path><path d="M530.895058 119.956503l-91.155752 71.902502-4.7445 3.8055 95.900252 76.462502 96.230252-76.462502-8.949-6.9z m227.616756 182.782504L530.660308 482.400012 303.044302 302.947507l-61.726501 49.578752L530.634808 580.672514l289.594507-228.346505c-0.4335 0.0075-0.5325-0.1725-1.10325-0.7125l-0.06-0.05925c-0.075-0.0375-0.144-0.07725-0.2175-0.1125 0.0015 0.00675 0 0.0225 0 0.03675 0.0015 0.015-0.02925 0-0.02925-0.0075-0.12525-0.12375-0.26925-0.237-0.35625-0.39075-0.06-0.1065-0.0525-0.1575-0.078-0.234h-0.015c-0.0075-0.0075-0.00375-0.03-0.015-0.045l-6.63825-5.326501-0.28725-0.22575c-0.249-0.14775-0.51675-0.27-0.73875-0.4605-0.138-0.1275-0.2835-0.249-0.41625-0.3825-0.03-0.0225-0.0225-0.07425-0.03-0.1125l-0.13875-0.105-0.0075-0.00675c-0.07425-0.06675-0.1575-0.1065-0.234-0.165-0.06-0.045-0.10425-0.11775-0.174-0.14775-0.14625-0.06-0.306-0.08025-0.4605-0.1215-0.21-0.129-0.4365-0.243-0.6345-0.39075-0.09-0.0675-0.15225-0.16725-0.22575-0.25275-0.10275-0.11775-0.2055-0.234-0.3045-0.35625-0.03-0.04425-0.0375-0.12075-0.087-0.156-0.05925-0.045-0.1275-0.06-0.19125-0.09525-0.21075-0.10575-0.45975-0.1515-0.66-0.2775-0.5175-0.32775-0.492-0.246-0.57375-0.53925-0.015-0.0375 0.00225-0.0975-0.0375-0.12075-0.11025-0.0825-0.249-0.123-0.3735-0.18225-0.1905-0.12-0.38775-0.2295-0.57375-0.35625-0.105-0.075-0.177-0.18375-0.2775-0.261-0.255-0.19275-0.56775-0.3405-0.75675-0.609-0.3975-0.411-0.951-0.6555-1.416-0.98175-0.561-0.336-1.125-0.6645-1.503-1.2165-0.3615-0.36975-0.8985-0.486-1.24275-0.8775-0.2385-0.2325-0.555-0.37875-0.825-0.573a6.0585 6.0585 0 0 1-0.62625-0.5385c-0.015-0.015 0.03 0.00375 0.0525 0.00675 0.21375-0.06 0.06675-0.0075-0.25125-0.1125-0.5235-0.1725-0.8955-0.396-1.312501-0.75675-0.0525-0.045-0.08625-0.09675-0.12975-0.14775-0.0675-0.07725-0.24525-0.342-0.34725-0.42525-0.234-0.18975-0.52875-0.30225-0.78225-0.4605-0.2955-0.18825-0.45-0.27075-0.69525-0.495a6.46875 6.46875 0 0 1-0.40875-0.39975c-0.0225-0.0225-0.0525-0.06-0.045-0.087 0.015-0.0375 0.1485-0.0375 0.11325-0.0525-0.14775-0.0795-0.32625-0.0975-0.486-0.14775-0.06-0.06-1.065-0.735-0.6-0.747 0.10725-0.00225 0.4275 0.006 0.3225-0.0075-0.15825-0.0225-0.31725-0.015-0.4785-0.015-0.216-0.0975-0.444-0.18-0.651-0.29475-0.1635-0.09075-0.52875-0.52275-0.66075-0.678-0.0825-0.11025-0.1275-0.17625-0.1215-0.18225 0.03-0.0225 0.12225 0.0225 0.09525 0-0.05925-0.045-0.14025-0.0525-0.20775-0.078-0.348-0.1425-0.3105-0.13275-0.6345-0.31275-0.1575-0.1215-0.3195-0.2355-0.4695-0.36525-0.1875-0.162-0.3675-0.426-0.52125-0.6255-0.045-0.06-0.0675-0.12525-0.12225-0.174-0.045-0.0375-0.105-0.06-0.1575-0.08775-0.3225-0.17175-0.117-0.08025-0.63375-0.234-0.4785-0.24-0.7605-0.522-1.06875-0.93-0.402-0.33 0.15975 0.105-0.5475-0.33-0.9195-0.56475-0.399-0.201-0.65175-0.495-0.0375-0.045-0.075-0.0945-0.1215-0.1305-0.0675-0.0525-0.14475-0.08625-0.2175-0.12975-0.33675-0.195-0.6525-0.35325-0.9555-0.609-0.42375-0.357 0.0225 0.00075-0.1395-0.1905-0.015-0.015-0.0375-0.0225-0.05175-0.0375-0.117-0.0675-0.42075-0.2475-0.4605-0.28725-0.12825-0.13125-0.225-0.29175-0.33-0.4425-0.414-0.1725-0.816-0.3885-1.06875-0.774-0.08025-0.129-0.0075-0.03-0.339-0.174-0.2235-0.32775-0.273-0.75375-0.513-1.06875v-0.0075l-0.0075-0.00675c0.0015 0.0075 0.003 0.0225 0 0.015-0.0795-0.06675 0.0075 0.324 0.0525 0.4785 0.0225 0.07425 0.21525 0.13725 0.1485 0.174-0.0675 0.0375-0.11025-0.11025-0.165-0.165-0.1395-0.153-0.255-0.2805-0.3825-0.435-0.015-0.0225-0.078-0.05925-0.0525-0.05925h-0.03c-0.15825-0.0915-0.32625-0.17475-0.47775-0.2775-0.23325-0.15975-0.4185-0.50625-0.67725-0.6525-0.17325-0.1605-0.2655-0.22725-0.3915-0.408a3.1845 3.1845 0 0 1-0.14775-0.234c-0.015-0.0225-0.0375-0.099-0.045-0.11325-0.045-0.0525-0.0975-0.0825-0.14775-0.12225 0.0075 0.0375 0.0375 0.08025 0.0525 0.12225 0.00375 0.015-0.03-0.0075-0.045-0.015 0.231 0.26775-0.03-0.0885-0.26025-0.35625-0.138-0.03-0.2775-0.015-0.5385-0.14775-0.0825-0.0375-0.111-0.12675-0.165-0.19125-0.26625 0.03-0.63075 0.08025-0.79125-0.156-0.03-0.0375-0.015-0.09-0.03-0.1305-0.0225-0.0075-0.04425-0.0075-0.06675-0.015-0.5295-0.19125-0.5955-0.22275-0.75525-0.417-0.153 0.201-0.2955 0.006-0.4425-0.339 0 0-0.0045-0.015-0.015-0.015-0.0075-0.015-0.045-0.045-0.045-0.0525 0.15075 0.0225-0.0915-0.00675-0.1215-0.0375-0.06-0.05175-0.0855-0.1275-0.1305-0.1905-0.0525-0.015-0.06-0.015-0.096-0.03-0.0525-0.08625-0.11475-0.171-0.165-0.26025-0.03-0.0225-0.075-0.0375-0.10425-0.06-0.0225-0.0225-0.00375-0.04425-0.03-0.08625-0.045-0.0225-0.09225-0.0225-0.12975-0.0525-0.0675-0.045-0.0525-0.123-0.0675-0.22575-0.135-0.2145-0.231-0.333-0.21675-0.25275 0.0075 0.0225 0.0375 0.0375 0.045 0.06 0.0015 0.0225-0.0375-0.0375-0.045-0.045 0.0075 0.0375 0.0075 0.045 0.03 0.15675 0.05925 0.0825 0.1995 0.15 0.18225 0.252-0.015 0.0945-0.15-0.13125-0.19125-0.2175-0.0375-0.07425-0.06-0.1485-0.078-0.22575-0.5955-0.20475-1.311-0.489-0.765-0.8085-0.0525-0.06-0.102-0.123-0.165-0.174-0.0225-0.015-0.3285-0.18375-0.35625-0.20025-0.14025-0.0825-0.43125-0.26025-0.591-0.35625-0.59025-0.63975-0.58125-0.63-0.5295-0.59025a1.578 1.578 0 0 0-0.19875-0.1395c-0.0975-0.05175-0.204-0.09225-0.30525-0.13875-0.7575-0.3465-1.566-0.65475-2.15475-1.26825-0.09225-0.12075-0.49875-0.36375-0.6165-0.4605-0.0375-0.03-0.075-0.0525-0.096-0.087-0.0075-0.015 0.0375-0.0525 0.015-0.06-0.084-0.0525-0.1875-0.06-0.27825-0.09525-0.3225-0.23775-0.60525-0.357-0.74775-0.7215-0.00675-0.0225 0.0375 0.0375 0.06 0.045 0.0525 0.0225 0.21525 0.08475 0.165 0.0525-0.105-0.0675-0.2265-0.11025-0.339-0.165-0.1665-0.16425-0.3375-0.32325-0.495-0.49575-0.0225-0.0225-0.08475-0.1725-0.105-0.2085-0.081-0.14025-0.1125-0.13125-0.19125-0.3045-0.0045-0.015 0.0375 0.015 0.0525 0.03 0.0525 0.015 0.201 0.075 0.156 0.045-0.11025-0.0765-0.25725-0.09375-0.35625-0.18225-0.1875-0.1695-0.33525-0.3765-0.495-0.57375-0.015-0.015-0.0375-0.06-0.015-0.0525 0.0375 0.0075 0.06 0.0525 0.09525 0.0675 0.0225 0.0075-0.0375-0.0375-0.0525-0.0525-0.26025-0.243-0.52875-0.48525-0.738-0.7725-0.219-0.14025-0.396-0.28125-0.3045-0.40875 0.015 0.006 0.0375 0.015 0.0525 0.015-0.27-0.13725-0.37125-0.19725-0.57375-0.3735-0.0675-0.06-0.13275-0.114-0.20025-0.174-0.17025-0.1725-0.2955-0.36375-0.435-0.5475-0.39-0.21225-0.795-0.429-0.97275-0.86925-0.015-0.156-0.1575-0.21-0.2865-0.28575-0.10125-0.0675-0.2055-0.14475-0.3045-0.2175-0.0225-0.015 0.0525 0.0375 0.078 0.045 0.015 0.0045 0.0675 0.00675 0.0525 0-0.38625-0.15375-0.783-0.23925-0.9825-0.696-0.0375-0.08025-0.0885-0.15-0.1125-0.234-0.00525-0.0225 0.03 0.03 0.0525 0.0375 0.0765 0.03675 0.162 0.05925 0.24225 0.087 0.045 0.015-0.0975-0.015-0.1215-0.0525-0.0075-0.0225 0.07575-0.006 0.06-0.03-0.183-0.23475-0.3855-0.45525-0.58275-0.677251l-0.12225-0.10425h-0.015c-0.0765 0.0075-0.15225-0.0075-0.234 0 0.00375 0.06 0.0375 0.35025 0.045 0.3135 0.0045-0.084 0.05925-0.2475 0.36375 0.2175 0.0525 0.078-0.1815-0.0795-0.26025-0.1305-0.0525-0.03-0.06-0.06-0.10425-0.087-0.144-0.093-0.2625-0.174-0.35625-0.3045-0.015-0.00525-0.03 0.006-0.0375 0-0.29775-0.18225-0.384-0.5925-0.651-0.8175-0.1095-0.09075 0.0675 0.234 0.174 0.39225 0.00525 0.04425-0.0225 0.05175 0.28725 0.1995-0.09-0.0525-0.20625-0.07425-0.2685-0.156-0.015-0.015-0.00225-0.03-0.015-0.045-0.00375-0.04425-0.22725-0.345-0.339-0.59925-0.045-0.0015-0.06 0.00225-0.08625 0-0.0075 0-0.03 0.00225-0.0675-0.015 0.0525 0.084 0.10725 0.16275 0.1485 0.25275 0.0525 0.11025-0.375-0.50475-0.234-0.27825-0.03-0.0525 0.0375 0 0.087 0.03a0.225 0.225 0 0 1-0.0375-0.0525c-0.147 0.03-0.14775 0.06-0.7215-0.504-0.0075-0.0375-0.0525-0.0675-0.0525-0.105 0-0.006 0.045-0.006 0.045-0.01425-0.045-0.09525-0.17025-0.144-0.22575-0.234-0.18075-0.13125-0.3675-0.2745-0.495-0.4605-0.015-0.0225-0.0375-0.045-0.0525-0.0675z m4.761 3.84l-0.243-0.2085c0.00525 0.0375 0.0225 0.1605 0.03 0.20025a0.7875 0.7875 0 0 1 0.2175 0.0075z m55.852501 45.035252c0.135 0.114 0.2745 0.231 0.435 0.30375 0.06 0.03 0.1365 0.015 0.19125 0.0075l-0.12225-0.105c-0.165-0.0855-0.333-0.16575-0.50325-0.243 0.0045 0.0075-0.0075 0.03 0 0.0375z m-57.450751-46.338752c0.00375 0.081-0.015 0.1125 0 0.165 0.0045 0.0225 0.03 0.0375 0.0375 0.0525 0.0225-0.00525 0.1125 0.015 0.15675 0.015-0.0225-0.045-0.0525-0.10275-0.06-0.1305z m0.19125 0.23475c0.00675 0.0225 0.015 0.0375 0.03 0.05175 0.06675 0.00225 0.05925-0.0075 0.12975-0.0075l-0.045-0.03675c-0.015 0.00375-0.081-0.0075-0.1125-0.0075z m14.4405 12.337501c-0.084 0.03-0.2115 0.0525-0.26025 0.07875 0.0675 0.0825 0.132 0.16425 0.2175 0.22575 0.1065 0.11625 0.27 0.279 0.435 0.42525-0.0525-0.11475-0.0975-0.23325-0.1485-0.34725-0.03-0.0375-0.0375-0.045-0.0525-0.06675-0.015-0.015-0.00075-0.0225-0.015-0.045-0.00675-0.03675-0.06675-0.126-0.06675-0.165-0.0375-0.0375-0.07425-0.06675-0.1125-0.1035z m0.35625 0.4875c-0.03-0.075 0.015 0.1605 0.045 0.234 0.015 0.0375 0.0375 0.05925 0.0675 0.087-0.03-0.1095-0.0675-0.2175-0.114-0.32175z m0.3645 0.5115c-0.03-0.0375 0.0375 0.0855 0.045 0.15675 0.0375 0.06675 0.12375 0.1335 0.18225 0.20775-0.00225-0.00675 0.0015-0.00675 0-0.015-0.075-0.11775-0.1335-0.24525-0.2265-0.34725z m0.2265 0.348c0.0075 0.015 0.015 0.03 0.03 0.04425 0.015 0.0225 0.0375 0.0375 0.0525 0.06 0.02175 0.00675 0.04425 0.015 0.066 0.02925-0.06-0.099-0.114-0.195-0.19125-0.27825-0.03-0.0375 0.03 0.075 0.045 0.14775z m0.078 0.1035c-0.00525-0.0015-0.0075 0.00225-0.015 0 0.03 0.045 0.06 0.08475 0.087 0.1305 0.0375 0.0225 0.06 0.045 0.09525 0.06-0.075-0.0675-0.105-0.123-0.165-0.192z m3.49275 2.12925l0.03 0.03c-0.00525-0.00675-0.00225-0.0225-0.015-0.03-0.0045-0.0015-0.0075 0-0.015 0z m168.088504 134.228253l-418.25251 329.807258-417.99151-329.625008-61.752752 49.605001 479.745012 378.26626 479.187762-377.84026c-0.09225-0.06675-0.186-0.13575-0.2775-0.2085-0.045-0.0375 0.08325 0.045 0.036-0.0075-0.12525-0.06675-0.2475-0.135-0.3735-0.1995-0.138-0.15525-0.2745-0.303-0.40875-0.4605-0.012-0.015 0.17025 0.144 0.015-0.0525-0.2025-0.1935-0.456-0.33075-0.669-0.51225-0.03-0.03 0.066 0.0375 0.1035 0.06h0.03675a2.0205 2.0205 0 0 1-0.747-0.41775c-0.2535-0.255-0.29625-0.34275-0.339-0.4515l-0.015-0.0075c-0.045-0.02925-0.08025-0.081-0.12075-0.12-0.0375-0.0225-0.0675-0.0375-0.105-0.06-0.12225-0.045-0.26025-0.0525-0.35625-0.1395-0.04425-0.0375-0.081-0.093-0.12225-0.13875a1.93125 1.93125 0 0 1-0.45975-0.3915 6.11625 6.11625 0 0 1-1.269-0.6435c-0.132-0.153-0.276-0.3-0.39975-0.45975-0.012-0.0225-0.05175-0.07725-0.0285-0.07875 0.07575-0.0045 0.267 0.1275 0.22575 0.06-0.0435-0.0765-0.1725-0.0675-0.25125-0.10425-0.36-0.183-0.396-0.22125-0.7215-0.44325-0.1575-0.11925-0.31575-0.2325-0.468751-0.35625-0.41775-0.3375-0.711-0.8205-1.095-1.19025-0.0375-0.045-0.078-0.0975-0.12225-0.1395a4.611 4.611 0 0 1-0.4695-0.2775c-0.393-0.22575-0.7875-0.4935-1.01625-0.8865-0.0375 0-0.2025-0.00525-0.0675 0-0.02175-0.045-0.03675-0.087-0.0585-0.1305-0.0225-0.0675 0.012-0.0525-0.24375-0.2175a4.458 4.458 0 0 1-1.008-0.903c-0.102-0.11925-0.23325-0.21225-0.29475-0.35625v-0.0075c-0.03-0.03-0.05925-0.0525-0.087-0.078-0.1095-0.0525-0.2565-0.09-0.33-0.12075-0.29475-0.1155-0.44325-0.1425-0.678-0.357a3.21525 3.21525 0 0 1-0.339-0.37275c-0.07575-0.096 0.18525-0.0375 0.1215-0.078-0.117-0.075-0.261-0.093-0.39075-0.1395-0.189-0.1155-0.384-0.2205-0.56475-0.34725a0.64725 0.64725 0 0 1-0.165-0.165c-0.015-0.0225 0-0.06-0.015-0.078-0.096-0.0675-0.213-0.0945-0.31275-0.15675-0.321-0.198-0.35925-0.258-0.591-0.495-0.2685-0.25725-0.552-0.46275-0.834-0.7035-0.02925-0.0225-0.0375-0.09075-0.0675-0.10425-0.13425-0.0675-0.285-0.10425-0.42525-0.1575-0.198-0.147-0.4005-0.2835-0.59025-0.4425a0.2835 0.2835 0 0 1-0.078-0.1215c0-0.0225 0.066-0.03 0.0525-0.045-0.11475-0.09-0.27-0.12375-0.3825-0.21675-0.402-0.33225-0.387-0.34725-0.5565-0.67725 0.012-0.0225-0.012-0.0525 0.012-0.06-0.2085-0.1575-0.41625-0.31875-0.6255-0.477 0-0.0045-0.015-0.00525-0.015-0.0075-0.0375-0.03-0.2325-0.10425-0.25125-0.1125-0.44175-0.1785-0.75675-0.5565-1.0605-0.90375-0.0525-0.06-0.07875-0.14025-0.14775-0.17475-0.0375-0.015 0.015 0.0765 0.03 0.11325-0.642 0.015-1.28025-0.96225-1.59-1.44225-0.18825-0.357-0.5175-0.6165-0.8175-0.8775-0.03675-0.0375-0.087-0.06-0.12-0.10425-0.114-0.14025-0.2085-0.29625-0.3135-0.4425-0.14625-0.3675-0.12675-0.27525-0.0945-0.20925 0-0.0045 0-0.015-0.01275-0.015 0 0.015-0.03-0.05175-0.015-0.03675a4.9065 4.9065 0 0 1-1.008-0.6165c-0.58275-0.315-0.228-0.0525-0.84225-0.7035-0.141-0.32475 0.03675-0.12-0.23475-0.34725-0.36375-0.26175-0.3705-0.28725-0.564-0.4695-0.015-0.0075-0.0225-0.0075-0.0375-0.015-0.08625-0.06-0.1755-0.135-0.26925-0.09525-0.50475-0.2325-0.954-0.5625-1.251-1.0425-0.3615-0.1605-0.61125-0.333-0.73875-0.52125-0.05175-0.03-0.0945-0.045-0.13875-0.0675-0.135-0.084-0.2625-0.18525-0.3915-0.2775-0.012-0.015-0.0225-0.0375-0.0375-0.0525-0.036-0.0225-0.234-0.1545-0.3045-0.20025-0.012-0.00075-0.015-0.0075-0.03-0.0075-0.29025-0.03675-0.198 0.015-0.92925-0.59025-0.1125-0.05925-0.2595-0.09225-0.34725-0.20775-0.03-0.0375-0.04425-0.0675-0.06675-0.10425-0.1815-0.0075-0.213-0.045-0.89475-0.60825-0.012-0.0375 0-0.00525 0-0.03-0.108-0.06-0.21225-0.12225-0.3225-0.18225-0.036-0.0375-0.6705-0.64425-0.66-0.68625 0-0.015 0.03 0.0045 0.045 0.0075 0.17025 0.0735 0.462 0.02175 0.55575-0.015-0.015-0.0075-0.015 0-0.015-0.0075-0.2625-0.0225-0.5445 0.03-0.7905-0.06-0.1845-0.06675-0.26025-0.29475-0.39075-0.4425 0.07575 0.006 0.0225-0.0015 0.174 0.05175-0.14025-0.0765-0.312-0.15975-0.44325-0.243-0.015-0.0075 0.03675 0.015 0.0585 0.015 0.0765 0.015 0.29625 0.06675 0.2265 0.0375-0.894-0.40575-0.375 0.05175-0.9555-0.609-0.01275-0.0225-0.12225-0.0225-0.17475-0.0675-0.066-0.04425-0.144-0.0945-0.2085-0.14775a6.97275 6.97275 0 0 1-0.66-0.7125c-0.01275-0.00375-0.015-0.0045-0.03-0.00675-0.135-0.0525-0.495-0.564-0.6525-0.66-0.0585-0.06-0.105-0.1275-0.165-0.183-0.012-0.0015 0.00075 0.0075-0.1215-0.06675-0.89325-0.57825 0.2805 0.06-0.486-0.29475-0.4365-0.297-0.5835-0.372-0.756-0.756l-0.01275-0.0075v-0.0075c-0.015-0.003-0.015 0-0.03-0.006-0.11625-0.0885-0.24225-0.17625-0.3555-0.27-0.0375-0.02925-0.075-0.05925-0.09525-0.1035 0-0.0075 0.01275-0.015 0.015-0.03-0.0225-0.0225-0.05925-0.0225-0.06675-0.0525-0.2115-0.10125-0.48525-0.1215-0.6165-0.3555-0.159-0.1575-0.306-0.33-0.4695-0.48675h-0.012v-0.0075c-0.1845-0.17775-0.384-0.3435-0.53925-0.5475-0.012-0.015-0.012-0.02175-0.03-0.04425-0.0435-0.0375-0.123-0.05925-0.1815-0.12975-0.0375-0.0375-0.05925-0.0675-0.08625-0.10425-0.2625-0.0675-0.6-0.13275-0.6-0.261-0.15675-0.1935-0.315-0.378-0.46875-0.57375 0-0.006 0.015-0.00075 0.03 0 0.012-0.015 0.02925-0.0225 0.01425-0.0375-0.0225-0.04425-0.07425-0.07425-0.105-0.1125-0.015-0.0225-0.015-0.06-0.04425-0.078-0.066-0.045-0.15225-0.0675-0.22575-0.10425-0.132-0.09-0.2445-0.1935-0.3645-0.2865-0.09525-0.06675-0.18225-0.14625-0.26025-0.2175-0.09525-0.081-0.20175-0.1455-0.2955-0.234-0.10875-0.111-0.16575-0.23625-0.25125-0.34725-0.1095-0.09975-0.22125-0.198-0.3225-0.30375-0.012-0.015-0.05925-0.11475-0.0945-0.17475a3.9855 3.9855 0 0 1-0.53025-0.330001c-0.03-0.006-0.03-0.0075-0.0525-0.015-0.01425-0.0045-0.01425-0.0075-0.02925-0.015a0.207 0.207 0 0 1-0.05925-0.03 3.9285 3.9285 0 0 1-0.7725-0.45975c-0.0525-0.0375-0.075-0.11775-0.1305-0.1485-0.12675-0.06675-0.2685-0.10275-0.39975-0.156-0.1605-0.147-0.31725-0.29625-0.47775-0.4425 0.05175 0.02175 0.22575 0.05175 0.174 0.02925-0.07425-0.0375-0.15525-0.0525-0.23475-0.078-0.29625-0.09075-0.6165-0.14925-0.7995-0.4695 0.015-0.00225 0.4965 0.14775 0.33975 0.078-0.18825-0.08325-0.94575-0.1875-0.93-0.582 0.05175 0.00675 0.108 0.0225 0.165 0.03-0.246-0.273-0.39-0.63375-0.6345-0.91275l-0.015-0.0075c-0.05175-0.04425-0.012 0.1755 0.015 0.25275 0.078 0.21075 0.33825 0.48375 0.1035 0.22575-0.24-0.29775 0.015-0.10125-0.52125-0.39075-0.102-0.2175-0.2055-0.4335-0.3045-0.6525l-0.19875-0.165v0.015c0.17775 0.48825 0.387 0.45975 0.07725 0.27-0.18375-0.1485-0.28725-0.21225-0.416251-0.41775-0.045-0.075-0.08175-0.1545-0.12225-0.234l-9.69675-7.785c-0.20625-0.075-0.24825-0.12-0.5565-0.183 0.01275-0.07425-0.012-0.156 0.03-0.2175 0.012-0.015 0-0.015 0.012-0.015l-0.165-0.12975c-0.05925-0.045-0.12-0.0375-0.18225-0.096-0.0375-0.0375-0.05925-0.08625-0.0945-0.12975l-0.45225-0.36525a0.96975 0.96975 0 0 1-0.19125-0.156z m18.664501 15.11025c0.015 0.006 0.03675 0.0075 0.05175 0.015-0.0375-0.03-0.07425-0.045-0.12225-0.078-0.0225-0.015 0.0375 0.03 0.06675 0.05925z m0.05175 0.015c0.012 0.006 0.015 0.00675 0.02925 0.015 0.015 0.0045 0.04425 0.015 0.04425 0.00675-0.0225-0.015-0.04425-0.015-0.06675-0.03z m14.04975 11.817001c0.0375 0.015 0.05925 0.03 0.0945 0.0375 0.0375 0.00675 0.15 0.00675 0.11325 0-0.15975-0.0375-0.13125-0.0225-0.2085-0.0375z m3.1275 2.259c0.015 0.006 0.015 0.00075 0.0375 0.0075-0.05925-0.06-0.0375-0.015-0.174-0.1395-0.045-0.0375 0.087 0.0975 0.13875 0.12975z m-4.29225-3.1455c0.03 0.0075 0.045 0.03 0.0675 0.0375 0.036 0.006 0.16275-0.0075 0.1215-0.015-0.14475-0.0225-0.10875-0.015-0.19125-0.015z m1.67775 0.756c0.11175 0.7065 0.0585 0.426 0.339 0.68625-0.078-0.12525-0.1665-0.333-0.2865-0.6435l-0.03-0.015c-0.015-0.00675-0.015-0.015-0.02925-0.03z m1.1295 1.27725c0.0225 0.0225 0.05175 0.0375 0.07725 0.0525 0.015 0.00675 0.07875 0.015 0.05925 0.00675-0.07875-0.0375-0.078-0.03-0.1395-0.06z" p-id="7576"></path><path d="M611.56731 114.890253c-0.015 0-0.0375 0.0735-0.0525 0.1035 0.67875 1.092 1.36725 2.1795 2.025 3.28575 0.1455 0.30525 0.315 0.59475 0.4695 0.89475 0.03 0 0.06 0.075 0.09525 0.075 0.114-0.21525 0.24825-0.4095 0.34725-0.6255-0.954-1.24725-1.90275-2.5005-2.8845-3.7335z m34.129501 58.572751c-0.16725 0.0825-0.3465 0.12675-0.5475 0.11175 0.5415 0.57225 1.04775 1.185 1.5555 1.7895-0.30225-0.5205-0.64125-1.02525-0.8955-1.57275-0.03-0.075-0.07875-0.24525-0.1125-0.327z m-20.415001 18.432001l-0.18375 0.7425c0.29025 0.66 0.555 1.335 0.96 1.92675 0.19275 0.28275 0.67725 0.74325 1.1115 1.173-0.015 0-0.02175 0.0015-0.04425-0.07275-0.64875-1.23675-1.245-2.5035-1.84425-3.7695z m-264.261006 65.964001l-61.727252 49.578752 264.912757 208.901255c0.8055-0.56775 1.7595-1.13775 2.931-1.7925 0.25425-0.528 0.52875-1.04325 0.8835-1.509a33.654751 33.654751 0 0 1 2.44575-2.893501c-0.24525-0.7755-0.38175-1.515-0.33675-2.097 0.009-0.11925 0.0225-0.2205 0.03225-0.3375a27.387751 27.387751 0 0 1-2.265-2.45775c-1.54275-1.9095 1.93875-4.512 2.9085-6.76725 0.40575-0.22575 0.96675-0.561 1.44525-0.84075 1.39725-3.1515 3.207-4.10475 4.8975-5.1075a86.491502 86.491502 0 0 1 3.07575-2.4045c0.24825-0.288 0.48825-0.58425 0.744-0.8655 2.49525-2.751 14.45325-13.53825 15.924751-14.817 0.1725-0.15 0.291-0.24525 0.45375-0.3855l0.04275-0.0495c10.50975-12.10275 7.638-8.55375 10.137-11.028751-0.55875-0.92475-1.212-1.80525-1.527-2.8305-1.38975-4.5225-1.851-7.0185-1.58025-10.1055-1.42425 0.25125-2.80575 0.3495-3.0225 0.1725a65.618252 65.618252 0 0 1-3.12975-2.745c-0.09975-0.02325-0.2025-0.0465-0.28875-0.072-1.659 0.078-3.3345-0.7725-4.837501-2.946-0.444-0.64275-0.75525-1.34925-0.99-2.09175-1.60875-1.632-3.10275-3.3825-4.20975-5.364-0.63525-0.36975-1.12125-0.8085-1.515-1.395z m231.130505 184.508255c0.66075 0.67125 1.33875 1.323 2.017501 1.9635a5.12775 5.12775 0 0 0 2.06925 1.2c-1.476-1.44825-2.92875-2.9235-4.389001-4.389 0.087 0.41475 0.177 0.82875 0.30225 1.2255z m4.086751 3.16275c0.3465 0.3405 0.696 0.678 1.047 1.014-0.0255-0.27225-0.048-0.54825-0.07275-0.822a5.4165 5.4165 0 0 1-0.975-0.192z m1.047 1.014c0.01425 0.144 0.024 0.2925 0.03825 0.4365 0.0165 0.168 0.26175 0.30825 0.65475 0.4245 0.06675-0.003 0.13275-0.00525 0.1995-0.01125-0.3-0.2805-0.5955-0.56625-0.8925-0.84975z m234.304505-160.687504v0.01575c-0.03 0-0.05925 0.075-0.0855 0.10425h0.303c-0.075-0.075-0.144-0.0825-0.21675-0.12z m4.1625 8.07825c0.15675 0.20925 0.288 0.3735 0.45 0.5925-0.0015-0.0675 0.0015-0.135 0-0.201-0.075-0.0675-0.159-0.11625-0.234-0.18225-0.08025-0.07425-0.13725-0.1395-0.21675-0.20925z m-104.300252 30.780001l-0.48375 0.38025 0.11175 0.0525c0.12525-0.14325 0.2475-0.2895 0.372-0.4335zM686.379812 360.247509l-11.301001 8.91075a91.327502 91.327502 0 0 1 2.460751-1.6425c2.958-2.409 5.931-4.80075 8.84025-7.2675z m-515.736013 50.508001l-61.752001 49.604251 436.26526 343.983009a127.167753 127.167753 0 0 0 4.53375-5.1075c0.07725-0.0915 0.2175-0.1875 0.375-0.2775 0.3675-0.5325 0.7545-1.05225 1.15575-1.563001-0.03-0.006-0.05925-0.0075-0.09-0.015-2.985-0.67125 0.05475-5.4645 4.325251-9.57a70.402502 70.402502 0 0 1 1.5075-2.42475c2.4825-3.858 15.582-9.57375 10.02375-7.6815-0.94725 0.6315-1.26975 0.99375-0.53625 0.174 0.27225-0.09675 0.32175-0.10125 0.53625-0.174 0.7965-0.5325 2.0295-1.2525 3.51525-1.65 1.56-0.4155 2.592-0.67725 3.6825-0.95625 6.6615-7.01475 14.24625-13.0665 21.951001-18.943501a118.962003 118.962003 0 0 0-3.026251-7.23c-0.159-0.34875 0.65475-0.396 0.984001-0.591 0.5865-0.345 1.1745-0.68775 1.761-1.032-0.165-0.72825-0.3195-1.4625-0.46875-2.196-0.153-0.18375-0.3165-0.36975-0.4455-0.54225a10.2435 10.2435 0 0 1-1.391251-1.185c-2.235 0.02925-4.7025-0.0585-5.178-0.09975a215.247755 215.247755 0 0 0-0.05775-3.135z m843.934521 5.97675c0.0735 0.2325 0.1575 0.47175 0.22725 0.705 0.102-0.093 0.1995-0.1875 0.303-0.279z m3.192 3.93c-0.05325 0-0.081 0.36-0.0135 0.45825 0.1035 0.12525 0.2175 0.2505 0.3225 0.3825-0.0975-0.27375-0.16725-0.567-0.28725-0.8175-0.00975-0.015-0.015-0.024-0.02175-0.02325z m-424.756511 18.369001c-0.22275 2.23725-4.1625 0.996 3.381001 2.316-0.15975-0.28275-0.2805-0.6495-0.3705-1.0575l-0.15525-0.1125a70.114502 70.114502 0 0 0-2.855251-1.146z m6.931501 6.132l0.04275 0.1755c0.0375 0.033 0.072 0.066 0.111 0.0975l0.15-0.04275c-0.1005-0.078-0.2025-0.15375-0.30375-0.23025z m0.303 0.2295c0.12975 0.10125 0.25875 0.2025 0.387 0.30525 0.2175 0.054 0.36 0.08325 0.57 0.135a38.909251 38.909251 0 0 1-0.66675-0.525c-0.0975 0.0315-0.1935 0.057-0.29025 0.0855z m0.387 0.30525l-0.15675-0.0375c-0.10425-0.0255-0.24075-0.11625-0.3795-0.225l-0.08325 0.02475c0.102 0.40875 0.21825 0.81 0.33825 1.2105 0.2775-0.1575 0.54975-0.336 0.819-0.53775-0.17775-0.14775-0.35775-0.291-0.53775-0.435z m4.9335 4.1145c-0.1005 0.024-0.20475 0.045-0.3075 0.0675 0.1305 0.2745 0.267 0.4635 0.3 0.26475a1.26 1.26 0 0 0 0.0075-0.33225z m4.17675 1.191c0.18825 0.312 0.38925 0.61725 0.6 0.915 0.44625 0.084 0.92775 0.17175 1.155 0.2025-0.117-0.14775-0.231-0.2865-0.35625-0.4425-0.35025-0.16875-0.85275-0.41025-1.39875-0.675z m-43.263001 64.998002c-0.3225 0.55125-0.5955 1.07325-0.8055 1.497l0.07575 0.06c0.267-0.50475 0.5055-1.0275 0.72975-1.557z m55.169251 212.662505c0.16725 0.12225 0.3345 0.24375 0.50025 0.36825 0.56475 0.01875 0.98625 0.048 1.1625 0.08775a55.588501 55.588501 0 0 0-1.66275-0.45525z m102.885003 1.017a85.302002 85.302002 0 0 0-1.539 2.997l1.6965-1.33725c-0.051-0.5175-0.099-0.95775-0.1575-1.65975z m-100.562253 0.7005c0.291 0.21075 0.579 0.42825 0.8775 0.6255 0.29775 0.1965-0.58125-0.41625-0.8715-0.624-0.00225 0-0.00375-0.00075-0.006-0.00225z m14.067001 56.835001a0.43275 0.43275 0 0 0 0.03075 0.17625l0.09975-0.114-0.1305-0.063z m-43.091251 37.842001c-3.72825 0.7725-7.54575 1.30425-11.234251 2.187-1.14675 0.5985-2.022 1.134-3.51075 1.875l-0.4545 0.27975c-0.0465 0.09525-0.0915 0.18975-0.13875 0.285 4.74-1.91625 11.226-1.6425 15.338251-4.62675z m-15.338251 4.626c-0.1635 0.066-0.324 0.1365-0.48375 0.20775-0.144 0.3855-0.24 0.66-0.34725 0.963l0.15225 0.12c0.231-0.4275 0.46125-0.855 0.67875-1.29z m-0.48375 0.20775l0.05175-0.13725-0.97875 0.60525c0.3-0.16875 0.6075-0.324 0.927-0.468z m0.05175-0.13725l0.57075-0.35475 0.04125-0.08325c-0.17175 0.08325-0.3585 0.1725-0.5475 0.2625-0.02475 0.0645-0.0405 0.11025-0.0645 0.1755z" p-id="7577"></path></svg>
                            </span>
                          </a>
                        
                        
                      
                      
                    </div>
                    <!--buttons end-->

                  </div>
                </div>
                </div>
              </div>
            </nav>
      </div>

 <div class="hero-body ct-body">
  <div class="container">
    <h1 class="title-only animate__animated animate__fadeInUp">
      <span clsss="tran-archives">漫谈前端项目框架搭建</span>
    </h1>
  </div>
</div>

</section>
<section class="ct-body">
  <div class="container">
    <div class="columns is-variable bd-klmn-columns is-4 is-centered">
      <div class="column is-four-fifths">
        <div class="post-body single-content">
          
          <!-- <h1 class="title">
            漫谈前端项目框架搭建
          </h1> -->


          <div class="media">
            
            <figure class="media-left">
              <p class="image is-48x48">

                <img class="is-rounded" src="asset/avatar.png">

              </p>
            </figure>
            
            <div class="media-content">
              <div class="content">
                <p>
                  <span class="date">2023/10/06</span>
                  <span class="tran-posted-in">posted in</span>&nbsp; 
                  
                  <span class="posted-in"><a href='%E5%B7%A5%E7%A8%8B%E5%8C%96.html'>工程化</a></span>
                  
                  

                  

                  <br />
                  <span class="tran-tags">Tags:</span>&nbsp;
                  

                </p>
              </div>
            </div>

          </div>
        </div>
        <article class="markdown-body single-content">
          <p>前端框架搭建是每一个前端工程师都会遇到，特别是在一些小型团队内，没有专门的架构师，所以这项工作就落到一些普通的前端开发工程师手中，这时很多人可能会从网上去查找一些成熟的框架，虽然能够完成项目，但是有可能会存在一些问题：</p>
<ul>
<li>对这些框架不够了解，导致出现问题排查困难，后续升级维护困难。</li>
<li>这类框架一般具有通用属性，并不是根据项目按需搭建，导致功能冗余或者改造成本高。</li>
<li>多个项目多人负责，可能会选择不同的框架，导致标准不统一，协作困难，也难以形成团队技术沉淀。</li>
</ul>
<p>所以，框架搭建是晋升高级前端工程师的必经之路，固有必要探探其究竟。本文不会带大家从编码层面教大家如何写代码，毕竟相关的文章网上比比皆是，本文会带你搞清整个流程和其中的一些关键环节。</p>
<p><figure><img src="media/17281470932731/17281471168320.png" alt="" /></figure></p>
<h2><a id="%E4%BD%95%E4%B8%BA%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>何为软件架构</h2>
<p>在开始整个流程前，我们先开了解一些何为软件架构。</p>
<blockquote>
<p><strong>软件架构</strong>是有关软件整体结构与组件的抽象描述，用于指导大型软件系统各个方面的设计。软件架构会包括软件组件、组件之间的关系，组件特性以及组件间关系的特性。软件架构可以和建筑物的<a href="https://www.tw.3822808.com/baike-%E5%BB%BA%E7%AD%91">架构</a>相比拟。软件架构是构建计算机软件，开发系统以及计划进行的基础，可以列出开发团队需要完成的任务。</p>
<p>----wiki百科</p>
</blockquote>
<p>简言之，软件架构这项工作的实质就是：如何将系统切分成组件，并安排好组件之间的排列关系，以及组件之间的相互通信的方式。目的是更好的对这些组件进行研发维护，可以让系统更容易理解、易于修改、方便维护、并能轻松部署。终极目标是最大化程序员的生产力，同时最小化系统的总运维成本。</p>
<p>当然，很多人可能会说：团队就我一个前端，老夫都是CV一把梭，去TM的架构，项目照样不是完成了。</p>
<p>其实，现在一些成熟的框架比如我们用的Vue，在用脚手架初始化项目后，整个项目架构已初具雏形了。所以开发一些简单的项目是没有什么问题；而且由于前段历史原因，架构这个词在前端领域可能关注度并不高。但是一些大型项目，或者你去看一些著名的开源库内部实现，就会发现，还是能看到软件架构设计的身影，比如MVC、MVVM等其实就是分层架构，重要性不言而喻。</p>
<p>由于本文主题不是讨论架构，就不再赘述，只需要明确一件事，我们搭建的框架目的是为了提升开发效率，保证开发质量。需要遵循一下几点：</p>
<ul>
<li>易用性：框架封装基础核心功能，开发功能需求时，无需关注复杂的技术架构，只需要关注业务编码工作。</li>
<li>扩展性：各系统部分间保持高内聚低耦合，提供扩展接口，在扩展新功能时，不需要对架构进行改动，新功能不对旧功能产生影响。</li>
<li>可维护性：系统划分清晰合理，代码可读性强，文档健全完善；做好规范约束手段，防止架构腐坏。</li>
</ul>
<h2><a id="%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>技术选型</h2>
<p>所谓兵马未动粮草先行，技术栈作为我们项目框架的基石，首先我们需要确定选择什么样的技术栈，这关系到后续的一系列事情。</p>
<p>前端框架搭建过程中，可以从如下几个维度做技术选型：</p>
<ul>
<li>核心：如<a href="https://cn.vuejs.org/">Vue</a>、<a href="https://reactjs.org/">React</a>等，他是我们整个技术栈的核心，一旦确定，后续其他维度都是围绕其进行选择。</li>
<li>路由：现在大部分前端应用都是单页应用，需要前端进行路由控制，所以路由一般是必不可少的。只需要在核心层生态中选择一个合适的即可。比如<a href="https://router.vuejs.org/">VueRouter</a>，<a href="https://reactrouter.com/">ReactRouter</a>。</li>
<li>视觉：主要是组件库和风格的选择，PC和移动端可能会使用不同的组件库。当然如果是做的偏前端的应用，可能现有组件库很难满足要求，目前大部分都是偏中后台的，这时可以选择自建。</li>
<li>数据：这一层不是必须的，一般只有数据交互较复杂的应用才可能会用到，而且目前Hooks也能实现一部分数据管理，只是采用专业的状态管理工具，可以保证大家在认知和实施层面的统一。当然并不绝对，在下就曾经在一个项目中使用hooks管理状态，也没有什么问题。</li>
</ul>
<pre class="line-numbers"><code class="language-typescript">/******* state *******/
const state = reactive({
});
/******* getter *******/
const getter = reactive({
});
/******* actions *******/
const actions = {
};

export const useAppStore = () =&gt; ({ state, getter, ...actions });
</code></pre>
<ul>
<li>构建工具：当下前端开发是离不开工程化的，这一领域目前正处于发展阶段，虽然各种工具层出不穷，但是各有优缺点、不统一也为开发者带来了一些困扰，但是好在，VRA都提供了自己的脚手架，大部分情况我们是可以放行使用的。当然一般成熟的团队都会在其基础上做更多的配置扩展，形成自己内部成熟的框架模板。</li>
<li>插件：现在前端的轮子是比较多的，开发的时候一般建议优先去npm看看是否有现成的轮子，不要做重复的事情。</li>
</ul>
<p><figure><img src="media/17281470932731/17281471168345.png" alt="image-20221127182555242" /><figcaption>image-20221127182555242<figcaption></figure></p>
<p>但是需要注意，npm上的包虽然多，但是质量参差不齐，可以从几个方面去筛选。</p>
<p><figure><img src="media/17281470932731/17281471168356.png" alt="image-20221127183017318" /><figcaption>image-20221127183017318<figcaption></figure></p>
<p>以上是需要进行技术选型的维度，接下来我们就看看通过哪些指标去帮我们做出抉择。</p>
<ul>
<li>选择团队掌握的技术</li>
</ul>
<p>如果选择不熟悉的技术，那么在使用过程中出现风险是不可控的。每种技术都是有它特定的适用场景，开发者经常犯的错误就是盲目追新，当一个新语言、框架、工具出现后，特别是开发者自己学会了这种新技术后，就会有种“拿着锤子找钉子”的感觉，将新技术滥用于各种项目。即使选择较新的技术，也要考虑到学习曲线和开发难度问题，主要结合当前团队的技术特点，熟练程度来考虑。</p>
<ul>
<li>保证统一性</li>
</ul>
<p>对内保持团队技术栈统一，减少因为技术不统一带来的协作维护难度；对外符合行业标准，降低招聘难度，缩短新人进入开发的时间。</p>
<ul>
<li>选择拥有强大生态和社区支撑的开源技术</li>
</ul>
<p>有强大的生态和社区意味着，很多东西你不需要重复去造轮子，或者遇到问题可以很快解决，有更多的选择。从公司层面、使用活跃的技术也比较好招人。另外在选择技术栈时要尽量避免一些公司的KPI成果，有烂尾的风险。</p>
<ul>
<li>选择成长期的技术</li>
</ul>
<p>选择一个技术的最低标准是，技术的生命周期必须显著长于项目的生命周期，好的技术栈永远跑在用户需求前面，是面向未来的。主要考量该技术今后几年是否有人维护，是否在我们项目可预见到的生命期内还能继续开发。如果它不开发了，那么遇到平台升级，遇到第三方组件升级，产生的兼容性问题就很致命。如果当前已经进入开发欠活跃阶段，就要考虑是否不予采用。</p>
<ul>
<li>学会从业务端开始思考</li>
</ul>
<p>选型需要充分地理解业务，理解用户需求，当下需要解决的首要问题，以及可能的风险有哪些，再将目标进行分解，进行具体的技术选型、模型设计、架构设计。处于初创期的业务，选型的基准是灵活。只要一个技术够用并且开发效率足够高，那么就可以选择它。初创的业务往往带有风险性和不确定性，朝令夕改、反复试错是常态，技术必须适应业务的节奏，然后才是其他方面。等业务进入稳定期，选型的基准是可靠。技术始终是业务的基石，当业务稳定了技术不稳，那就会成为业务的一块短板，就必须要修正。当业务进入维护期，选型的基准是妥协。代码永远有变乱的趋势，一般经过一两年就有必要对代码来一次大一点的重构。在这种时候，必须得正视各种遗留代码的迁移成本，如果改变技术选型会带来遗留代码重写，这背后带来的代价业务无法承受，那么我们就不得不考虑在现有技术选型之上做一些小修小补或者螺旋式上升的重构。</p>
<ul>
<li>选择API稳定的技术</li>
</ul>
<p>比较典型的例子就是Angular和Python，API不稳定会导致社区的割裂，也会导致项目升级成本变高、或者无法升级, 最终成为技术债。</p>
<p>当然，对于团队而言也要鼓励学习新的技术、淘汰旧的技术栈。因为一般而言新的技术或解决方案，是为了更高的生产力而诞生的。</p>
<ul>
<li>先验证，后使用</li>
</ul>
<p>对于未经验证的新技术、新理念的引入一定要慎重，一定要在全方位的验证过后，再大规模的使用。新技术、新理念的出现，自然有它的诱惑，慎重并不代表保守，技术总是在不断前进，拥抱变化本身没有问题，但是引入不成熟的技术看似能带来短期的收益，但是它的风险或者是后期的成本可能远远大于收益。记住，技术选型是稳定压倒一切。</p>
<ul>
<li>重视经验</li>
</ul>
<p>技术选型是个很需要经验的活，得有大量的信息积累和输入，再根据具体现实情况输出一个结果。我们在选型的时候最忌讳的是临时抱佛脚、用网上收集一些碎片知识来决策，这是非常危险的，我们得确保自己所有思考都是基于以前的事实，还要弄清楚这些事实背后的假设，这都需要让知识内化形成经验。</p>
<ul>
<li>避免法律纠纷问题</li>
</ul>
<p>选择技术时，要考虑license问题，不要陷入法律纠纷，特别是你参与的产品对外有机会做大做强、面向国际时。</p>
<p>毕竟技术只是实现业务的手段而已，我们也只是实现领导实现目标的工具而已，技术选型有时可能会受业务需求和领导个人偏好影响，不能一概而论，所以这里只是列出技术选型的注意事项，以作参考，具体选型考量还请结合实际情况而定。</p>
<p>做好了技术选型，接下来就只需要把合适的东西扔到合适的地方就行了。所以接下来我们就来看看框架设计。</p>
<h2><a id="%E6%A1%86%E6%9E%B6%E8%AE%BE%E8%AE%A1" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>框架设计</h2>
<p>框架设计我们可以从两个层面来入手：</p>
<p>基础层：主要是从架构层面出发，包含一些基础设施，与业务相关性较低。</p>
<p>应用层：贴近业务，用于解决某一类/个业务，不同的业务可能并不能通用。</p>
<h3><a id="%E5%9F%BA%E7%A1%80%E5%B1%82%E8%AE%BE%E8%AE%A1" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>基础层设计</h3>
<p>首先我们要选择一种架构风格，不同人的喜好、不同的项目会倾向不同架构风格。这里仅列出其中两种风格。</p>
<h4><a id="%E5%B7%A5%E4%BB%B6%E6%A8%A1%E5%9E%8B" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>工件模型</h4>
<ul>
<li>描述：即按照技术工件（如components、store）职责来进行划分。</li>
<li>特点：该方式对开发人员来说易于理解，因为对他们来说技术工件比功能更有亲和力，但是相反不利于对业务功能的理解，且各功能模块间划分不太清晰，开发和维护一个功能可能要在多个目录下操作。</li>
<li>适用场景：该方式比较通用，一般的项目都会采用此方式。不过在大型项目可能会存在每个工件目录存在很多文件，且存在各个模块的文件。</li>
</ul>
<p><figure><img src="media/17281470932731/17281471168366.png" alt="image-20221127195615915" /><figcaption>image-20221127195615915<figcaption></figure></p>
<p><figure><img src="media/17281470932731/17281471168376.png" alt="image-20221127200629453" /><figcaption>image-20221127200629453<figcaption></figure></p>
<h4><a id="%E9%A2%86%E5%9F%9F%E6%A8%A1%E5%9E%8Bhttps-medium-com-nate-wangfeature-oriented-architecture-for-web-applications-2b48e358afb0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a><a href="https://medium.com/@nate_wang/feature-oriented-architecture-for-web-applications-2b48e358afb0">领域模型</a></h4>
<ul>
<li>描述：按照系统功能进行划分，每个功能即为一个文件夹，其下包含自己的component、store、router。</li>
<li>特点：面向业务功能，每个功能包含自身需要的技术工件，仅对外提供一个出口服务即可，由应用整合这些服务，构成整个应用。设计偏向微服务化，开发和维护一个功能仅需关注自身的目录即可；有助于开发人员对业务的理解。</li>
<li>适用场景：特别适合大型项目、且各模块耦合度较低的场景，具有高扩展性。</li>
</ul>
<p><figure><img src="media/17281470932731/17281471168388.png" alt="image-20221127195630260" /><figcaption>image-20221127195630260<figcaption></figure></p>
<p><figure><img src="media/17281470932731/17281471168407.png" alt="图片(1)" /><figcaption>图片(1)<figcaption></figure></p>
<p>因为当前团队，基本是使用第一种风格，后续我就以此为例，在vite+vue3的基础上做叙述。首先展示一下我目前使用的项目结构设计。</p>
<pre class="line-numbers"><code class="language-js">|- docs // 文档
|- dist // 构建成果
|- mock // 数据mock
|- public  // 静态资源，会直接拷贝到dist
|- src
  |- api // api接口管理
  |- assets  // 静态资源，这里的资源会被构建工具编译
  |- components // 全局组件
  |- config // 全局配置
  |- directives // 全局指令
  |- enums // 枚举及一些常量管理
  |- hooks // 全局hooks，用于抽离公用逻辑
  |- layouts // 布局组件
  |- plugins // 第三方插件
  |- router  // 路由
  |- store   // 状态
  |- utils   // 工具函数
  |- views   // 页面
  |- App.vue  // 根组件
  |- main.ts  // 应用入口
|- types   // 类型声明
|- .browserslistrc // 浏览器兼容性配置，可以供多个工具使用
|- .editorconfig // 编辑器配置，统一不同编辑器格式
|- .env.* // 环境变量配置，建议多个环境分别使用不同的文件
|- .npmrc // 统一项目npm镜像源
|- ... // 各工具配置
|- README.md  // 说明，包含项目信息及注意事项
|- index.html // 入口页面
|- vite.config.ts // vite配置
</code></pre>
<p>这里我们可以采用在官方脚手架的基础上来完善，以后可以直接使用，或者开源到社区，供别人使用。</p>
<p>在创建Vue项目，现在推荐使用 <a href="https://github.com/vuejs/create-vue">create-vue</a>。</p>
<pre class="line-numbers"><code class="language-bash">&gt; npm init vue@latest
</code></pre>
<pre class="line-numbers"><code class="language-bash">✔ Project name: … &lt;your-project-name&gt;
✔ Add TypeScript? … No / Yes
✔ Add JSX Support? … No / Yes
✔ Add Vue Router for Single Page Application development? … No / Yes
✔ Add Pinia for state management? … No / Yes
✔ Add Vitest for Unit testing? … No / Yes
✔ Add Cypress for both Unit and End-to-End testing? … No / Yes
✔ Add ESLint for code quality? … No / Yes
✔ Add Prettier for code formatting? … No / Yes

Scaffolding project in ./&lt;your-project-name&gt;...
Done.
</code></pre>
<p>由于脚手架创建的工程已包含基础层需要的大部分功能，在此基础上可根据需求引入如下功能即可：</p>
<ul>
<li>UI组件库：建议尽量采用按需加载方式，目前大部分组件库都支持使用<a href="https://github.com/antfu/unplugin-vue-components">unplugin-vue-components</a>做自动按需引入，比较舒服。</li>
<li>各编译语言：由于html+css+js自身能力局限，我们可以使用一些编译语言来提升开发效率，如less、typescript等等。</li>
</ul>
<p>因为类似的文章网上也比较多写的也比较好，这里就不再赘述。</p>
<p><a href="https://juejin.cn/post/7079785777692934174">手把手教你用 vite + vue3 + ts + pinia + vueuse 打造企业级前端项目</a></p>
<h3><a id="%E5%BA%94%E7%94%A8%E5%B1%82%E8%AE%BE%E8%AE%A1" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>应用层设计</h3>
<p>由于应用层需要结合具体业务情况，这里我就仅谈谈在我开发过程中两个比较常用的功能：</p>
<h4><a id="%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>权限控制</h4>
<p>一般中后台项目都有权限控制这部分功能，这里前端需要关心的主要是两方面：</p>
<h5><a id="%E7%99%BB%E5%BD%95%E8%AE%A4%E8%AF%81" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>登录认证</h5>
<p>这个好理解，只有你登录了，系统才知道你是谁，我们要做的也很简单，只需要登录成功后把后端返回的令牌存储到本地，然后后续每次请求带上该信息，后端去做验证，如果验证通过返回200，不通过返回401，直接踢回登录页或者给出提示，另外在路由全局前置守卫也可以做判断。</p>
<p>实现方案我这里就不献丑了，贴上两篇写的很好的文章：</p>
<p><a href="https://juejin.cn/post/6898630134530752520">前端鉴权的兄弟们：cookie、session、token、jwt、单点登录</a></p>
<p><a href="https://juejin.cn/post/7129298214959710244">一文教你搞定所有前端鉴权与后端鉴权方案，让你不再迷惘</a></p>
<p>下面贴下代码：</p>
<ul>
<li>登录保存认证信息，我这里是token、refreshToken、tokenExpires，需要保存到本地缓存。</li>
</ul>
<p><figure><img src="media/17281470932731/17281471168422.png" alt="image-20221128114406893" /><figcaption>image-20221128114406893<figcaption></figure></p>
<ul>
<li>
<p>请求拦截器注入认证信息，需要根据后端要求去注入，一般都是在header中。</p>
<p><figure><img src="media/17281470932731/17281471168435.png" alt="image-20221128114724023" /><figcaption>image-20221128114724023<figcaption></figure></p>
</li>
</ul>
<p>​		这里有个handleCheckAuth，是做了静默token刷新功能，在token要到期前，使用refreshToken去后台换去新的token，代码如下：</p>
<pre class="line-numbers"><code class="language-ts">/**
 * 刷新token
 * @param {string} refreshToken
 */
export const handleRefreshToken: {
  (token: string | undefined): void;
  refreshDoing?: boolean;
} = (refreshToken) =&gt; {
  if (handleRefreshToken.refreshDoing) return;
  handleRefreshToken.refreshDoing = true; // 加锁，防止重复刷新
  auth
    .refreshToken({ refresh_token: refreshToken })
    .then((res) =&gt; saveAuthData(res))
    .finally(() =&gt; {
      handleRefreshToken.refreshDoing = false;
    });
};
/**
 * 检查更新token
 * @param config
 */
export function handleCheckAuth(config: AxiosRequestConfig) {
  const tokenExpires = Cookie.get(tokenExpiresKey);
  if (Number(tokenExpires) &lt;= Date.now() &amp;&amp; !config.skipCheckAuth) {
    handleRefreshToken(Cookie.get(refreshTokenKey));
  }
}
</code></pre>
<ul>
<li>路由拦截，看注释吧</li>
</ul>
<p><figure><img src="media/17281470932731/17281471168448.png" alt="image-20221128115106273" /><figcaption>image-20221128115106273<figcaption></figure></p>
<h5><a id="%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>权限控制</h5>
<p>所谓权限控制，就是针对不同的用户赋予不同的权限，对应到前端就是根据不同权限的人动态控制呈现不同的资源，这里资源是一个统称，包含页面、按钮、数据等等，比如超管和管理员进入系统看到的菜单和页面中的按钮不一致。</p>
<p>关于系统权限控制如何设计，主要和业务需求有关系，这里我们不去深究，只是了解一下目前比较流行的一种权限模型。</p>
<p>RBAC（基于角色的权限控制）模型的核心是在用户和权限之间引入了角色的概念。取消了用户和权限的直接关联，改为<strong>通过用户关联角色、角色关联权限的方法来间接地赋予用户权限</strong>（如下图），从而达到用户和权限解耦的目的。比如在创建多个权限相同的用户，我们不需要给每个人单独设置权限，只需要将他们赋予相同的角色即可。</p>
<p><figure><img src="media/17281470932731/17281471168461.png" alt="img" /><figcaption>img<figcaption></figure></p>
<p>目前我们大部分系统都是使用该模型，下面我们也就基于该模型来看看前端如何进行权限控制。</p>
<p>其实现在网上讲前端权限控制的文章有很多，总结起来大体思路是，登录成功后获取用户当前的权限数据，然后动态添加路由，生成菜单，页内元素可以通过指令或者vif实现控制。实现方案上有如下两个流派：</p>
<h6><a id="%E5%89%8D%E7%AB%AF%E6%8E%A7%E5%88%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>前端控制</h6>
<p>整个动态路由表是放在前端，每个路由通过meta.role设置允许访问的角色，登录后后台返回当前用户的role标识信息，前端根据这个role去和路由的meta.role做匹配，清洗出匹配的路由，然后动态注册仅路由。由于只是返回了role信息，所以菜单是需要后端另外提供的。</p>
<pre class="line-numbers"><code class="language-js">// asyncRoutes 动态路由表
export const asyncRoutes = [
  {
    path: '/permission',
    component: Layout,
    redirect: '/permission/page',
    alwaysShow: true, 
    name: 'Permission',
    meta: {
      title: 'Permission',
      icon: 'lock',
      // admin、editor可以查看该路由
      roles: ['admin', 'editor']
    },
    children: [
      {
        path: 'page',
        component: () =&gt; import('@/views/permission/page'),
        name: 'PagePermission',
        meta: {
          title: 'Page Permission',
          // admin可以查看该路由
          roles: ['admin']
        }
      }
     ]
    }
]
</code></pre>
<pre class="line-numbers"><code class="language-js">// 这个方法是用来把角色和route.meta.role来进行匹配
function hasPermission(roles, route) {
  if (route.meta &amp;&amp; route.meta.roles) {
    return roles.some(role =&gt; route.meta.roles.includes(role))
  } else {
    return true
  }
}


// 这个方法是通过递归来遍历路由，把有权限的路由给遍历出来
export function filterAsyncRoutes(routes, roles) {
  const res = []
  routes.forEach(route =&gt; {
    const tmp = { ...route }
    if (hasPermission(roles, tmp)) {
      if (tmp.children) {
        tmp.children = filterAsyncRoutes(tmp.children, roles)
      }
      res.push(tmp)
    }
  })
  return res
}
</code></pre>
<p>除了上述说的后端返回role标识，还有一种变种大家可以查看该文章<a href="https://refined-x.com/2017/11/28/Vue2.0%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#%E8%B7%AF%E7%94%B1%E6%8E%A7%E5%88%B6">Vue2.0用户权限控制解决方案/#路由控制</a>。</p>
<p>前端控制的特点如下：</p>
<ul>
<li>路由表在前端维护，变动比较方便，对前端比较友好。</li>
<li>实现逻辑比较简单，上手难度低。</li>
<li>后期修改角色权限难度较大，需要修改前端代码，不支持在后台系统中动态配置角色权限。</li>
</ul>
<h6><a id="%E5%90%8E%E7%AB%AF%E6%8E%A7%E5%88%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>后端控制</h6>
<p>接下来看看后端控制，主要区别就是把路由表挪到了后端，前端可以直接或简单转换使用后端返回的路由表数据注册路由，一般这份数据是可以直接生成菜单数据的，固不需要再单独返回菜单信息。</p>
<p><figure><img src="media/17281470932731/17281471168473.png" alt="image-20221128160927872" /><figcaption>image-20221128160927872<figcaption></figure></p>
<p>该方案的特点如下：</p>
<ul>
<li>可以在后台动态配置，可以实现角色权限灵活配置。下图是之前做过的系统，整个菜单树都可以在后台灵活组装，灵活度很高。</li>
</ul>
<p><figure><img src="media/17281470932731/17281471168487.png" alt="image-20221128163522794" /><figcaption>image-20221128163522794<figcaption></figure></p>
<ul>
<li>前端实现比较简单，不用自己维护路由表。</li>
<li>由于前端不自己维护路由表，那么要调整路由必须就得去后台，比如每开发一个新页面就需要去后台配置对应的菜单路由信息，而且还必须和前端对应起来。</li>
<li>前后端划分的方式可能有差异，比如某个列表页每条数据的查看详情是新开页面，在后端看来详情亦属于查看，如果能够查看列表肯定就能查看详情，不需要单独配置菜单，但是因为是新开页面，前端就需要一个新的路由，即使能够单独创建一个详情的权限，在后端的划分中，详情应该是属于这个列表页的下级，但是在前端可能需要的是同级，而不是嵌套在列表页路由的children中。</li>
</ul>
<h6><a id="%E6%94%B9%E8%89%AF%E4%B8%80%E4%B8%8B" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>改良一下</h6>
<p>我们可以看到如上两种方案都不是完美的，所以我在项目中采用了另外的方式，基于后端控制做了改良。思路如下：</p>
<ol>
<li>
<p>后台菜单配置时，不再配置url和组件相关信息，毕竟这部分内容是前端路由使用的，前端控制更加合适，也方便前端做调整。然后仅需要填写一个权限表示码就行，降低了前后端数据的耦合性，也就不存在划分不一致带来的问题了。</p>
<p><figure><img src="media/17281470932731/17281471168502.png" alt="image-20221128171252175" /><figcaption>image-20221128171252175<figcaption></figure></p>
</li>
<li>
<p>后台给角色设置拥有的菜单、按钮等资源的权限。</p>
<p><figure><img src="media/17281470932731/17281471168517.png" alt="image-20221128171444752" /><figcaption>image-20221128171444752<figcaption></figure></p>
</li>
<li>
<p>前端维护路由表，和正常路由差不多，但是不用默认注册，而且需要控制的路由要有meta.permission，和前面后台设置的权限标识码对应就行。如果没有permission标识，可以保留或者舍弃，这个根据需求来决定使用哪种方式，我采用的是保留。比如上面我们说的查看详情那里，我就可以不设置permission，这样只要用户有当前菜单的权限（即列表页），那么就不用再设置查看详情的权限了。</p>
<pre class="line-numbers"><code class="language-json"> {
    path: '/system',
    name: 'system',
    redirect: '/system/department',
    meta: {
      permission: 'system' // 权限标识码
    },
    children: [
      {
        path: '/system/role',
        name: 'role',
        component: () =&gt; import('@/views/system/Role.vue'),
        meta: {
          permission: 'system/role'
        }
      }
   ]
}
</code></pre>
</li>
<li>
<p>前端登录成功以后，后端提供如下菜单数据。</p>
</li>
</ol>
<pre class="line-numbers"><code class="language-json">[
  {
    &quot;id&quot;: 1,
    &quot;permission&quot;: &quot;system&quot;, // 前面填写的权限标识码
    &quot;name&quot;: &quot;系统管理&quot;,
    &quot;type&quot;: 0,
    &quot;parentId&quot;: 0
  },
  {
    &quot;id&quot;: 2,
    &quot;permission&quot;: &quot;system/role&quot;,
    &quot;name&quot;: &quot;角色管理&quot;,
    &quot;type&quot;: 0,
    &quot;parentId&quot;: 1
  },

  {
    &quot;id&quot;: 3,
    &quot;permission&quot;: &quot;system/menu&quot;,
    &quot;name&quot;: &quot;菜单管理&quot;,
    &quot;type&quot;: 0,
    &quot;parentId&quot;: 1
  },
  {
    &quot;id&quot;: 4,
    &quot;permission&quot;: &quot;user&quot;,
    &quot;name&quot;: &quot;用户管理&quot;,
    &quot;type&quot;: 0,
    &quot;parentId&quot;: 0
  },
  // ....
]
</code></pre>
<ol start="5">
<li>
<p>通过将菜单表和路由表通过permission权限标识码进行匹配，做数据处理。这里数据处理可能比较复杂一点，需要输出两份数据</p>
<ul>
<li>
<p>路由：根据菜单的permission，将路由表中的数据做清洗，去掉permission在菜单中没有的路由。另外一点就是把菜单数据添加到路由的meta中，主要为了方便通过当前路由获取当前的菜单信息。这个数据用于注册动态路由。</p>
<pre class="line-numbers"><code class="language-json">{
    &quot;path&quot;: &quot;/system&quot;,
    &quot;name&quot;: &quot;system&quot;,
    &quot;redirect&quot;: &quot;/system/config&quot;,
    &quot;meta&quot;: {
        &quot;permission&quot;: &quot;system&quot;,
        &quot;id&quot;: 1,
        &quot;title&quot;: &quot;系统管理&quot;,
        &quot;type&quot;: 0,
        &quot;priority&quot;: 0,
        &quot;icon&quot;: &quot;icon-setting&quot;,
        &quot;parentId&quot;: 0
    },
    &quot;children&quot;: [
        {
            &quot;path&quot;: &quot;/system/config&quot;,
            &quot;name&quot;: &quot;config&quot;,
            &quot;meta&quot;: {
                &quot;permission&quot;: &quot;system/config&quot;,
                &quot;id&quot;: 2,
                &quot;title&quot;: &quot;系统配置&quot;,
                &quot;type&quot;: 0,
                &quot;priority&quot;: 0,
                &quot;icon&quot;: &quot;icon-setting&quot;,
                &quot;parentId&quot;: 1
            }
        },
        ...
    ]
}
</code></pre>
</li>
<li>
<p>菜单：因为现在菜单设置没有设置url了，所以我们要通过permission去找到对应的路由，然后将其path作为url。该数据用于显示导航菜单。</p>
<pre class="line-numbers"><code class="language-json">[{
    &quot;id&quot;: 1,
    &quot;permission&quot;: &quot;system&quot;,
    &quot;title&quot;: &quot;系统管理&quot;,
    &quot;type&quot;: 0,
    &quot;priority&quot;: 0,
    &quot;icon&quot;: &quot;icon-setting&quot;,
    &quot;parentId&quot;: 0,
    &quot;url&quot;: &quot;/system&quot;
},{
    &quot;id&quot;: 2,
    &quot;permission&quot;: &quot;system/config&quot;,
    &quot;title&quot;: &quot;系统配置&quot;,
    &quot;type&quot;: 0,
    &quot;priority&quot;: 0,
    &quot;icon&quot;: &quot;icon-setting&quot;,
    &quot;parentId&quot;: 1,
    &quot;url&quot;: &quot;/system/config&quot;
}]
</code></pre>
</li>
</ul>
</li>
</ol>
<p><figure><img src="media/17281470932731/17281471168530.png" alt="image-20221128172904940" /><figcaption>image-20221128172904940<figcaption></figure></p>
<p>该方案的特点是：</p>
<ul>
<li>前后端解耦，上帝的归上帝,凯撒的归凯撒，而且仅需保证permission对应就行。</li>
<li>菜单表和路由表进行匹配处理的时候，算法复杂一点。</li>
</ul>
<p>基于该套方案，我这边进行了封装，可以直接进行使用<a href="https://github.com/BWrong/auth-tool.git">auth-tool</a>。</p>
<p><strong>注意：</strong></p>
<ul>
<li>路由控制这一步不能少，否则即使菜单没有入口了，但是用户通过输入url地址还是能访问无权限的页面。路由控制除了动态路由还有一种方案就是全量注册路由，然后在前置守卫每次跳转去做验证判断，没权限重定向到403页面。</li>
<li>前端做权限控制只是锦上添花，不是绝对安全，一定需要后端做验证来兜底，后端需要对每一个涉及请求的操作做验证。</li>
</ul>
<p>另外简单说一说页内元素的控制吧，其实比较简单，后端同样返回有权限的数据，前端通过自定义指令或者Vif做下判断就行。<a href="https://github.com/BWrong/auth-tool.git">auth-tool</a>也做了封装，需要的自己查看源码吧。</p>
<pre class="line-numbers"><code class="language-typescript">Vue.directive(directiveName, {
  mounted(el:Element, binding) {
    !hasAuth(binding.value) &amp;&amp; el.parentNode?.removeChild(el);
  }
});
</code></pre>
<h4><a id="%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>数据请求</h4>
<p>另外一个比较重要的功能就是请求的封装了，其实axios本身还是比较成熟了，之所以要把这个单独拿出来说，主要是之前在项目上遇到过一些问题。</p>
<ul>
<li>
<p>请求建议集中管理，可以按照业务进行模块划分，页面中只需要调用这里提供的方法就行。不建议直接写在页面上，不方便维护，万一接口url做了调整，你都不知道那些页面使用了，只有全局去替换。</p>
<p><figure><img src="media/17281470932731/17281471168544.png" alt="image-20221128180115019" /><figcaption>image-20221128180115019<figcaption></figure></p>
</li>
</ul>
<pre class="line-numbers"><code class="language-typescript">import { get } from '../../utils/request';
import type { RequestConfig } from '@/utils/request/Request';
const prefix = '/system/config';
export default { list: &lt;T = any&gt;(params: object, config?: RequestConfig) =&gt; get&lt;T&gt;(`${prefix}`, params, config) };
</code></pre>
<ul>
<li>如果存在多个服务器，而且配置可能有差异的时候，建议对axios进行类封装，不同的服务器使用不同的实例。同样贴上两篇优秀的文章
<ul>
<li><a href="https://juejin.cn/post/7124573626161954823">前端架构带你 封装axios，一次封装终身受益</a></li>
<li><a href="https://juejin.cn/post/7071518211392405541">在项目中用ts封装axios，一次封装整个团队受益</a></li>
</ul>
</li>
</ul>
<p>我在项目中也封装了一个，展示还没有单独提取出来，有兴趣的可以看看<a href="https://cdn.jsdelivr.net/gh/BWrong/Pictures@master/uPic/20221128181306.ts">这里</a></p>
<pre class="line-numbers"><code class="language-plain_text">   * 1. 多实例，在存在多个请求服务时使用
   * 2. 拦截器增强，支持全局拦截器和实例拦截器，执行顺序采用洋葱模型
   * 3. 支持重复请求取消功能，重复请求：url、method、参数均一致为重复，也可以自己传入判断函数
   * 4. 支持直接请求绝对地址
   * 5. ts类型推断增强，更好的类型提示
</code></pre>
<h2><a id="%E5%85%B6%E4%BB%96" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>其他</h2>
<h4><a id="%E8%A7%84%E8%8C%83%E7%BA%A6%E5%AE%9A" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>规范约定</h4>
<p>如果项目中存在多人开发，那么规范和约定就必不可少，除了我们要形成团队的一些规范文档外，在框架上我们也可以通过工程化去约束：</p>
<ul>
<li>使用eslint，如果团队有统一的规范，建议直接发布为rule插件。</li>
<li>使用githooks做提交前的验证，当然最保险的还是在流水线去做这个事情，毕竟本地是可以绕过的。</li>
</ul>
<pre class="line-numbers"><code class="language-json">&quot;gitHooks&quot;: {
    &quot;pre-commit&quot;: &quot;lint-staged --allow-empty&quot;
  },
  &quot;lint-staged&quot;: {
    &quot;*.{vue,js,jsx,cjs,mjs,ts,tsx}&quot;: [
      &quot;npm run lint&quot;,
      &quot;prettier --write&quot;
    ],
    &quot;*.{css,less}&quot;: [
      &quot;npm run lint:style&quot;,
      &quot;prettier --write&quot;
    ]
  }
</code></pre>
<h4><a id="%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>版本管理</h4>
<p>关于版本管理这块，我之前遇到过得问题就是给多个用户部署不同的版本，但是当某个用户出问题时，不能第一时间知道该用户部署的代码是什么时候的。所以后来在构建时注入了相关信息。</p>
<pre class="line-numbers"><code class="language-ts">import { GitRevisionPlugin } from 'git-revision-webpack-plugin';
import pkg from './package.json';
let appVersion = `app-version=${pkg.version},build-time=${new Date().toLocaleString()}`;
  if (IS_PRODUCTION) {
    try {
      const GitRevision = new GitRevisionPlugin();
      appVersion += `,git-hash=${GitRevision.version()},git-branch=${GitRevision.branch()}`;
    } catch (error) {
      console.warn('无法获取git信息,无法注入相关内容!');
    }
  }
  
  ...
   createHtmlPlugin({
        minify: true,
        entry: '/src/main.ts',
        // template: 'index.html',
        inject: {
          data: {
            BASE_URL: VITE_BASE_URL,
            title: VITE_TITLE,
            appVersion
          }
        }
      }),
</code></pre>
<p><figure><img src="media/17281470932731/17281471168559.png" alt="image-20221128182524845" /><figcaption>image-20221128182524845<figcaption></figure></p>
<p>然后关于更新日志和版本发布，可以使用<a href="https://github.com/release-it/release-it">release-it</a>或<a href="https://github.com/conventional-changelog/standard-version#readme">standard-version</a>去做。</p>
<h4><a id="%E6%9E%84%E5%BB%BA%E4%BC%98%E5%8C%96" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>构建优化</h4>
<p>优化主要是两个方向：</p>
<ul>
<li>运行时：提升程序运行效率，就是常规的性能优化手段都可以用上，比如gzip、分包、按需加载等等。</li>
<li>开发时：主要是加快构建速度，提升开发效率，有几个思路可以考虑，减少构建的范围、利用缓存、使用多进程。</li>
</ul>
<h4><a id="%E8%84%9A%E6%89%8B%E6%9E%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>脚手架</h4>
<p>当你的框架成熟后，可以自己封装一个脚手架，可以做一些定制化的配置，这个比较简单，感兴趣的查看<a href="https://juejin.cn/post/6924205809349951501">用vue3+ts+electron撸了一个好用的脚手架工具</a>，这样团队成员使用起来就比较方便，也比较好管理。</p>
<h2><a id="%E7%BB%93%E8%AF%AD" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>结语</h2>
<p>算了，下班了，没时间写了。</p>

        </article>
        <div class="comments-wrap">
          <div class="share-comments">
            

            

            
          </div>
        </div><!-- end comments wrap -->
        <p class="meta post-nav">
          
          <a class="basic-alignment left" href="17280336310867.html"
            title="Previous Post: 利用微信第三方平台发布零码小程序">&laquo; 利用微信第三方平台发布零码小程序</a>
          
          
          <a class="basic-alignment right" href="17280550301505.html" title="Next Post: TypeScript --- 进阶篇">TypeScript --- 进阶篇 &raquo;</a>
          
        </p>
      </div>
    </div><!-- end columns -->
    <!-- 畅言 -->
    
  </div><!-- end container -->

  <div class="toc-widget animate__animated animate__fadeInRight">
    <div id="toc-content"></div>
  </div>

</section>
<style>
  .post-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 40px;
    border-top: 1px dashed #eee;
    padding: 14px 0;
  }

  .toc-widget {
    overflow-y: auto;
    position: fixed;
    right: 0;
    top: 180px;
    margin: 20px 0 0 0;
    padding: 20px;
    transition: top .5s ease;
    max-width: 300px;
    overflow-x: hidden;
  }

  .toc-widget.toc-fixed {
    top: 0;
  }

  @media (max-width: 991px) {
    .toc-widget {
      display: none !important;
    }
  }

  .toc-widget .toc-list {
    overflow: hidden;
    position: relative
  }

  .toc-widget .toc-list li {
    list-style: none
  }

  .toc-list {
    margin: 0;
    padding-left: 24px
  }

  a.toc-link {
    color: currentColor;
    max-width: 20em;
    display: block;
    white-space: nowrap;
  }

  .is-collapsible {
    max-height: 1000px;
    overflow: hidden;
    transition: all 300ms ease-in-out
  }

  .is-collapsed {
    max-height: 0
  }

  .is-position-fixed {
    position: fixed !important;
    top: 0
  }

  .is-active-link {
    font-weight: 700
  }

  .toc-link::before {
    background-color: #EEE;
    content: ' ';
    display: inline-block;
    height: inherit;
    left: 0;
    margin-top: -1px;
    position: absolute;
    width: 2px
  }

  .is-active-link::before {
    background-color: #54BC4B
  }
</style>
<script src="asset/tocbot.min.js"></script>
<script>
  // 获取窗口高度
  function getWindowHeight() {
    return window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
  }
  let offsetHeight = getWindowHeight() * 0.4 - 45;
  tocbot.init({
    tocSelector: '#toc-content',
    contentSelector: '.markdown-body',
    headingsOffset: -offsetHeight,
    // headingsOffset: -205,
    headingSelector: 'h1,h2,h3' //**
  });

  // 修改TOC链接的href
  let tocHeading = 'toc-heading-';
  var tocLinks = document.querySelectorAll('#toc-content a');
  for (var i = 0; i < tocLinks.length; i++) {
    tocLinks[i].setAttribute('href', '#' + tocHeading + (i + 1));
  }

  // 修改标题的id
  var headings = document.querySelectorAll('.markdown-body h1, .markdown-body h2, .markdown-body h3');
  for (var i = 0; i < headings.length; i++) {
    headings[i].setAttribute('id', tocHeading + (i + 1));
  }

  // 设置滚动TOC固定
  var tocWidget = document.querySelector('.toc-widget');
  var tocHeight = parseInt(offsetHeight);
  window.addEventListener('scroll', function () {
    var scroll = window.scrollY || document.documentElement.scrollTop || document.body.scrollTop;
    if (scroll > tocHeight) {
      tocWidget.classList.add('toc-fixed');
    } else {
      tocWidget.classList.remove('toc-fixed');
    }
  });
</script>  <footer class="footer">
  <div class="content has-text-centered">
    <p>
      Powered by <a href="https://zh.mweb.im/" target="_blank" title="Gridea"><span>MWeb</span></a>
      
      . 版权所有：<a href="https://beian.miit.gov.cn/" target="_blank"><span>蜀ICP备2023018303号-1</span></a> .
      
    </p>
  </div>
</footer>

<script>(n=>{"use strict";let s,r,e;const l=["cdn.jsdelivr.net","fastly.jsdelivr.net","gcore.jsdelivr.net","cdn.zenless.top","testingcf.jsdelivr.net"],t="//",i=l[0],o=Date.now(),a=2e3,c="jsdelivr-auto-fallback",f="/gh/PipecraftNet/jsdelivr-auto-fallback@main/empty.css?",d=e=>e&&e.includes(t+i),m=e=>e.replace(t+i,t+s),u=window.setTimeout,v=n.querySelectorAll.bind(n),b=()=>{let e,t;for(e of v('link[rel="stylesheet"]'))t=e.href,d(t)&&!t.includes(f)&&(e.href=m(t));for(e of v("script"))if(t=e.src,d(t)){const s=n.createElement("script");s.src=m(t),e.defer=!0,e.src="",e.before(s),e.remove()}for(e of v("img"))t=e.src,d(t)&&(e.src="",e.src=m(t));for(e of v("*[style]"))t=e.getAttribute("style"),d(t)&&e.setAttribute("style",m(t));for(e of v("style"))t=e.innerHTML,d(t)&&(e.innerHTML=m(t))},h=()=>{!e&&r&&s&&(console.warn(i+" is not available. Use "+s),e=!0,u(b,0),u(b,20),setInterval(b,500))},g=(()=>{try{return Object.assign({},JSON.parse(localStorage.getItem(c)||"{}"))}catch{return{}}})(),y=()=>{g.time=o,g.failed=!1,g.fastNode=null;for(const t of l)((e,t)=>{let s;const r=n.createElement("link"),l=e=>{s&&(clearTimeout(s),s=0,e||(r.href="data:text/css;base64,"),r.remove(),t(e))};s=u(l,a),r.addEventListener("error",()=>l(!1)),r.addEventListener("load",()=>l(!0)),r.rel="stylesheet",r.text="text/css",r.href=e+f+o,n.head.insertAdjacentElement("afterbegin",r)})("https://"+t,e=>{e||t!==i||(r=!0,g.failed=!0),e&&!s&&(s=t),e&&!g.fastNode&&(g.fastNode=t),h()});u(()=>{r&&!s&&(s=l[1],h()),localStorage.setItem(c,JSON.stringify(g))},a+100)};if(g.time&&o-g.time<36e5&&g.failed&&g.fastNode)r=!0,s=g.fastNode,h(),u(y,1e3);else if(n.head)y();else{const j=new MutationObserver(()=>{n.head&&(j.disconnect(),y())});j.observe(n,{childList:!0,subtree:!0})}})(document);</script>
<style>.mweb-charts{background:#fff;}
body{ box-sizing: border-box;
    margin: 0 auto;}
@media print{
    pre, code, pre code {
     overflow: visible !important;
     white-space: pre-wrap !important;       /* css-3 */
     white-space: -moz-pre-wrap !important;  /* Mozilla, since 1999 */
     white-space: -pre-wrap !important;      /* Opera 4-6 */
     white-space: -o-pre-wrap !important;    /* Opera 7 */
     word-wrap: break-word !important;       /* Internet Explorer 5.5+ */
    }
    html,body{margin:0;padding:4px;}
}



div.code-toolbar {
  position: relative;
}

div.code-toolbar > .toolbar {
  position: absolute;
  z-index: 10;
  top: .3em;
  right: .2em;
  transition: opacity 0.3s ease-in-out;
  opacity: 0;
}

div.code-toolbar:hover > .toolbar {
  opacity: 1;
}

/* Separate line b/c rules are thrown out if selector is invalid.
   IE11 and old Edge versions don't support :focus-within. */
div.code-toolbar:focus-within > .toolbar {
  opacity: 1;
}

div.code-toolbar > .toolbar > .toolbar-item {
  display: inline-block;
}

div.code-toolbar > .toolbar > .toolbar-item > a {
  cursor: pointer;
}

div.code-toolbar > .toolbar > .toolbar-item > button {
  background: none;
  border: 0;
  color: inherit;
  font: inherit;
  line-height: normal;
  overflow: visible;
  padding: 0;
  -webkit-user-select: none; /* for button */
  -moz-user-select: none;
  -ms-user-select: none;
}

div.code-toolbar > .toolbar > .toolbar-item > a,
div.code-toolbar > .toolbar > .toolbar-item > button,
div.code-toolbar > .toolbar > .toolbar-item > span {
  color: inherit;
  font-size: .8em;
  padding: 4px .5em;
  background: #f5f2f0;
  background: rgba(224, 224, 224, 0.4);
  box-shadow: 0 2px 0 0 rgba(0,0,0,0.2);
  border-radius: .5em;
}

div.code-toolbar > .toolbar > .toolbar-item > a:hover,
div.code-toolbar > .toolbar > .toolbar-item > a:focus,
div.code-toolbar > .toolbar > .toolbar-item > button:hover,
div.code-toolbar > .toolbar > .toolbar-item > button:focus,
div.code-toolbar > .toolbar > .toolbar-item > span:hover,
div.code-toolbar > .toolbar > .toolbar-item > span:focus {
  color: inherit;
  text-decoration: none;
}
</style><script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script><script>!function(){if("undefined"!=typeof Prism&&"undefined"!=typeof document){var e=[],t={},n=function(){};Prism.plugins.toolbar={};var a=Prism.plugins.toolbar.registerButton=function(n,a){var r;r="function"==typeof a?a:function(e){var t;return"function"==typeof a.onClick?((t=document.createElement("button")).type="button",t.addEventListener("click",(function(){a.onClick.call(this,e)}))):"string"==typeof a.url?(t=document.createElement("a")).href=a.url:t=document.createElement("span"),a.className&&t.classList.add(a.className),t.textContent=a.text,t},n in t?console.warn('There is a button with the key "'+n+'" registered already.'):e.push(t[n]=r)},r=Prism.plugins.toolbar.hook=function(a){var r=a.element.parentNode;var l=a.element.classList;if(l.contains('language-mermaid') || l.contains('language-echarts') || l.contains('language-plantuml')){return;} if(r&&/pre/i.test(r.nodeName)&&!r.parentNode.classList.contains("code-toolbar")){var o=document.createElement("div");o.classList.add("code-toolbar"),r.parentNode.insertBefore(o,r),o.appendChild(r);var i=document.createElement("div");i.classList.add("toolbar");var l=e,d=function(e){for(;e;){var t=e.getAttribute("data-toolbar-order");if(null!=t)return(t=t.trim()).length?t.split(/\s*,\s*/g):[];e=e.parentElement}}(a.element);d&&(l=d.map((function(e){return t[e]||n}))),l.forEach((function(e){var t=e(a);if(t){var n=document.createElement("div");n.classList.add("toolbar-item"),n.appendChild(t),i.appendChild(n)}})),o.appendChild(i)}};a("label",(function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-label")){var n,a,r=t.getAttribute("data-label");try{a=document.querySelector("template#"+r)}catch(e){}return a?n=a.content:(t.hasAttribute("data-url")?(n=document.createElement("a")).href=t.getAttribute("data-url"):n=document.createElement("span"),n.textContent=r),n}})),Prism.hooks.add("complete",r)}}();</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/toolbar/prism-toolbar.min.css"><script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script><style>div.code-toolbar > .toolbar > .toolbar-item > a, div.code-toolbar > .toolbar > .toolbar-item > button, div.code-toolbar > .toolbar > .toolbar-item > span {padding: 4px .5em; background: #f5f2f0; background: rgba(224, 224, 224, 0.4);}</style>



<!-- 看板娘 -->
<script type="text/javascript">
  // live2d_path 参数建议使用绝对路径
const live2d_path = "https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/";
//const live2d_path = "/live2d-widget/";

// 封装异步加载资源的方法
function loadExternalResource(url, type) {
	return new Promise((resolve, reject) => {
		let tag;

		if (type === "css") {
			tag = document.createElement("link");
			tag.rel = "stylesheet";
			tag.href = url;
		}
		else if (type === "js") {
			tag = document.createElement("script");
			tag.src = url;
		}
		if (tag) {
			tag.onload = () => resolve(url);
			tag.onerror = () => reject(url);
			document.head.appendChild(tag);
		}
	});
}

// 加载 waifu.css live2d.min.js waifu-tips.js
if (screen.width >= 768) {
	Promise.all([
		loadExternalResource(live2d_path + "waifu.css", "css"),
		loadExternalResource(live2d_path + "live2d.min.js", "js"),
		loadExternalResource(live2d_path + "waifu-tips.js", "js")
	]).then(() => {
		// 配置选项的具体用法见 README.md
		initWidget({
			waifuPath: live2d_path + "waifu-tips.json",
			//apiPath: "https://live2d.fghrsh.net/api/",
			cdnPath: "https://fastly.jsdelivr.net/gh/fghrsh/live2d_api/",
			tools: ["hitokoto", "asteroids", "switch-model", "switch-texture", "photo",  "quit"]
		});
	});
}
</script>
</body>

</html>